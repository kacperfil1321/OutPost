function u0(a,i){for(var s=0;s<i.length;s++){const l=i[s];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in a)){const f=Object.getOwnPropertyDescriptor(l,c);f&&Object.defineProperty(a,c,f.get?f:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function s(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(c){if(c.ep)return;c.ep=!0;const f=s(c);fetch(c.href,f)}})();function c0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var zd={exports:{}},El={};var Ag;function h0(){if(Ag)return El;Ag=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(l,c,f){var p=null;if(f!==void 0&&(p=""+f),c.key!==void 0&&(p=""+c.key),"key"in c){f={};for(var y in c)y!=="key"&&(f[y]=c[y])}else f=c;return c=f.ref,{$$typeof:a,type:l,key:p,ref:c!==void 0?c:null,props:f}}return El.Fragment=i,El.jsx=s,El.jsxs=s,El}var Rg;function d0(){return Rg||(Rg=1,zd.exports=h0()),zd.exports}var S=d0(),Md={exports:{}},Ie={};var Lg;function f0(){if(Lg)return Ie;Lg=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),O=Symbol.iterator;function A(j){return j===null||typeof j!="object"?null:(j=O&&j[O]||j["@@iterator"],typeof j=="function"?j:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,V={};function Z(j,Q,oe){this.props=j,this.context=Q,this.refs=V,this.updater=oe||N}Z.prototype.isReactComponent={},Z.prototype.setState=function(j,Q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Q,"setState")},Z.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function B(){}B.prototype=Z.prototype;function G(j,Q,oe){this.props=j,this.context=Q,this.refs=V,this.updater=oe||N}var se=G.prototype=new B;se.constructor=G,k(se,Z.prototype),se.isPureReactComponent=!0;var be=Array.isArray;function ge(){}var U={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function Re(j,Q,oe){var le=oe.ref;return{$$typeof:a,type:j,key:Q,ref:le!==void 0?le:null,props:oe}}function st(j,Q){return Re(j.type,Q,j.props)}function je(j){return typeof j=="object"&&j!==null&&j.$$typeof===a}function Ue(j){var Q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(oe){return Q[oe]})}var Gt=/\/+/g;function Ye(j,Q){return typeof j=="object"&&j!==null&&j.key!=null?Ue(""+j.key):Q.toString(36)}function Ge(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ge,ge):(j.status="pending",j.then(function(Q){j.status==="pending"&&(j.status="fulfilled",j.value=Q)},function(Q){j.status==="pending"&&(j.status="rejected",j.reason=Q)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function $(j,Q,oe,le,de){var me=typeof j;(me==="undefined"||me==="boolean")&&(j=null);var He=!1;if(j===null)He=!0;else switch(me){case"bigint":case"string":case"number":He=!0;break;case"object":switch(j.$$typeof){case a:case i:He=!0;break;case x:return He=j._init,$(He(j._payload),Q,oe,le,de)}}if(He)return de=de(j),He=le===""?"."+Ye(j,0):le,be(de)?(oe="",He!=null&&(oe=He.replace(Gt,"$&/")+"/"),$(de,Q,oe,"",function(bi){return bi})):de!=null&&(je(de)&&(de=st(de,oe+(de.key==null||j&&j.key===de.key?"":(""+de.key).replace(Gt,"$&/")+"/")+He)),Q.push(de)),1;He=0;var dt=le===""?".":le+":";if(be(j))for(var St=0;St<j.length;St++)le=j[St],me=dt+Ye(le,St),He+=$(le,Q,oe,me,de);else if(St=A(j),typeof St=="function")for(j=St.call(j),St=0;!(le=j.next()).done;)le=le.value,me=dt+Ye(le,St++),He+=$(le,Q,oe,me,de);else if(me==="object"){if(typeof j.then=="function")return $(Ge(j),Q,oe,le,de);throw Q=String(j),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return He}function ue(j,Q,oe){if(j==null)return j;var le=[],de=0;return $(j,le,"","",function(me){return Q.call(oe,me,de++)}),le}function ne(j){if(j._status===-1){var Q=j._result;Q=Q(),Q.then(function(oe){(j._status===0||j._status===-1)&&(j._status=1,j._result=oe)},function(oe){(j._status===0||j._status===-1)&&(j._status=2,j._result=oe)}),j._status===-1&&(j._status=0,j._result=Q)}if(j._status===1)return j._result.default;throw j._result}var Me=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},he={map:ue,forEach:function(j,Q,oe){ue(j,function(){Q.apply(this,arguments)},oe)},count:function(j){var Q=0;return ue(j,function(){Q++}),Q},toArray:function(j){return ue(j,function(Q){return Q})||[]},only:function(j){if(!je(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ie.Activity=T,Ie.Children=he,Ie.Component=Z,Ie.Fragment=s,Ie.Profiler=c,Ie.PureComponent=G,Ie.StrictMode=l,Ie.Suspense=v,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(j){return U.H.useMemoCache(j)}},Ie.cache=function(j){return function(){return j.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(j,Q,oe){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var le=k({},j.props),de=j.key;if(Q!=null)for(me in Q.key!==void 0&&(de=""+Q.key),Q)!ve.call(Q,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Q.ref===void 0||(le[me]=Q[me]);var me=arguments.length-2;if(me===1)le.children=oe;else if(1<me){for(var He=Array(me),dt=0;dt<me;dt++)He[dt]=arguments[dt+2];le.children=He}return Re(j.type,de,le)},Ie.createContext=function(j){return j={$$typeof:p,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:f,_context:j},j},Ie.createElement=function(j,Q,oe){var le,de={},me=null;if(Q!=null)for(le in Q.key!==void 0&&(me=""+Q.key),Q)ve.call(Q,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(de[le]=Q[le]);var He=arguments.length-2;if(He===1)de.children=oe;else if(1<He){for(var dt=Array(He),St=0;St<He;St++)dt[St]=arguments[St+2];de.children=dt}if(j&&j.defaultProps)for(le in He=j.defaultProps,He)de[le]===void 0&&(de[le]=He[le]);return Re(j,me,de)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(j){return{$$typeof:y,render:j}},Ie.isValidElement=je,Ie.lazy=function(j){return{$$typeof:x,_payload:{_status:-1,_result:j},_init:ne}},Ie.memo=function(j,Q){return{$$typeof:_,type:j,compare:Q===void 0?null:Q}},Ie.startTransition=function(j){var Q=U.T,oe={};U.T=oe;try{var le=j(),de=U.S;de!==null&&de(oe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ge,Me)}catch(me){Me(me)}finally{Q!==null&&oe.types!==null&&(Q.types=oe.types),U.T=Q}},Ie.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Ie.use=function(j){return U.H.use(j)},Ie.useActionState=function(j,Q,oe){return U.H.useActionState(j,Q,oe)},Ie.useCallback=function(j,Q){return U.H.useCallback(j,Q)},Ie.useContext=function(j){return U.H.useContext(j)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(j,Q){return U.H.useDeferredValue(j,Q)},Ie.useEffect=function(j,Q){return U.H.useEffect(j,Q)},Ie.useEffectEvent=function(j){return U.H.useEffectEvent(j)},Ie.useId=function(){return U.H.useId()},Ie.useImperativeHandle=function(j,Q,oe){return U.H.useImperativeHandle(j,Q,oe)},Ie.useInsertionEffect=function(j,Q){return U.H.useInsertionEffect(j,Q)},Ie.useLayoutEffect=function(j,Q){return U.H.useLayoutEffect(j,Q)},Ie.useMemo=function(j,Q){return U.H.useMemo(j,Q)},Ie.useOptimistic=function(j,Q){return U.H.useOptimistic(j,Q)},Ie.useReducer=function(j,Q,oe){return U.H.useReducer(j,Q,oe)},Ie.useRef=function(j){return U.H.useRef(j)},Ie.useState=function(j){return U.H.useState(j)},Ie.useSyncExternalStore=function(j,Q,oe){return U.H.useSyncExternalStore(j,Q,oe)},Ie.useTransition=function(){return U.H.useTransition()},Ie.version="19.2.3",Ie}var kg;function vf(){return kg||(kg=1,Md.exports=f0()),Md.exports}var D=vf();const Cr=c0(D),m0=u0({__proto__:null,default:Cr},[D]);var Dd={exports:{}},Tl={},Nd={exports:{}},Pd={};var jg;function p0(){return jg||(jg=1,(function(a){function i($,ue){var ne=$.length;$.push(ue);e:for(;0<ne;){var Me=ne-1>>>1,he=$[Me];if(0<c(he,ue))$[Me]=ue,$[ne]=he,ne=Me;else break e}}function s($){return $.length===0?null:$[0]}function l($){if($.length===0)return null;var ue=$[0],ne=$.pop();if(ne!==ue){$[0]=ne;e:for(var Me=0,he=$.length,j=he>>>1;Me<j;){var Q=2*(Me+1)-1,oe=$[Q],le=Q+1,de=$[le];if(0>c(oe,ne))le<he&&0>c(de,oe)?($[Me]=de,$[le]=ne,Me=le):($[Me]=oe,$[Q]=ne,Me=Q);else if(le<he&&0>c(de,ne))$[Me]=de,$[le]=ne,Me=le;else break e}}return ue}function c($,ue){var ne=$.sortIndex-ue.sortIndex;return ne!==0?ne:$.id-ue.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var p=Date,y=p.now();a.unstable_now=function(){return p.now()-y}}var v=[],_=[],x=1,T=null,O=3,A=!1,N=!1,k=!1,V=!1,Z=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function se($){for(var ue=s(_);ue!==null;){if(ue.callback===null)l(_);else if(ue.startTime<=$)l(_),ue.sortIndex=ue.expirationTime,i(v,ue);else break;ue=s(_)}}function be($){if(k=!1,se($),!N)if(s(v)!==null)N=!0,ge||(ge=!0,Ue());else{var ue=s(_);ue!==null&&Ge(be,ue.startTime-$)}}var ge=!1,U=-1,ve=5,Re=-1;function st(){return V?!0:!(a.unstable_now()-Re<ve)}function je(){if(V=!1,ge){var $=a.unstable_now();Re=$;var ue=!0;try{e:{N=!1,k&&(k=!1,B(U),U=-1),A=!0;var ne=O;try{t:{for(se($),T=s(v);T!==null&&!(T.expirationTime>$&&st());){var Me=T.callback;if(typeof Me=="function"){T.callback=null,O=T.priorityLevel;var he=Me(T.expirationTime<=$);if($=a.unstable_now(),typeof he=="function"){T.callback=he,se($),ue=!0;break t}T===s(v)&&l(v),se($)}else l(v);T=s(v)}if(T!==null)ue=!0;else{var j=s(_);j!==null&&Ge(be,j.startTime-$),ue=!1}}break e}finally{T=null,O=ne,A=!1}ue=void 0}}finally{ue?Ue():ge=!1}}}var Ue;if(typeof G=="function")Ue=function(){G(je)};else if(typeof MessageChannel<"u"){var Gt=new MessageChannel,Ye=Gt.port2;Gt.port1.onmessage=je,Ue=function(){Ye.postMessage(null)}}else Ue=function(){Z(je,0)};function Ge($,ue){U=Z(function(){$(a.unstable_now())},ue)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return O},a.unstable_next=function($){switch(O){case 1:case 2:case 3:var ue=3;break;default:ue=O}var ne=O;O=ue;try{return $()}finally{O=ne}},a.unstable_requestPaint=function(){V=!0},a.unstable_runWithPriority=function($,ue){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ne=O;O=$;try{return ue()}finally{O=ne}},a.unstable_scheduleCallback=function($,ue,ne){var Me=a.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Me+ne:Me):ne=Me,$){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=ne+he,$={id:x++,callback:ue,priorityLevel:$,startTime:ne,expirationTime:he,sortIndex:-1},ne>Me?($.sortIndex=ne,i(_,$),s(v)===null&&$===s(_)&&(k?(B(U),U=-1):k=!0,Ge(be,ne-Me))):($.sortIndex=he,i(v,$),N||A||(N=!0,ge||(ge=!0,Ue()))),$},a.unstable_shouldYield=st,a.unstable_wrapCallback=function($){var ue=O;return function(){var ne=O;O=ue;try{return $.apply(this,arguments)}finally{O=ne}}}})(Pd)),Pd}var zg;function g0(){return zg||(zg=1,Nd.exports=p0()),Nd.exports}var Ud={exports:{}},_n={};var Mg;function v0(){if(Mg)return _n;Mg=1;var a=vf();function i(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(v,_,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:v,containerInfo:_,implementation:x}}var p=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,_n.createPortal=function(v,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(i(299));return f(v,_,null,x)},_n.flushSync=function(v){var _=p.T,x=l.p;try{if(p.T=null,l.p=2,v)return v()}finally{p.T=_,l.p=x,l.d.f()}},_n.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,l.d.C(v,_))},_n.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},_n.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var x=_.as,T=y(x,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,A=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?l.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:T,integrity:O,fetchPriority:A}):x==="script"&&l.d.X(v,{crossOrigin:T,integrity:O,fetchPriority:A,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},_n.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=y(_.as,_.crossOrigin);l.d.M(v,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&l.d.M(v)},_n.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,T=y(x,_.crossOrigin);l.d.L(v,x,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},_n.preloadModule=function(v,_){if(typeof v=="string")if(_){var x=y(_.as,_.crossOrigin);l.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else l.d.m(v)},_n.requestFormReset=function(v){l.d.r(v)},_n.unstable_batchedUpdates=function(v,_){return v(_)},_n.useFormState=function(v,_,x){return p.H.useFormState(v,_,x)},_n.useFormStatus=function(){return p.H.useHostTransitionStatus()},_n.version="19.2.3",_n}var Dg;function Gv(){if(Dg)return Ud.exports;Dg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),Ud.exports=v0(),Ud.exports}var Ng;function y0(){if(Ng)return Tl;Ng=1;var a=g0(),i=vf(),s=Gv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(f(e)!==e)throw Error(l(188))}function _(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(l(188));return t!==e?null:e}for(var r=e,u=t;;){var d=r.return;if(d===null)break;var m=d.alternate;if(m===null){if(u=d.return,u!==null){r=u;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===r)return v(d),e;if(m===u)return v(d),t;m=m.sibling}throw Error(l(188))}if(r.return!==u.return)r=d,u=m;else{for(var w=!1,C=d.child;C;){if(C===r){w=!0,r=d,u=m;break}if(C===u){w=!0,u=d,r=m;break}C=C.sibling}if(!w){for(C=m.child;C;){if(C===r){w=!0,r=m,u=d;break}if(C===u){w=!0,u=m,r=d;break}C=C.sibling}if(!w)throw Error(l(189))}}if(r.alternate!==u)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,O=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),G=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Re=Symbol.for("react.activity"),st=Symbol.for("react.memo_cache_sentinel"),je=Symbol.iterator;function Ue(e){return e===null||typeof e!="object"?null:(e=je&&e[je]||e["@@iterator"],typeof e=="function"?e:null)}var Gt=Symbol.for("react.client.reference");function Ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Gt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case Z:return"Profiler";case V:return"StrictMode";case be:return"Suspense";case ge:return"SuspenseList";case Re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case G:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return t=e.displayName||null,t!==null?t:Ye(e.type)||"Memo";case ve:t=e._payload,e=e._init;try{return Ye(e(t))}catch{}}return null}var Ge=Array.isArray,$=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Me=[],he=-1;function j(e){return{current:e}}function Q(e){0>he||(e.current=Me[he],Me[he]=null,he--)}function oe(e,t){he++,Me[he]=e.current,e.current=t}var le=j(null),de=j(null),me=j(null),He=j(null);function dt(e,t){switch(oe(me,t),oe(de,e),oe(le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wp(t),e=Jp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(le),oe(le,e)}function St(){Q(le),Q(de),Q(me)}function bi(e){e.memoizedState!==null&&oe(He,e);var t=le.current,r=Jp(t,e.type);t!==r&&(oe(de,e),oe(le,r))}function Ni(e){de.current===e&&(Q(le),Q(de)),He.current===e&&(Q(He),bl._currentValue=ne)}var xt,Hn;function ai(e){if(xt===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);xt=t&&t[1]||"",Hn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xt+e+Hn}var Na=!1;function Cn(e,t){if(!e||Na)return"";Na=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(t){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(ee){var J=ee}Reflect.construct(e,[],re)}else{try{re.call()}catch(ee){J=ee}e.call(re.prototype)}}else{try{throw Error()}catch(ee){J=ee}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),w=m[0],C=m[1];if(w&&C){var M=w.split(`
`),F=C.split(`
`);for(d=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(u===M.length||d===F.length)for(u=M.length-1,d=F.length-1;1<=u&&0<=d&&M[u]!==F[d];)d--;for(;1<=u&&0<=d;u--,d--)if(M[u]!==F[d]){if(u!==1||d!==1)do if(u--,d--,0>d||M[u]!==F[d]){var te=`
`+M[u].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=u&&0<=d);break}}}finally{Na=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ai(r):""}function Rr(e,t){switch(e.tag){case 26:case 27:case 5:return ai(e.type);case 16:return ai("Lazy");case 13:return e.child!==t&&t!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return Cn(e.type,!1);case 11:return Cn(e.type.render,!1);case 1:return Cn(e.type,!0);case 31:return ai("Activity");default:return""}}function sa(e){try{var t="",r=null;do t+=Rr(e,r),r=e,e=e.return;while(e);return t}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Pa=Object.prototype.hasOwnProperty,Ua=a.unstable_scheduleCallback,oa=a.unstable_cancelCallback,ys=a.unstable_shouldYield,_s=a.unstable_requestPaint,zt=a.unstable_now,la=a.unstable_getCurrentPriorityLevel,ua=a.unstable_ImmediatePriority,ca=a.unstable_UserBlockingPriority,on=a.unstable_NormalPriority,In=a.unstable_LowPriority,Ba=a.unstable_IdlePriority,bs=a.log,Lr=a.unstable_setDisableYieldValue,Pi=null,_t=null;function On(e){if(typeof bs=="function"&&Lr(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Pi,e)}catch{}}var nn=Math.clz32?Math.clz32:ws,Ui=Math.log,Oo=Math.LN2;function ws(e){return e>>>=0,e===0?32:31-(Ui(e)/Oo|0)|0}var ri=256,Bi=262144,wi=4194304;function Si(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ha(e,t,r){var u=e.pendingLanes;if(u===0)return 0;var d=0,m=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var C=u&134217727;return C!==0?(u=C&~m,u!==0?d=Si(u):(w&=C,w!==0?d=Si(w):r||(r=C&~e,r!==0&&(d=Si(r))))):(C=u&~m,C!==0?d=Si(C):w!==0?d=Si(w):r||(r=u&~e,r!==0&&(d=Si(r)))),d===0?0:t!==0&&t!==d&&(t&m)===0&&(m=d&-d,r=t&-t,m>=r||m===32&&(r&4194048)!==0)?t:d}function da(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ss(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fa(){var e=wi;return wi<<=1,(wi&62914560)===0&&(wi=4194304),e}function Hi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function si(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ao(e,t,r,u,d,m){var w=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var C=e.entanglements,M=e.expirationTimes,F=e.hiddenUpdates;for(r=w&~r;0<r;){var te=31-nn(r),re=1<<te;C[te]=0,M[te]=-1;var J=F[te];if(J!==null)for(F[te]=null,te=0;te<J.length;te++){var ee=J[te];ee!==null&&(ee.lane&=-536870913)}r&=~re}u!==0&&xs(e,u,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(w&~t))}function xs(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var u=31-nn(t);e.entangledLanes|=t,e.entanglements[u]=e.entanglements[u]|1073741824|r&261930}function z(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var u=31-nn(r),d=1<<u;d&t|e[u]&t&&(e[u]|=t),r&=~d}}function H(e,t){var r=t&-t;return r=(r&42)!==0?1:K(r),(r&(e.suspendedLanes|t))!==0?0:r}function K(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function X(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ce(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:wg(e.type))}function xe(e,t){var r=ue.p;try{return ue.p=e,t()}finally{ue.p=r}}var ye=Math.random().toString(36).slice(2),pe="__reactFiber$"+ye,_e="__reactProps$"+ye,Se="__reactContainer$"+ye,Ce="__reactEvents$"+ye,Te="__reactListeners$"+ye,tt="__reactHandles$"+ye,Xe="__reactResources$"+ye,Ct="__reactMarker$"+ye;function Lt(e){delete e[pe],delete e[_e],delete e[Ce],delete e[Te],delete e[tt]}function Ot(e){var t=e[pe];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Se]||r[pe]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rg(e);e!==null;){if(r=e[pe])return r;e=rg(e)}return t}e=r,r=e.parentNode}return null}function We(e){if(e=e[pe]||e[Se]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Mt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function pn(e){var t=e[Xe];return t||(t=e[Xe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Et(e){e[Ct]=!0}var qn=new Set,wn={};function Zn(e,t){gn(e,t),gn(e+"Capture",t)}function gn(e,t){for(wn[e]=t,e=0;e<t.length;e++)qn.add(t[e])}var Sn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ii={},qi={};function Ve(e){return Pa.call(qi,e)?!0:Pa.call(Ii,e)?!1:Sn.test(e)?qi[e]=!0:(Ii[e]=!0,!1)}function ke(e,t,r){if(Ve(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var u=t.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function rt(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function Pt(e,t,r,u){if(u===null)e.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+u)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function An(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ha(e,t,r){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,m=u.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(w){r=""+w,m.call(this,w)}}),Object.defineProperty(e,t,{enumerable:u.enumerable}),{getValue:function(){return r},setValue:function(w){r=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Be(e){if(!e._valueTracker){var t=An(e)?"checked":"value";e._valueTracker=Ha(e,t,""+e[t])}}function kt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),u="";return e&&(u=An(e)?e.checked?"true":"false":e.value),e=u,e!==r?(t.setValue(e),!0):!1}function Ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Es=/[\n"\\]/g;function At(e){return e.replace(Es,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ro(e,t,r,u,d,m,w,C){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),t!=null?w==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qe(t)):e.value!==""+qe(t)&&(e.value=""+qe(t)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),t!=null?xi(e,w,qe(t)):r!=null?xi(e,w,qe(r)):u!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+qe(C):e.removeAttribute("name")}function kr(e,t,r,u,d,m,w,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),t!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||t!=null)){Be(e);return}r=r!=null?""+qe(r):"",t=t!=null?""+qe(t):r,C||t===e.value||(e.value=t),e.defaultValue=t}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=C?e.checked:!!u,e.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),Be(e)}function xi(e,t,r){t==="number"&&Ia(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function bt(e,t,r,u){if(e=e.options,t){t={};for(var d=0;d<r.length;d++)t["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=t.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&u&&(e[r].defaultSelected=!0)}else{for(r=""+qe(r),t=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,u&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function Zi(e,t,r){if(t!=null&&(t=""+qe(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+qe(r):""}function qa(e,t,r,u){if(t==null){if(u!=null){if(r!=null)throw Error(l(92));if(Ge(u)){if(1<u.length)throw Error(l(93));u=u[0]}r=u}r==null&&(r=""),t=r}r=qe(t),e.defaultValue=r,u=e.textContent,u===r&&u!==""&&u!==null&&(e.value=u),Be(e)}function oi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Lo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Za(e,t,r){var u=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":u?e.setProperty(t,r):typeof r!="number"||r===0||Lo.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Ts(e,t,r){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||t!=null&&t.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var d in t)u=t[d],t.hasOwnProperty(d)&&r[d]!==u&&Za(e,d,u)}else for(var m in t)t.hasOwnProperty(m)&&Za(e,m,t[m])}function jr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ko=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(e){return ko.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rn(){}var Os=null;function zr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Va=null,Pe=null;function Gn(e){var t=We(e);if(t&&(e=t.stateNode)){var r=e[_e]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ro(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+At(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var u=r[t];if(u!==e&&u.form===e.form){var d=u[_e]||null;if(!d)throw Error(l(90));Ro(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(t=0;t<r.length;t++)u=r[t],u.form===e.form&&kt(u)}break e;case"textarea":Zi(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&bt(e,!!r.multiple,t,!1)}}}var ft=!1;function jo(e,t,r){if(ft)return e(t,r);ft=!0;try{var u=e(t);return u}finally{if(ft=!1,(Va!==null||Pe!==null)&&(Vu(),Va&&(t=Va,e=Pe,Pe=Va=null,Gn(t),e)))for(t=0;t<e.length;t++)Gn(e[t])}}function ma(e,t){var r=e.stateNode;if(r===null)return null;var u=r[_e]||null;if(u===null)return null;r=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(l(231,t,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Vn)try{var $n={};Object.defineProperty($n,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{Mr=!1}var li=null,pa=null,Ut=null;function Gi(){if(Ut)return Ut;var e,t=pa,r=t.length,u,d="value"in li?li.value:li.textContent,m=d.length;for(e=0;e<r&&t[e]===d[e];e++);var w=r-e;for(u=1;u<=w&&t[r-u]===d[m-u];u++);return Ut=d.slice(e,1<u?1-u:void 0)}function Dr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nr(){return!0}function Xl(){return!1}function ln(e){function t(r,u,d,m,w){this._reactName=r,this._targetInst=d,this.type=u,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(r=e[C],this[C]=r?r(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Nr:Xl,this.isPropagationStopped=Xl,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),t}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},As=ln(Ei),$a=T({},Ei,{view:0,detail:0}),nt=ln($a),zo,xn,Ti,Pr=T({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(zo=e.screenX-Ti.screenX,xn=e.screenY-Ti.screenY):xn=zo=0,Ti=e),zo)},movementY:function(e){return"movementY"in e?e.movementY:xn}}),Wl=ln(Pr),Mo=T({},Pr,{dataTransfer:0}),Zc=ln(Mo),Jl=T({},$a,{relatedTarget:0}),Do=ln(Jl),Gc=T({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),No=ln(Gc),Vc=T({},Ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ui=ln(Vc),$c=T({},Ei,{data:0}),Po=ln($c),Vi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ql={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eu[e])?!!t[e]:!1}function Bo(){return Uo}var tu=T({},$a,{key:function(e){if(e.key){var t=Vi[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ql[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bo,charCode:function(e){return e.type==="keypress"?Dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nu=ln(tu),Kc=T({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iu=ln(Kc),Ho=T({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bo}),Yc=ln(Ho),au=T({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),ru=ln(au),Rs=T({},Pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ga=ln(Rs),Fc=T({},Ei,{newState:0,oldState:0}),Ur=ln(Fc),Ln=[9,13,27,32],Ls=Vn&&"CompositionEvent"in window,Ka=null;Vn&&"documentMode"in document&&(Ka=document.documentMode);var Xc=Vn&&"TextEvent"in window&&!Ka,ks=Vn&&(!Ls||Ka&&8<Ka&&11>=Ka),js=" ",su=!1;function ou(e,t){switch(e){case"keyup":return Ln.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Io(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ya=!1;function Kn(e,t){switch(e){case"compositionend":return Io(t);case"keypress":return t.which!==32?null:(su=!0,js);case"textInput":return e=t.data,e===js&&su?null:e;default:return null}}function Fa(e,t){if(Ya)return e==="compositionend"||!Ls&&ou(e,t)?(e=Gi(),Ut=pa=li=null,Ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ks&&t.locale!=="ko"?null:t.data;default:return null}}var Wc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ci(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wc[e.type]:t==="textarea"}function lu(e,t,r,u){Va?Pe?Pe.push(u):Pe=[u]:Va=u,t=Ju(t,"onChange"),0<t.length&&(r=new As("onChange","change",null,r,u),e.push({event:r,listeners:t}))}var hi=null,Br=null;function Hr(e){Vp(e,0)}function Ir(e){var t=Mt(e);if(kt(t))return e}function qr(e,t){if(e==="change")return t}var uu=!1;if(Vn){var di;if(Vn){var Xa="oninput"in document;if(!Xa){var cu=document.createElement("div");cu.setAttribute("oninput","return;"),Xa=typeof cu.oninput=="function"}di=Xa}else di=!1;uu=di&&(!document.documentMode||9<document.documentMode)}function zs(){hi&&(hi.detachEvent("onpropertychange",hu),Br=hi=null)}function hu(e){if(e.propertyName==="value"&&Ir(Br)){var t=[];lu(t,Br,e,zr(e)),jo(Hr,t)}}function Ci(e,t,r){e==="focusin"?(zs(),hi=t,Br=r,hi.attachEvent("onpropertychange",hu)):e==="focusout"&&zs()}function Jc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ir(Br)}function Wa(e,t){if(e==="click")return Ir(t)}function Qc(e,t){if(e==="input"||e==="change")return Ir(t)}function Oi(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:Oi;function Ja(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),u=Object.keys(t);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var d=r[u];if(!Pa.call(t,d)||!an(e[d],t[d]))return!1}return!0}function Ms(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zr(e,t){var r=Ms(e);e=0;for(var u;r;){if(r.nodeType===3){if(u=e+r.textContent.length,e<=t&&u>=t)return{node:r,offset:t-e};e=u}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ms(r)}}function Ds(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ds(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ia(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ia(e.document)}return t}function $i(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ns=Vn&&"documentMode"in document&&11>=document.documentMode,Ki=null,Ps=null,Vr=null,Qa=!1;function du(e,t,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qa||Ki==null||Ki!==Ia(u)||(u=Ki,"selectionStart"in u&&$i(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Vr&&Ja(Vr,u)||(Vr=u,u=Ju(Ps,"onSelect"),0<u.length&&(t=new As("onSelect","select",null,t,r),e.push({event:t,listeners:u}),t.target=Ki)))}function Yi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var er={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},Us={},fu={};Vn&&(fu=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function rn(e){if(Us[e])return Us[e];if(!er[e])return e;var t=er[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in fu)return Us[e]=t[r];return e}var $r=rn("animationend"),mu=rn("animationiteration"),Kr=rn("animationstart"),eh=rn("transitionrun"),pu=rn("transitionstart"),th=rn("transitioncancel"),tr=rn("transitionend"),gu=new Map,Fi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fi.push("scrollEnd");function kn(e,t){gu.set(e,t),Zn(t,[e])}var Yr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],vn=0,Bs=0;function Fr(){for(var e=vn,t=Bs=vn=0;t<e;){var r=jn[t];jn[t++]=null;var u=jn[t];jn[t++]=null;var d=jn[t];jn[t++]=null;var m=jn[t];if(jn[t++]=null,u!==null&&d!==null){var w=u.pending;w===null?d.next=d:(d.next=w.next,w.next=d),u.pending=d}m!==0&&nr(r,d,m)}}function Xi(e,t,r,u){jn[vn++]=e,jn[vn++]=t,jn[vn++]=r,jn[vn++]=u,Bs|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function qo(e,t,r,u){return Xi(e,t,r,u),Xr(e)}function fi(e,t){return Xi(e,null,null,t),Xr(e)}function nr(e,t,r){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r);for(var d=!1,m=e.return;m!==null;)m.childLanes|=r,u=m.alternate,u!==null&&(u.childLanes|=r),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&t!==null&&(d=31-nn(r),e=m.hiddenUpdates,u=e[d],u===null?e[d]=[t]:u.push(t),t.lane=r|536870912),m):null}function Xr(e){if(50<fl)throw fl=0,id=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var va={};function nh(e,t,r,u){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,t,r,u){return new nh(e,t,r,u)}function Hs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mi(e,t){var r=e.alternate;return r===null?(r=yn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Zo(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,t,r,u,d,m){var w=0;if(u=e,typeof e=="function")Hs(e)&&(w=1);else if(typeof e=="string")w=W_(e,r,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Re:return e=yn(31,r,t,d),e.elementType=Re,e.lanes=m,e;case k:return ya(r.children,d,m,t);case V:w=8,d|=24;break;case Z:return e=yn(12,r,t,d|2),e.elementType=Z,e.lanes=m,e;case be:return e=yn(13,r,t,d),e.elementType=be,e.lanes=m,e;case ge:return e=yn(19,r,t,d),e.elementType=ge,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:w=10;break e;case B:w=9;break e;case se:w=11;break e;case U:w=14;break e;case ve:w=16,u=null;break e}w=29,r=Error(l(130,e===null?"null":typeof e,"")),u=null}return t=yn(w,r,t,d),t.elementType=e,t.type=u,t.lanes=m,t}function ya(e,t,r,u){return e=yn(7,e,u,t),e.lanes=r,e}function Is(e,t,r){return e=yn(6,e,null,t),e.lanes=r,e}function Go(e){var t=yn(18,null,null,0);return t.stateNode=e,t}function Vo(e,t,r){return t=yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var n=new WeakMap;function o(e,t){if(typeof e=="object"&&e!==null){var r=n.get(e);return r!==void 0?r:(t={value:e,source:t,stack:sa(t)},n.set(e,t),t)}return{value:e,source:t,stack:sa(t)}}var h=[],g=0,b=null,E=0,R=[],q=0,W=null,ae=1,fe="";function Oe(e,t){h[g++]=E,h[g++]=b,b=e,E=t}function $e(e,t,r){R[q++]=ae,R[q++]=fe,R[q++]=W,W=e;var u=ae;e=fe;var d=32-nn(u)-1;u&=~(1<<d),r+=1;var m=32-nn(t)+d;if(30<m){var w=d-d%5;m=(u&(1<<w)-1).toString(32),u>>=w,d-=w,ae=1<<32-nn(t)+d|r<<d|u,fe=m+e}else ae=1<<m|r<<d|u,fe=e}function Jt(e){e.return!==null&&(Oe(e,1),$e(e,1,0))}function Bt(e){for(;e===b;)b=h[--g],h[g]=null,E=h[--g],h[g]=null;for(;e===W;)W=R[--q],R[q]=null,fe=R[--q],R[q]=null,ae=R[--q],R[q]=null}function En(e,t){R[q++]=ae,R[q++]=fe,R[q++]=W,ae=t.id,fe=t.overflow,W=e}var ot=null,lt=null,Je=!1,Wi=null,zn=!1,qs=Error(l(519));function Ji(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jr(o(t,e)),qs}function $o(e){var t=e.stateNode,r=e.type,u=e.memoizedProps;switch(t[pe]=e,t[_e]=u,r){case"dialog":et("cancel",t),et("close",t);break;case"iframe":case"object":case"embed":et("load",t);break;case"video":case"audio":for(r=0;r<pl.length;r++)et(pl[r],t);break;case"source":et("error",t);break;case"img":case"image":case"link":et("error",t),et("load",t);break;case"details":et("toggle",t);break;case"input":et("invalid",t),kr(t,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":et("invalid",t);break;case"textarea":et("invalid",t),qa(t,u.value,u.defaultValue,u.children)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||u.suppressHydrationWarning===!0||Fp(t.textContent,r)?(u.popover!=null&&(et("beforetoggle",t),et("toggle",t)),u.onScroll!=null&&et("scroll",t),u.onScrollEnd!=null&&et("scrollend",t),u.onClick!=null&&(t.onclick=Rn),t=!0):t=!1,t||Ji(e,!0)}function Dt(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:ot=ot.return}}function Ai(e){if(e!==ot)return!1;if(!Je)return Dt(e),Je=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||yd(e.type,e.memoizedProps)),r=!r),r&&lt&&Ji(e),Dt(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));lt=ag(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));lt=ag(e)}else t===27?(t=lt,gr(e.type)?(e=xd,xd=null,lt=e):lt=t):lt=ot?gi(e.stateNode.nextSibling):null;return!0}function _a(){lt=ot=null,Je=!1}function Ko(){var e=Wi;return e!==null&&(Pn===null?Pn=e:Pn.push.apply(Pn,e),Wi=null),e}function Jr(e){Wi===null?Wi=[e]:Wi.push(e)}var Qr=j(null),Qi=null,Ri=null;function ir(e,t,r){oe(Qr,t._currentValue),t._currentValue=r}function ba(e){e._currentValue=Qr.current,Q(Qr)}function ih(e,t,r){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===r)break;e=e.return}}function ah(e,t,r,u){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var w=d.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=d;for(var M=0;M<t.length;M++)if(C.context===t[M]){m.lanes|=r,C=m.alternate,C!==null&&(C.lanes|=r),ih(m.return,r,e),u||(w=null);break e}m=C.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(l(341));w.lanes|=r,m=w.alternate,m!==null&&(m.lanes|=r),ih(w,r,e),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===e){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Zs(e,t,r,u){e=null;for(var d=t,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(l(387));if(w=w.memoizedProps,w!==null){var C=d.type;an(d.pendingProps.value,w.value)||(e!==null?e.push(C):e=[C])}}else if(d===He.current){if(w=d.alternate,w===null)throw Error(l(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}d=d.return}e!==null&&ah(t,e,r,u),t.flags|=262144}function vu(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function es(e){Qi=e,Ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function un(e){return Mf(Qi,e)}function yu(e,t){return Qi===null&&es(e),Mf(e,t)}function Mf(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Ri===null){if(e===null)throw Error(l(308));Ri=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ri=Ri.next=t;return r}var Ky=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,u){e.push(u)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},Yy=a.unstable_scheduleCallback,Fy=a.unstable_NormalPriority,Kt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rh(){return{controller:new Ky,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&Yy(Fy,function(){e.controller.abort()})}var Fo=null,sh=0,Gs=0,Vs=null;function Xy(e,t){if(Fo===null){var r=Fo=[];sh=0,Gs=ud(),Vs={status:"pending",value:void 0,then:function(u){r.push(u)}}}return sh++,t.then(Df,Df),t}function Df(){if(--sh===0&&Fo!==null){Vs!==null&&(Vs.status="fulfilled");var e=Fo;Fo=null,Gs=0,Vs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wy(e,t){var r=[],u={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){u.status="fulfilled",u.value=t;for(var d=0;d<r.length;d++)(0,r[d])(t)},function(d){for(u.status="rejected",u.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),u}var Nf=$.S;$.S=function(e,t){_p=zt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Xy(e,t),Nf!==null&&Nf(e,t)};var ts=j(null);function oh(){var e=ts.current;return e!==null?e:wt.pooledCache}function _u(e,t){t===null?oe(ts,ts.current):oe(ts,t.pool)}function Pf(){var e=oh();return e===null?null:{parent:Kt._currentValue,pool:e}}var $s=Error(l(460)),lh=Error(l(474)),bu=Error(l(542)),wu={then:function(){}};function Uf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bf(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Rn,Rn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,If(e),e;default:if(typeof t.status=="string")t.then(Rn,Rn);else{if(e=wt,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(u){if(t.status==="pending"){var d=t;d.status="fulfilled",d.value=u}},function(u){if(t.status==="pending"){var d=t;d.status="rejected",d.reason=u}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,If(e),e}throw is=t,$s}}function ns(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(is=r,$s):r}}var is=null;function Hf(){if(is===null)throw Error(l(459));var e=is;return is=null,e}function If(e){if(e===$s||e===bu)throw Error(l(483))}var Ks=null,Xo=0;function Su(e){var t=Xo;return Xo+=1,Ks===null&&(Ks=[]),Bf(Ks,e,t)}function Wo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function xu(e,t){throw t.$$typeof===O?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function qf(e){function t(I,P){if(e){var Y=I.deletions;Y===null?(I.deletions=[P],I.flags|=16):Y.push(P)}}function r(I,P){if(!e)return null;for(;P!==null;)t(I,P),P=P.sibling;return null}function u(I){for(var P=new Map;I!==null;)I.key!==null?P.set(I.key,I):P.set(I.index,I),I=I.sibling;return P}function d(I,P){return I=mi(I,P),I.index=0,I.sibling=null,I}function m(I,P,Y){return I.index=Y,e?(Y=I.alternate,Y!==null?(Y=Y.index,Y<P?(I.flags|=67108866,P):Y):(I.flags|=67108866,P)):(I.flags|=1048576,P)}function w(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function C(I,P,Y,ie){return P===null||P.tag!==6?(P=Is(Y,I.mode,ie),P.return=I,P):(P=d(P,Y),P.return=I,P)}function M(I,P,Y,ie){var Le=Y.type;return Le===k?te(I,P,Y.props.children,ie,Y.key):P!==null&&(P.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===ve&&ns(Le)===P.type)?(P=d(P,Y.props),Wo(P,Y),P.return=I,P):(P=Wr(Y.type,Y.key,Y.props,null,I.mode,ie),Wo(P,Y),P.return=I,P)}function F(I,P,Y,ie){return P===null||P.tag!==4||P.stateNode.containerInfo!==Y.containerInfo||P.stateNode.implementation!==Y.implementation?(P=Vo(Y,I.mode,ie),P.return=I,P):(P=d(P,Y.children||[]),P.return=I,P)}function te(I,P,Y,ie,Le){return P===null||P.tag!==7?(P=ya(Y,I.mode,ie,Le),P.return=I,P):(P=d(P,Y),P.return=I,P)}function re(I,P,Y){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Is(""+P,I.mode,Y),P.return=I,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case A:return Y=Wr(P.type,P.key,P.props,null,I.mode,Y),Wo(Y,P),Y.return=I,Y;case N:return P=Vo(P,I.mode,Y),P.return=I,P;case ve:return P=ns(P),re(I,P,Y)}if(Ge(P)||Ue(P))return P=ya(P,I.mode,Y,null),P.return=I,P;if(typeof P.then=="function")return re(I,Su(P),Y);if(P.$$typeof===G)return re(I,yu(I,P),Y);xu(I,P)}return null}function J(I,P,Y,ie){var Le=P!==null?P.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Le!==null?null:C(I,P,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return Y.key===Le?M(I,P,Y,ie):null;case N:return Y.key===Le?F(I,P,Y,ie):null;case ve:return Y=ns(Y),J(I,P,Y,ie)}if(Ge(Y)||Ue(Y))return Le!==null?null:te(I,P,Y,ie,null);if(typeof Y.then=="function")return J(I,P,Su(Y),ie);if(Y.$$typeof===G)return J(I,P,yu(I,Y),ie);xu(I,Y)}return null}function ee(I,P,Y,ie,Le){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return I=I.get(Y)||null,C(P,I,""+ie,Le);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return I=I.get(ie.key===null?Y:ie.key)||null,M(P,I,ie,Le);case N:return I=I.get(ie.key===null?Y:ie.key)||null,F(P,I,ie,Le);case ve:return ie=ns(ie),ee(I,P,Y,ie,Le)}if(Ge(ie)||Ue(ie))return I=I.get(Y)||null,te(P,I,ie,Le,null);if(typeof ie.then=="function")return ee(I,P,Y,Su(ie),Le);if(ie.$$typeof===G)return ee(I,P,Y,yu(P,ie),Le);xu(P,ie)}return null}function we(I,P,Y,ie){for(var Le=null,ut=null,Ee=P,Ke=P=0,at=null;Ee!==null&&Ke<Y.length;Ke++){Ee.index>Ke?(at=Ee,Ee=null):at=Ee.sibling;var ct=J(I,Ee,Y[Ke],ie);if(ct===null){Ee===null&&(Ee=at);break}e&&Ee&&ct.alternate===null&&t(I,Ee),P=m(ct,P,Ke),ut===null?Le=ct:ut.sibling=ct,ut=ct,Ee=at}if(Ke===Y.length)return r(I,Ee),Je&&Oe(I,Ke),Le;if(Ee===null){for(;Ke<Y.length;Ke++)Ee=re(I,Y[Ke],ie),Ee!==null&&(P=m(Ee,P,Ke),ut===null?Le=Ee:ut.sibling=Ee,ut=Ee);return Je&&Oe(I,Ke),Le}for(Ee=u(Ee);Ke<Y.length;Ke++)at=ee(Ee,I,Ke,Y[Ke],ie),at!==null&&(e&&at.alternate!==null&&Ee.delete(at.key===null?Ke:at.key),P=m(at,P,Ke),ut===null?Le=at:ut.sibling=at,ut=at);return e&&Ee.forEach(function(wr){return t(I,wr)}),Je&&Oe(I,Ke),Le}function ze(I,P,Y,ie){if(Y==null)throw Error(l(151));for(var Le=null,ut=null,Ee=P,Ke=P=0,at=null,ct=Y.next();Ee!==null&&!ct.done;Ke++,ct=Y.next()){Ee.index>Ke?(at=Ee,Ee=null):at=Ee.sibling;var wr=J(I,Ee,ct.value,ie);if(wr===null){Ee===null&&(Ee=at);break}e&&Ee&&wr.alternate===null&&t(I,Ee),P=m(wr,P,Ke),ut===null?Le=wr:ut.sibling=wr,ut=wr,Ee=at}if(ct.done)return r(I,Ee),Je&&Oe(I,Ke),Le;if(Ee===null){for(;!ct.done;Ke++,ct=Y.next())ct=re(I,ct.value,ie),ct!==null&&(P=m(ct,P,Ke),ut===null?Le=ct:ut.sibling=ct,ut=ct);return Je&&Oe(I,Ke),Le}for(Ee=u(Ee);!ct.done;Ke++,ct=Y.next())ct=ee(Ee,I,Ke,ct.value,ie),ct!==null&&(e&&ct.alternate!==null&&Ee.delete(ct.key===null?Ke:ct.key),P=m(ct,P,Ke),ut===null?Le=ct:ut.sibling=ct,ut=ct);return e&&Ee.forEach(function(l0){return t(I,l0)}),Je&&Oe(I,Ke),Le}function yt(I,P,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===k&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:e:{for(var Le=Y.key;P!==null;){if(P.key===Le){if(Le=Y.type,Le===k){if(P.tag===7){r(I,P.sibling),ie=d(P,Y.props.children),ie.return=I,I=ie;break e}}else if(P.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===ve&&ns(Le)===P.type){r(I,P.sibling),ie=d(P,Y.props),Wo(ie,Y),ie.return=I,I=ie;break e}r(I,P);break}else t(I,P);P=P.sibling}Y.type===k?(ie=ya(Y.props.children,I.mode,ie,Y.key),ie.return=I,I=ie):(ie=Wr(Y.type,Y.key,Y.props,null,I.mode,ie),Wo(ie,Y),ie.return=I,I=ie)}return w(I);case N:e:{for(Le=Y.key;P!==null;){if(P.key===Le)if(P.tag===4&&P.stateNode.containerInfo===Y.containerInfo&&P.stateNode.implementation===Y.implementation){r(I,P.sibling),ie=d(P,Y.children||[]),ie.return=I,I=ie;break e}else{r(I,P);break}else t(I,P);P=P.sibling}ie=Vo(Y,I.mode,ie),ie.return=I,I=ie}return w(I);case ve:return Y=ns(Y),yt(I,P,Y,ie)}if(Ge(Y))return we(I,P,Y,ie);if(Ue(Y)){if(Le=Ue(Y),typeof Le!="function")throw Error(l(150));return Y=Le.call(Y),ze(I,P,Y,ie)}if(typeof Y.then=="function")return yt(I,P,Su(Y),ie);if(Y.$$typeof===G)return yt(I,P,yu(I,Y),ie);xu(I,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,P!==null&&P.tag===6?(r(I,P.sibling),ie=d(P,Y),ie.return=I,I=ie):(r(I,P),ie=Is(Y,I.mode,ie),ie.return=I,I=ie),w(I)):r(I,P)}return function(I,P,Y,ie){try{Xo=0;var Le=yt(I,P,Y,ie);return Ks=null,Le}catch(Ee){if(Ee===$s||Ee===bu)throw Ee;var ut=yn(29,Ee,null,I.mode);return ut.lanes=ie,ut.return=I,ut}}}var as=qf(!0),Zf=qf(!1),ar=!1;function uh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ch(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sr(e,t,r){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(ht&2)!==0){var d=u.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),u.pending=t,t=Xr(e),nr(e,null,r),t}return Xi(e,u,t,r),Xr(e)}function Jo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var u=t.lanes;u&=e.pendingLanes,r|=u,t.lanes=r,z(e,r)}}function hh(e,t){var r=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var d=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var w={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?d=m=w:m=m.next=w,r=r.next}while(r!==null);m===null?d=m=t:m=m.next=t}else d=m=t;r={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var dh=!1;function Qo(){if(dh){var e=Vs;if(e!==null)throw e}}function el(e,t,r,u){dh=!1;var d=e.updateQueue;ar=!1;var m=d.firstBaseUpdate,w=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var M=C,F=M.next;M.next=null,w===null?m=F:w.next=F,w=M;var te=e.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==w&&(C===null?te.firstBaseUpdate=F:C.next=F,te.lastBaseUpdate=M))}if(m!==null){var re=d.baseState;w=0,te=F=M=null,C=m;do{var J=C.lane&-536870913,ee=J!==C.lane;if(ee?(it&J)===J:(u&J)===J){J!==0&&J===Gs&&(dh=!0),te!==null&&(te=te.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var we=e,ze=C;J=t;var yt=r;switch(ze.tag){case 1:if(we=ze.payload,typeof we=="function"){re=we.call(yt,re,J);break e}re=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ze.payload,J=typeof we=="function"?we.call(yt,re,J):we,J==null)break e;re=T({},re,J);break e;case 2:ar=!0}}J=C.callback,J!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=d.callbacks,ee===null?d.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(F=te=ee,M=re):te=te.next=ee,w|=J;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,d.lastBaseUpdate=ee,d.shared.pending=null}}while(!0);te===null&&(M=re),d.baseState=M,d.firstBaseUpdate=F,d.lastBaseUpdate=te,m===null&&(d.shared.lanes=0),hr|=w,e.lanes=w,e.memoizedState=re}}function Gf(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Vf(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Gf(r[e],t)}var Ys=j(null),Eu=j(0);function $f(e,t){e=Ra,oe(Eu,e),oe(Ys,t),Ra=e|t.baseLanes}function fh(){oe(Eu,Ra),oe(Ys,Ys.current)}function mh(){Ra=Eu.current,Q(Ys),Q(Eu)}var Yn=j(null),pi=null;function or(e){var t=e.alternate;oe(Vt,Vt.current&1),oe(Yn,e),pi===null&&(t===null||Ys.current!==null||t.memoizedState!==null)&&(pi=e)}function ph(e){oe(Vt,Vt.current),oe(Yn,e),pi===null&&(pi=e)}function Kf(e){e.tag===22?(oe(Vt,Vt.current),oe(Yn,e),pi===null&&(pi=e)):lr()}function lr(){oe(Vt,Vt.current),oe(Yn,Yn.current)}function Fn(e){Q(Yn),pi===e&&(pi=null),Q(Vt)}var Vt=j(0);function Tu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||wd(r)||Sd(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wa=0,Ze=null,gt=null,Yt=null,Cu=!1,Fs=!1,rs=!1,Ou=0,tl=0,Xs=null,Jy=0;function Ht(){throw Error(l(321))}function gh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!an(e[r],t[r]))return!1;return!0}function vh(e,t,r,u,d,m){return wa=m,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?Lm:jh,rs=!1,m=r(u,d),rs=!1,Fs&&(m=Ff(t,r,u,d)),Yf(e),m}function Yf(e){$.H=al;var t=gt!==null&&gt.next!==null;if(wa=0,Yt=gt=Ze=null,Cu=!1,tl=0,Xs=null,t)throw Error(l(300));e===null||Ft||(e=e.dependencies,e!==null&&vu(e)&&(Ft=!0))}function Ff(e,t,r,u){Ze=e;var d=0;do{if(Fs&&(Xs=null),tl=0,Fs=!1,25<=d)throw Error(l(301));if(d+=1,Yt=gt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=km,m=t(r,u)}while(Fs);return m}function Qy(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?nl(t):t,e=e.useState()[0],(gt!==null?gt.memoizedState:null)!==e&&(Ze.flags|=1024),t}function yh(){var e=Ou!==0;return Ou=0,e}function _h(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function bh(e){if(Cu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Cu=!1}wa=0,Yt=gt=Ze=null,Fs=!1,tl=Ou=0,Xs=null}function Tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Ze.memoizedState=Yt=e:Yt=Yt.next=e,Yt}function $t(){if(gt===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=Yt===null?Ze.memoizedState:Yt.next;if(t!==null)Yt=t,gt=e;else{if(e===null)throw Ze.alternate===null?Error(l(467)):Error(l(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Yt===null?Ze.memoizedState=Yt=e:Yt=Yt.next=e}return Yt}function Au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var t=tl;return tl+=1,Xs===null&&(Xs=[]),e=Bf(Xs,e,t),t=Ze,(Yt===null?t.memoizedState:Yt.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?Lm:jh),e}function Ru(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===G)return un(e)}throw Error(l(438,String(e)))}function wh(e){var t=null,r=Ze.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var u=Ze.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(t={data:u.data.map(function(d){return d.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Au(),Ze.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),u=0;u<e;u++)r[u]=st;return t.index++,r}function Sa(e,t){return typeof t=="function"?t(e):t}function Lu(e){var t=$t();return Sh(t,gt,e)}function Sh(e,t,r){var u=e.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=r;var d=e.baseQueue,m=u.pending;if(m!==null){if(d!==null){var w=d.next;d.next=m.next,m.next=w}t.baseQueue=d=m,u.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{t=d.next;var C=w=null,M=null,F=t,te=!1;do{var re=F.lane&-536870913;if(re!==F.lane?(it&re)===re:(wa&re)===re){var J=F.revertLane;if(J===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),re===Gs&&(te=!0);else if((wa&J)===J){F=F.next,J===Gs&&(te=!0);continue}else re={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(C=M=re,w=m):M=M.next=re,Ze.lanes|=J,hr|=J;re=F.action,rs&&r(m,re),m=F.hasEagerState?F.eagerState:r(m,re)}else J={lane:re,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(C=M=J,w=m):M=M.next=J,Ze.lanes|=re,hr|=re;F=F.next}while(F!==null&&F!==t);if(M===null?w=m:M.next=C,!an(m,e.memoizedState)&&(Ft=!0,te&&(r=Vs,r!==null)))throw r;e.memoizedState=m,e.baseState=w,e.baseQueue=M,u.lastRenderedState=m}return d===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function xh(e){var t=$t(),r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=e;var u=r.dispatch,d=r.pending,m=t.memoizedState;if(d!==null){r.pending=null;var w=d=d.next;do m=e(m,w.action),w=w.next;while(w!==d);an(m,t.memoizedState)||(Ft=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),r.lastRenderedState=m}return[m,u]}function Xf(e,t,r){var u=Ze,d=$t(),m=Je;if(m){if(r===void 0)throw Error(l(407));r=r()}else r=t();var w=!an((gt||d).memoizedState,r);if(w&&(d.memoizedState=r,Ft=!0),d=d.queue,Ch(Qf.bind(null,u,d,e),[e]),d.getSnapshot!==t||w||Yt!==null&&Yt.memoizedState.tag&1){if(u.flags|=2048,Ws(9,{destroy:void 0},Jf.bind(null,u,d,r,t),null),wt===null)throw Error(l(349));m||(wa&127)!==0||Wf(u,t,r)}return r}function Wf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ze.updateQueue,t===null?(t=Au(),Ze.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Jf(e,t,r,u){t.value=r,t.getSnapshot=u,em(t)&&tm(e)}function Qf(e,t,r){return r(function(){em(t)&&tm(e)})}function em(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!an(e,r)}catch{return!0}}function tm(e){var t=fi(e,2);t!==null&&Un(t,e,2)}function Eh(e){var t=Tn();if(typeof e=="function"){var r=e;if(e=r(),rs){On(!0);try{r()}finally{On(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t}function nm(e,t,r,u){return e.baseState=r,Sh(e,gt,typeof u=="function"?u:Sa)}function e_(e,t,r,u,d){if(zu(e))throw Error(l(485));if(e=t.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};$.T!==null?r(!0):m.isTransition=!1,u(m),r=t.pending,r===null?(m.next=t.pending=m,im(t,m)):(m.next=r.next,t.pending=r.next=m)}}function im(e,t){var r=t.action,u=t.payload,d=e.state;if(t.isTransition){var m=$.T,w={};$.T=w;try{var C=r(d,u),M=$.S;M!==null&&M(w,C),am(e,t,C)}catch(F){Th(e,t,F)}finally{m!==null&&w.types!==null&&(m.types=w.types),$.T=m}}else try{m=r(d,u),am(e,t,m)}catch(F){Th(e,t,F)}}function am(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){rm(e,t,u)},function(u){return Th(e,t,u)}):rm(e,t,r)}function rm(e,t,r){t.status="fulfilled",t.value=r,sm(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,im(e,r)))}function Th(e,t,r){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do t.status="rejected",t.reason=r,sm(t),t=t.next;while(t!==u)}e.action=null}function sm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function om(e,t){return t}function lm(e,t){if(Je){var r=wt.formState;if(r!==null){e:{var u=Ze;if(Je){if(lt){t:{for(var d=lt,m=zn;d.nodeType!==8;){if(!m){d=null;break t}if(d=gi(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){lt=gi(d.nextSibling),u=d.data==="F!";break e}}Ji(u)}u=!1}u&&(t=r[0])}}return r=Tn(),r.memoizedState=r.baseState=t,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:om,lastRenderedState:t},r.queue=u,r=Om.bind(null,Ze,u),u.dispatch=r,u=Eh(!1),m=kh.bind(null,Ze,!1,u.queue),u=Tn(),d={state:t,dispatch:null,action:e,pending:null},u.queue=d,r=e_.bind(null,Ze,d,m,r),d.dispatch=r,u.memoizedState=e,[t,r,!1]}function um(e){var t=$t();return cm(t,gt,e)}function cm(e,t,r){if(t=Sh(e,t,om)[0],e=Lu(Sa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var u=nl(t)}catch(w){throw w===$s?bu:w}else u=t;t=$t();var d=t.queue,m=d.dispatch;return r!==t.memoizedState&&(Ze.flags|=2048,Ws(9,{destroy:void 0},t_.bind(null,d,r),null)),[u,m,e]}function t_(e,t){e.action=t}function hm(e){var t=$t(),r=gt;if(r!==null)return cm(t,r,e);$t(),t=t.memoizedState,r=$t();var u=r.queue.dispatch;return r.memoizedState=e,[t,u,!1]}function Ws(e,t,r,u){return e={tag:e,create:r,deps:u,inst:t,next:null},t=Ze.updateQueue,t===null&&(t=Au(),Ze.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(u=r.next,r.next=e,e.next=u,t.lastEffect=e),e}function dm(){return $t().memoizedState}function ku(e,t,r,u){var d=Tn();Ze.flags|=e,d.memoizedState=Ws(1|t,{destroy:void 0},r,u===void 0?null:u)}function ju(e,t,r,u){var d=$t();u=u===void 0?null:u;var m=d.memoizedState.inst;gt!==null&&u!==null&&gh(u,gt.memoizedState.deps)?d.memoizedState=Ws(t,m,r,u):(Ze.flags|=e,d.memoizedState=Ws(1|t,m,r,u))}function fm(e,t){ku(8390656,8,e,t)}function Ch(e,t){ju(2048,8,e,t)}function n_(e){Ze.flags|=4;var t=Ze.updateQueue;if(t===null)t=Au(),Ze.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function mm(e){var t=$t().memoizedState;return n_({ref:t,nextImpl:e}),function(){if((ht&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function pm(e,t){return ju(4,2,e,t)}function gm(e,t){return ju(4,4,e,t)}function vm(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ym(e,t,r){r=r!=null?r.concat([e]):null,ju(4,4,vm.bind(null,t,e),r)}function Oh(){}function _m(e,t){var r=$t();t=t===void 0?null:t;var u=r.memoizedState;return t!==null&&gh(t,u[1])?u[0]:(r.memoizedState=[e,t],e)}function bm(e,t){var r=$t();t=t===void 0?null:t;var u=r.memoizedState;if(t!==null&&gh(t,u[1]))return u[0];if(u=e(),rs){On(!0);try{e()}finally{On(!1)}}return r.memoizedState=[u,t],u}function Ah(e,t,r){return r===void 0||(wa&1073741824)!==0&&(it&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=wp(),Ze.lanes|=e,hr|=e,r)}function wm(e,t,r,u){return an(r,t)?r:Ys.current!==null?(e=Ah(e,r,u),an(e,t)||(Ft=!0),e):(wa&42)===0||(wa&1073741824)!==0&&(it&261930)===0?(Ft=!0,e.memoizedState=r):(e=wp(),Ze.lanes|=e,hr|=e,t)}function Sm(e,t,r,u,d){var m=ue.p;ue.p=m!==0&&8>m?m:8;var w=$.T,C={};$.T=C,kh(e,!1,t,r);try{var M=d(),F=$.S;if(F!==null&&F(C,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var te=Wy(M,u);il(e,t,te,Jn(e))}else il(e,t,u,Jn(e))}catch(re){il(e,t,{then:function(){},status:"rejected",reason:re},Jn())}finally{ue.p=m,w!==null&&C.types!==null&&(w.types=C.types),$.T=w}}function i_(){}function Rh(e,t,r,u){if(e.tag!==5)throw Error(l(476));var d=xm(e).queue;Sm(e,d,t,ne,r===null?i_:function(){return Em(e),r(u)})}function xm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:ne},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Em(e){var t=xm(e);t.next===null&&(t=e.alternate.memoizedState),il(e,t.next.queue,{},Jn())}function Lh(){return un(bl)}function Tm(){return $t().memoizedState}function Cm(){return $t().memoizedState}function a_(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Jn();e=rr(r);var u=sr(t,e,r);u!==null&&(Un(u,t,r),Jo(u,t,r)),t={cache:rh()},e.payload=t;return}t=t.return}}function r_(e,t,r){var u=Jn();r={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},zu(e)?Am(t,r):(r=qo(e,t,r,u),r!==null&&(Un(r,e,u),Rm(r,t,u)))}function Om(e,t,r){var u=Jn();il(e,t,r,u)}function il(e,t,r,u){var d={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(zu(e))Am(t,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=t.lastRenderedReducer,m!==null))try{var w=t.lastRenderedState,C=m(w,r);if(d.hasEagerState=!0,d.eagerState=C,an(C,w))return Xi(e,t,d,0),wt===null&&Fr(),!1}catch{}if(r=qo(e,t,d,u),r!==null)return Un(r,e,u),Rm(r,t,u),!0}return!1}function kh(e,t,r,u){if(u={lane:2,revertLane:ud(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},zu(e)){if(t)throw Error(l(479))}else t=qo(e,r,u,2),t!==null&&Un(t,e,2)}function zu(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function Am(e,t){Fs=Cu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Rm(e,t,r){if((r&4194048)!==0){var u=t.lanes;u&=e.pendingLanes,r|=u,t.lanes=r,z(e,r)}}var al={readContext:un,use:Ru,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};al.useEffectEvent=Ht;var Lm={readContext:un,use:Ru,useCallback:function(e,t){return Tn().memoizedState=[e,t===void 0?null:t],e},useContext:un,useEffect:fm,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,ku(4194308,4,vm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ku(4194308,4,e,t)},useInsertionEffect:function(e,t){ku(4,2,e,t)},useMemo:function(e,t){var r=Tn();t=t===void 0?null:t;var u=e();if(rs){On(!0);try{e()}finally{On(!1)}}return r.memoizedState=[u,t],u},useReducer:function(e,t,r){var u=Tn();if(r!==void 0){var d=r(t);if(rs){On(!0);try{r(t)}finally{On(!1)}}}else d=t;return u.memoizedState=u.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},u.queue=e,e=e.dispatch=r_.bind(null,Ze,e),[u.memoizedState,e]},useRef:function(e){var t=Tn();return e={current:e},t.memoizedState=e},useState:function(e){e=Eh(e);var t=e.queue,r=Om.bind(null,Ze,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Oh,useDeferredValue:function(e,t){var r=Tn();return Ah(r,e,t)},useTransition:function(){var e=Eh(!1);return e=Sm.bind(null,Ze,e.queue,!0,!1),Tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var u=Ze,d=Tn();if(Je){if(r===void 0)throw Error(l(407));r=r()}else{if(r=t(),wt===null)throw Error(l(349));(it&127)!==0||Wf(u,t,r)}d.memoizedState=r;var m={value:r,getSnapshot:t};return d.queue=m,fm(Qf.bind(null,u,m,e),[e]),u.flags|=2048,Ws(9,{destroy:void 0},Jf.bind(null,u,m,r,t),null),r},useId:function(){var e=Tn(),t=wt.identifierPrefix;if(Je){var r=fe,u=ae;r=(u&~(1<<32-nn(u)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Ou++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=Jy++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Lh,useFormState:lm,useActionState:lm,useOptimistic:function(e){var t=Tn();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=kh.bind(null,Ze,!0,r),r.dispatch=t,[e,t]},useMemoCache:wh,useCacheRefresh:function(){return Tn().memoizedState=a_.bind(null,Ze)},useEffectEvent:function(e){var t=Tn(),r={impl:e};return t.memoizedState=r,function(){if((ht&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},jh={readContext:un,use:Ru,useCallback:_m,useContext:un,useEffect:Ch,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:gm,useMemo:bm,useReducer:Lu,useRef:dm,useState:function(){return Lu(Sa)},useDebugValue:Oh,useDeferredValue:function(e,t){var r=$t();return wm(r,gt.memoizedState,e,t)},useTransition:function(){var e=Lu(Sa)[0],t=$t().memoizedState;return[typeof e=="boolean"?e:nl(e),t]},useSyncExternalStore:Xf,useId:Tm,useHostTransitionStatus:Lh,useFormState:um,useActionState:um,useOptimistic:function(e,t){var r=$t();return nm(r,gt,e,t)},useMemoCache:wh,useCacheRefresh:Cm};jh.useEffectEvent=mm;var km={readContext:un,use:Ru,useCallback:_m,useContext:un,useEffect:Ch,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:gm,useMemo:bm,useReducer:xh,useRef:dm,useState:function(){return xh(Sa)},useDebugValue:Oh,useDeferredValue:function(e,t){var r=$t();return gt===null?Ah(r,e,t):wm(r,gt.memoizedState,e,t)},useTransition:function(){var e=xh(Sa)[0],t=$t().memoizedState;return[typeof e=="boolean"?e:nl(e),t]},useSyncExternalStore:Xf,useId:Tm,useHostTransitionStatus:Lh,useFormState:hm,useActionState:hm,useOptimistic:function(e,t){var r=$t();return gt!==null?nm(r,gt,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:wh,useCacheRefresh:Cm};km.useEffectEvent=mm;function zh(e,t,r,u){t=e.memoizedState,r=r(u,t),r=r==null?t:T({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Mh={enqueueSetState:function(e,t,r){e=e._reactInternals;var u=Jn(),d=rr(u);d.payload=t,r!=null&&(d.callback=r),t=sr(e,d,u),t!==null&&(Un(t,e,u),Jo(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var u=Jn(),d=rr(u);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=sr(e,d,u),t!==null&&(Un(t,e,u),Jo(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Jn(),u=rr(r);u.tag=2,t!=null&&(u.callback=t),t=sr(e,u,r),t!==null&&(Un(t,e,r),Jo(t,e,r))}};function jm(e,t,r,u,d,m,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,m,w):t.prototype&&t.prototype.isPureReactComponent?!Ja(r,u)||!Ja(d,m):!0}function zm(e,t,r,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,u),t.state!==e&&Mh.enqueueReplaceState(t,t.state,null)}function ss(e,t){var r=t;if("ref"in t){r={};for(var u in t)u!=="ref"&&(r[u]=t[u])}if(e=e.defaultProps){r===t&&(r=T({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}function Mm(e){Yr(e)}function Dm(e){console.error(e)}function Nm(e){Yr(e)}function Mu(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(u){setTimeout(function(){throw u})}}function Pm(e,t,r){try{var u=e.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Dh(e,t,r){return r=rr(r),r.tag=3,r.payload={element:null},r.callback=function(){Mu(e,t)},r}function Um(e){return e=rr(e),e.tag=3,e}function Bm(e,t,r,u){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=u.value;e.payload=function(){return d(m)},e.callback=function(){Pm(t,r,u)}}var w=r.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){Pm(t,r,u),typeof d!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function s_(e,t,r,u,d){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(t=r.alternate,t!==null&&Zs(t,r,d,!0),r=Yn.current,r!==null){switch(r.tag){case 31:case 13:return pi===null?$u():r.alternate===null&&It===0&&(It=3),r.flags&=-257,r.flags|=65536,r.lanes=d,u===wu?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([u]):t.add(u),sd(e,u,d)),!1;case 22:return r.flags|=65536,u===wu?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([u]):r.add(u)),sd(e,u,d)),!1}throw Error(l(435,r.tag))}return sd(e,u,d),$u(),!1}if(Je)return t=Yn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=d,u!==qs&&(e=Error(l(422),{cause:u}),Jr(o(e,r)))):(u!==qs&&(t=Error(l(423),{cause:u}),Jr(o(t,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,u=o(u,r),d=Dh(e.stateNode,u,d),hh(e,d),It!==4&&(It=2)),!1;var m=Error(l(520),{cause:u});if(m=o(m,r),dl===null?dl=[m]:dl.push(m),It!==4&&(It=2),t===null)return!0;u=o(u,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=Dh(r.stateNode,u,e),hh(r,e),!1;case 1:if(t=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(dr===null||!dr.has(m))))return r.flags|=65536,d&=-d,r.lanes|=d,d=Um(d),Bm(d,e,r,u),hh(r,d),!1}r=r.return}while(r!==null);return!1}var Nh=Error(l(461)),Ft=!1;function cn(e,t,r,u){t.child=e===null?Zf(t,null,r,u):as(t,e.child,r,u)}function Hm(e,t,r,u,d){r=r.render;var m=t.ref;if("ref"in u){var w={};for(var C in u)C!=="ref"&&(w[C]=u[C])}else w=u;return es(t),u=vh(e,t,r,w,m,d),C=yh(),e!==null&&!Ft?(_h(e,t,d),xa(e,t,d)):(Je&&C&&Jt(t),t.flags|=1,cn(e,t,u,d),t.child)}function Im(e,t,r,u,d){if(e===null){var m=r.type;return typeof m=="function"&&!Hs(m)&&m.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=m,qm(e,t,m,u,d)):(e=Wr(r.type,null,u,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(m=e.child,!Gh(e,d)){var w=m.memoizedProps;if(r=r.compare,r=r!==null?r:Ja,r(w,u)&&e.ref===t.ref)return xa(e,t,d)}return t.flags|=1,e=mi(m,u),e.ref=t.ref,e.return=t,t.child=e}function qm(e,t,r,u,d){if(e!==null){var m=e.memoizedProps;if(Ja(m,u)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=u=m,Gh(e,d))(e.flags&131072)!==0&&(Ft=!0);else return t.lanes=e.lanes,xa(e,t,d)}return Ph(e,t,r,u,d)}function Zm(e,t,r,u){var d=u.children,m=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((t.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,e!==null){for(u=t.child=e.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~m}else u=0,t.child=null;return Gm(e,t,m,r,u)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_u(t,m!==null?m.cachePool:null),m!==null?$f(t,m):fh(),Kf(t);else return u=t.lanes=536870912,Gm(e,t,m!==null?m.baseLanes|r:r,r,u)}else m!==null?(_u(t,m.cachePool),$f(t,m),lr(),t.memoizedState=null):(e!==null&&_u(t,null),fh(),lr());return cn(e,t,d,r),t.child}function rl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Gm(e,t,r,u,d){var m=oh();return m=m===null?null:{parent:Kt._currentValue,pool:m},t.memoizedState={baseLanes:r,cachePool:m},e!==null&&_u(t,null),fh(),Kf(t),e!==null&&Zs(e,t,u,!0),t.childLanes=d,null}function Du(e,t){return t=Pu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Vm(e,t,r){return as(t,e.child,null,r),e=Du(t,t.pendingProps),e.flags|=2,Fn(t),t.memoizedState=null,e}function o_(e,t,r){var u=t.pendingProps,d=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Je){if(u.mode==="hidden")return e=Du(t,u),t.lanes=536870912,rl(null,e);if(ph(t),(e=lt)?(e=ig(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:W!==null?{id:ae,overflow:fe}:null,retryLane:536870912,hydrationErrors:null},r=Go(e),r.return=t,t.child=r,ot=t,lt=null)):e=null,e===null)throw Ji(t);return t.lanes=536870912,null}return Du(t,u)}var m=e.memoizedState;if(m!==null){var w=m.dehydrated;if(ph(t),d)if(t.flags&256)t.flags&=-257,t=Vm(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ft||Zs(e,t,r,!1),d=(r&e.childLanes)!==0,Ft||d){if(u=wt,u!==null&&(w=H(u,r),w!==0&&w!==m.retryLane))throw m.retryLane=w,fi(e,w),Un(u,e,w),Nh;$u(),t=Vm(e,t,r)}else e=m.treeContext,lt=gi(w.nextSibling),ot=t,Je=!0,Wi=null,zn=!1,e!==null&&En(t,e),t=Du(t,u),t.flags|=4096;return t}return e=mi(e.child,{mode:u.mode,children:u.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Nu(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Ph(e,t,r,u,d){return es(t),r=vh(e,t,r,u,void 0,d),u=yh(),e!==null&&!Ft?(_h(e,t,d),xa(e,t,d)):(Je&&u&&Jt(t),t.flags|=1,cn(e,t,r,d),t.child)}function $m(e,t,r,u,d,m){return es(t),t.updateQueue=null,r=Ff(t,u,r,d),Yf(e),u=yh(),e!==null&&!Ft?(_h(e,t,m),xa(e,t,m)):(Je&&u&&Jt(t),t.flags|=1,cn(e,t,r,m),t.child)}function Km(e,t,r,u,d){if(es(t),t.stateNode===null){var m=va,w=r.contextType;typeof w=="object"&&w!==null&&(m=un(w)),m=new r(u,m),t.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Mh,t.stateNode=m,m._reactInternals=t,m=t.stateNode,m.props=u,m.state=t.memoizedState,m.refs={},uh(t),w=r.contextType,m.context=typeof w=="object"&&w!==null?un(w):va,m.state=t.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(zh(t,r,w,u),m.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&Mh.enqueueReplaceState(m,m.state,null),el(t,u,m,d),Qo(),m.state=t.memoizedState),typeof m.componentDidMount=="function"&&(t.flags|=4194308),u=!0}else if(e===null){m=t.stateNode;var C=t.memoizedProps,M=ss(r,C);m.props=M;var F=m.context,te=r.contextType;w=va,typeof te=="object"&&te!==null&&(w=un(te));var re=r.getDerivedStateFromProps;te=typeof re=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=t.pendingProps!==C,te||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||F!==w)&&zm(t,m,u,w),ar=!1;var J=t.memoizedState;m.state=J,el(t,u,m,d),Qo(),F=t.memoizedState,C||J!==F||ar?(typeof re=="function"&&(zh(t,r,re,u),F=t.memoizedState),(M=ar||jm(t,r,M,u,J,F,w))?(te||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=F),m.props=u,m.state=F,m.context=w,u=M):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{m=t.stateNode,ch(e,t),w=t.memoizedProps,te=ss(r,w),m.props=te,re=t.pendingProps,J=m.context,F=r.contextType,M=va,typeof F=="object"&&F!==null&&(M=un(F)),C=r.getDerivedStateFromProps,(F=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==re||J!==M)&&zm(t,m,u,M),ar=!1,J=t.memoizedState,m.state=J,el(t,u,m,d),Qo();var ee=t.memoizedState;w!==re||J!==ee||ar||e!==null&&e.dependencies!==null&&vu(e.dependencies)?(typeof C=="function"&&(zh(t,r,C,u),ee=t.memoizedState),(te=ar||jm(t,r,te,u,J,ee,M)||e!==null&&e.dependencies!==null&&vu(e.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,ee,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,ee,M)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=ee),m.props=u,m.state=ee,m.context=M,u=te):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),u=!1)}return m=u,Nu(e,t),u=(t.flags&128)!==0,m||u?(m=t.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:m.render(),t.flags|=1,e!==null&&u?(t.child=as(t,e.child,null,d),t.child=as(t,null,r,d)):cn(e,t,r,d),t.memoizedState=m.state,e=t.child):e=xa(e,t,d),e}function Ym(e,t,r,u){return _a(),t.flags|=256,cn(e,t,r,u),t.child}var Uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bh(e){return{baseLanes:e,cachePool:Pf()}}function Hh(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=Wn),e}function Fm(e,t,r){var u=t.pendingProps,d=!1,m=(t.flags&128)!==0,w;if((w=m)||(w=e!==null&&e.memoizedState===null?!1:(Vt.current&2)!==0),w&&(d=!0,t.flags&=-129),w=(t.flags&32)!==0,t.flags&=-33,e===null){if(Je){if(d?or(t):lr(),(e=lt)?(e=ig(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:W!==null?{id:ae,overflow:fe}:null,retryLane:536870912,hydrationErrors:null},r=Go(e),r.return=t,t.child=r,ot=t,lt=null)):e=null,e===null)throw Ji(t);return Sd(e)?t.lanes=32:t.lanes=536870912,null}var C=u.children;return u=u.fallback,d?(lr(),d=t.mode,C=Pu({mode:"hidden",children:C},d),u=ya(u,d,r,null),C.return=t,u.return=t,C.sibling=u,t.child=C,u=t.child,u.memoizedState=Bh(r),u.childLanes=Hh(e,w,r),t.memoizedState=Uh,rl(null,u)):(or(t),Ih(t,C))}var M=e.memoizedState;if(M!==null&&(C=M.dehydrated,C!==null)){if(m)t.flags&256?(or(t),t.flags&=-257,t=qh(e,t,r)):t.memoizedState!==null?(lr(),t.child=e.child,t.flags|=128,t=null):(lr(),C=u.fallback,d=t.mode,u=Pu({mode:"visible",children:u.children},d),C=ya(C,d,r,null),C.flags|=2,u.return=t,C.return=t,u.sibling=C,t.child=u,as(t,e.child,null,r),u=t.child,u.memoizedState=Bh(r),u.childLanes=Hh(e,w,r),t.memoizedState=Uh,t=rl(null,u));else if(or(t),Sd(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var F=w.dgst;w=F,u=Error(l(419)),u.stack="",u.digest=w,Jr({value:u,source:null,stack:null}),t=qh(e,t,r)}else if(Ft||Zs(e,t,r,!1),w=(r&e.childLanes)!==0,Ft||w){if(w=wt,w!==null&&(u=H(w,r),u!==0&&u!==M.retryLane))throw M.retryLane=u,fi(e,u),Un(w,e,u),Nh;wd(C)||$u(),t=qh(e,t,r)}else wd(C)?(t.flags|=192,t.child=e.child,t=null):(e=M.treeContext,lt=gi(C.nextSibling),ot=t,Je=!0,Wi=null,zn=!1,e!==null&&En(t,e),t=Ih(t,u.children),t.flags|=4096);return t}return d?(lr(),C=u.fallback,d=t.mode,M=e.child,F=M.sibling,u=mi(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,F!==null?C=mi(F,C):(C=ya(C,d,r,null),C.flags|=2),C.return=t,u.return=t,u.sibling=C,t.child=u,rl(null,u),u=t.child,C=e.child.memoizedState,C===null?C=Bh(r):(d=C.cachePool,d!==null?(M=Kt._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Pf(),C={baseLanes:C.baseLanes|r,cachePool:d}),u.memoizedState=C,u.childLanes=Hh(e,w,r),t.memoizedState=Uh,rl(e.child,u)):(or(t),r=e.child,e=r.sibling,r=mi(r,{mode:"visible",children:u.children}),r.return=t,r.sibling=null,e!==null&&(w=t.deletions,w===null?(t.deletions=[e],t.flags|=16):w.push(e)),t.child=r,t.memoizedState=null,r)}function Ih(e,t){return t=Pu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Pu(e,t){return e=yn(22,e,null,t),e.lanes=0,e}function qh(e,t,r){return as(t,e.child,null,r),e=Ih(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xm(e,t,r){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),ih(e.return,t,r)}function Zh(e,t,r,u,d,m){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:d,treeForkCount:m}:(w.isBackwards=t,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=r,w.tailMode=d,w.treeForkCount=m)}function Wm(e,t,r){var u=t.pendingProps,d=u.revealOrder,m=u.tail;u=u.children;var w=Vt.current,C=(w&2)!==0;if(C?(w=w&1|2,t.flags|=128):w&=1,oe(Vt,w),cn(e,t,u,r),u=Je?E:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xm(e,r,t);else if(e.tag===19)Xm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(r=t.child,d=null;r!==null;)e=r.alternate,e!==null&&Tu(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=t.child,t.child=null):(d=r.sibling,r.sibling=null),Zh(t,!1,d,r,m,u);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Tu(e)===null){t.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}Zh(t,!0,r,null,m,u);break;case"together":Zh(t,!1,null,null,void 0,u);break;default:t.memoizedState=null}return t.child}function xa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hr|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(Zs(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,r=mi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=mi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Gh(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&vu(e)))}function l_(e,t,r){switch(t.tag){case 3:dt(t,t.stateNode.containerInfo),ir(t,Kt,e.memoizedState.cache),_a();break;case 27:case 5:bi(t);break;case 4:dt(t,t.stateNode.containerInfo);break;case 10:ir(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ph(t),null;break;case 13:var u=t.memoizedState;if(u!==null)return u.dehydrated!==null?(or(t),t.flags|=128,null):(r&t.child.childLanes)!==0?Fm(e,t,r):(or(t),e=xa(e,t,r),e!==null?e.sibling:null);or(t);break;case 19:var d=(e.flags&128)!==0;if(u=(r&t.childLanes)!==0,u||(Zs(e,t,r,!1),u=(r&t.childLanes)!==0),d){if(u)return Wm(e,t,r);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(Vt,Vt.current),u)break;return null;case 22:return t.lanes=0,Zm(e,t,r,t.pendingProps);case 24:ir(t,Kt,e.memoizedState.cache)}return xa(e,t,r)}function Jm(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ft=!0;else{if(!Gh(e,r)&&(t.flags&128)===0)return Ft=!1,l_(e,t,r);Ft=(e.flags&131072)!==0}else Ft=!1,Je&&(t.flags&1048576)!==0&&$e(t,E,t.index);switch(t.lanes=0,t.tag){case 16:e:{var u=t.pendingProps;if(e=ns(t.elementType),t.type=e,typeof e=="function")Hs(e)?(u=ss(e,u),t.tag=1,t=Km(null,t,e,u,r)):(t.tag=0,t=Ph(null,t,e,u,r));else{if(e!=null){var d=e.$$typeof;if(d===se){t.tag=11,t=Hm(null,t,e,u,r);break e}else if(d===U){t.tag=14,t=Im(null,t,e,u,r);break e}}throw t=Ye(e)||e,Error(l(306,t,""))}}return t;case 0:return Ph(e,t,t.type,t.pendingProps,r);case 1:return u=t.type,d=ss(u,t.pendingProps),Km(e,t,u,d,r);case 3:e:{if(dt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));u=t.pendingProps;var m=t.memoizedState;d=m.element,ch(e,t),el(t,u,null,r);var w=t.memoizedState;if(u=w.cache,ir(t,Kt,u),u!==m.cache&&ah(t,[Kt],r,!0),Qo(),u=w.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:w.cache},t.updateQueue.baseState=m,t.memoizedState=m,t.flags&256){t=Ym(e,t,u,r);break e}else if(u!==d){d=o(Error(l(424)),t),Jr(d),t=Ym(e,t,u,r);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,lt=gi(e.firstChild),ot=t,Je=!0,Wi=null,zn=!0,r=Zf(t,null,u,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_a(),u===d){t=xa(e,t,r);break e}cn(e,t,u,r)}t=t.child}return t;case 26:return Nu(e,t),e===null?(r=ug(t.type,null,t.pendingProps,null))?t.memoizedState=r:Je||(r=t.type,e=t.pendingProps,u=Qu(me.current).createElement(r),u[pe]=t,u[_e]=e,hn(u,r,e),Et(u),t.stateNode=u):t.memoizedState=ug(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return bi(t),e===null&&Je&&(u=t.stateNode=sg(t.type,t.pendingProps,me.current),ot=t,zn=!0,d=lt,gr(t.type)?(xd=d,lt=gi(u.firstChild)):lt=d),cn(e,t,t.pendingProps.children,r),Nu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Je&&((d=u=lt)&&(u=U_(u,t.type,t.pendingProps,zn),u!==null?(t.stateNode=u,ot=t,lt=gi(u.firstChild),zn=!1,d=!0):d=!1),d||Ji(t)),bi(t),d=t.type,m=t.pendingProps,w=e!==null?e.memoizedProps:null,u=m.children,yd(d,m)?u=null:w!==null&&yd(d,w)&&(t.flags|=32),t.memoizedState!==null&&(d=vh(e,t,Qy,null,null,r),bl._currentValue=d),Nu(e,t),cn(e,t,u,r),t.child;case 6:return e===null&&Je&&((e=r=lt)&&(r=B_(r,t.pendingProps,zn),r!==null?(t.stateNode=r,ot=t,lt=null,e=!0):e=!1),e||Ji(t)),null;case 13:return Fm(e,t,r);case 4:return dt(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=as(t,null,u,r):cn(e,t,u,r),t.child;case 11:return Hm(e,t,t.type,t.pendingProps,r);case 7:return cn(e,t,t.pendingProps,r),t.child;case 8:return cn(e,t,t.pendingProps.children,r),t.child;case 12:return cn(e,t,t.pendingProps.children,r),t.child;case 10:return u=t.pendingProps,ir(t,t.type,u.value),cn(e,t,u.children,r),t.child;case 9:return d=t.type._context,u=t.pendingProps.children,es(t),d=un(d),u=u(d),t.flags|=1,cn(e,t,u,r),t.child;case 14:return Im(e,t,t.type,t.pendingProps,r);case 15:return qm(e,t,t.type,t.pendingProps,r);case 19:return Wm(e,t,r);case 31:return o_(e,t,r);case 22:return Zm(e,t,r,t.pendingProps);case 24:return es(t),u=un(Kt),e===null?(d=oh(),d===null&&(d=wt,m=rh(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=r),d=m),t.memoizedState={parent:u,cache:d},uh(t),ir(t,Kt,d)):((e.lanes&r)!==0&&(ch(e,t),el(t,null,null,r),Qo()),d=e.memoizedState,m=t.memoizedState,d.parent!==u?(d={parent:u,cache:u},t.memoizedState=d,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=d),ir(t,Kt,u)):(u=m.cache,ir(t,Kt,u),u!==d.cache&&ah(t,[Kt],r,!0))),cn(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Ea(e){e.flags|=4}function Vh(e,t,r,u,d){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Tp())e.flags|=8192;else throw is=wu,lh}else e.flags&=-16777217}function Qm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!mg(t))if(Tp())e.flags|=8192;else throw is=wu,lh}function Uu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?fa():536870912,e.lanes|=t,to|=t)}function sl(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,u=0;if(t)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=u,e.childLanes=r,t}function u_(e,t,r){var u=t.pendingProps;switch(Bt(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return Rt(t),null;case 3:return r=t.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),t.memoizedState.cache!==u&&(t.flags|=2048),ba(Kt),St(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ai(t)?Ea(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ko())),Rt(t),null;case 26:var d=t.type,m=t.memoizedState;return e===null?(Ea(t),m!==null?(Rt(t),Qm(t,m)):(Rt(t),Vh(t,d,null,u,r))):m?m!==e.memoizedState?(Ea(t),Rt(t),Qm(t,m)):(Rt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==u&&Ea(t),Rt(t),Vh(t,d,e,u,r)),null;case 27:if(Ni(t),r=me.current,d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==u&&Ea(t);else{if(!u){if(t.stateNode===null)throw Error(l(166));return Rt(t),null}e=le.current,Ai(t)?$o(t):(e=sg(d,u,r),t.stateNode=e,Ea(t))}return Rt(t),null;case 5:if(Ni(t),d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==u&&Ea(t);else{if(!u){if(t.stateNode===null)throw Error(l(166));return Rt(t),null}if(m=le.current,Ai(t))$o(t);else{var w=Qu(me.current);switch(m){case 1:m=w.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=w.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=w.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?w.createElement(d,{is:u.is}):w.createElement(d)}}m[pe]=t,m[_e]=u;e:for(w=t.child;w!==null;){if(w.tag===5||w.tag===6)m.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}t.stateNode=m;e:switch(hn(m,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ea(t)}}return Rt(t),Vh(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==u&&Ea(t);else{if(typeof u!="string"&&t.stateNode===null)throw Error(l(166));if(e=me.current,Ai(t)){if(e=t.stateNode,r=t.memoizedProps,u=null,d=ot,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}e[pe]=t,e=!!(e.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||Fp(e.nodeValue,r)),e||Ji(t,!0)}else e=Qu(e).createTextNode(u),e[pe]=t,t.stateNode=e}return Rt(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(u=Ai(t),r!==null){if(e===null){if(!u)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[pe]=t}else _a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Rt(t),e=!1}else r=Ko(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(Fn(t),t):(Fn(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Rt(t),null;case 13:if(u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ai(t),u!==null&&u.dehydrated!==null){if(e===null){if(!d)throw Error(l(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[pe]=t}else _a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Rt(t),d=!1}else d=Ko(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return t.flags&256?(Fn(t),t):(Fn(t),null)}return Fn(t),(t.flags&128)!==0?(t.lanes=r,t):(r=u!==null,e=e!==null&&e.memoizedState!==null,r&&(u=t.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Uu(t,t.updateQueue),Rt(t),null);case 4:return St(),e===null&&fd(t.stateNode.containerInfo),Rt(t),null;case 10:return ba(t.type),Rt(t),null;case 19:if(Q(Vt),u=t.memoizedState,u===null)return Rt(t),null;if(d=(t.flags&128)!==0,m=u.rendering,m===null)if(d)sl(u,!1);else{if(It!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=Tu(e),m!==null){for(t.flags|=128,sl(u,!1),e=m.updateQueue,t.updateQueue=e,Uu(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)Zo(r,e),r=r.sibling;return oe(Vt,Vt.current&1|2),Je&&Oe(t,u.treeForkCount),t.child}e=e.sibling}u.tail!==null&&zt()>Zu&&(t.flags|=128,d=!0,sl(u,!1),t.lanes=4194304)}else{if(!d)if(e=Tu(m),e!==null){if(t.flags|=128,d=!0,e=e.updateQueue,t.updateQueue=e,Uu(t,e),sl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Je)return Rt(t),null}else 2*zt()-u.renderingStartTime>Zu&&r!==536870912&&(t.flags|=128,d=!0,sl(u,!1),t.lanes=4194304);u.isBackwards?(m.sibling=t.child,t.child=m):(e=u.last,e!==null?e.sibling=m:t.child=m,u.last=m)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=zt(),e.sibling=null,r=Vt.current,oe(Vt,d?r&1|2:r&1),Je&&Oe(t,u.treeForkCount),e):(Rt(t),null);case 22:case 23:return Fn(t),mh(),u=t.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(t.flags|=8192):u&&(t.flags|=8192),u?(r&536870912)!==0&&(t.flags&128)===0&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),r=t.updateQueue,r!==null&&Uu(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),u=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(u=t.memoizedState.cachePool.pool),u!==r&&(t.flags|=2048),e!==null&&Q(ts),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ba(Kt),Rt(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function c_(e,t){switch(Bt(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ba(Kt),St(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ni(t),null;case 31:if(t.memoizedState!==null){if(Fn(t),t.alternate===null)throw Error(l(340));_a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));_a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(Vt),null;case 4:return St(),null;case 10:return ba(t.type),null;case 22:case 23:return Fn(t),mh(),e!==null&&Q(ts),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ba(Kt),null;case 25:return null;default:return null}}function ep(e,t){switch(Bt(t),t.tag){case 3:ba(Kt),St();break;case 26:case 27:case 5:Ni(t);break;case 4:St();break;case 31:t.memoizedState!==null&&Fn(t);break;case 13:Fn(t);break;case 19:Q(Vt);break;case 10:ba(t.type);break;case 22:case 23:Fn(t),mh(),e!==null&&Q(ts);break;case 24:ba(Kt)}}function ol(e,t){try{var r=t.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var d=u.next;r=d;do{if((r.tag&e)===e){u=void 0;var m=r.create,w=r.inst;u=m(),w.destroy=u}r=r.next}while(r!==d)}}catch(C){pt(t,t.return,C)}}function ur(e,t,r){try{var u=t.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&e)===e){var w=u.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,d=t;var M=r,F=C;try{F()}catch(te){pt(d,M,te)}}}u=u.next}while(u!==m)}}catch(te){pt(t,t.return,te)}}function tp(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{Vf(t,r)}catch(u){pt(e,e.return,u)}}}function np(e,t,r){r.props=ss(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(u){pt(e,t,u)}}function ll(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof r=="function"?e.refCleanup=r(u):r.current=u}}catch(d){pt(e,t,d)}}function ea(e,t){var r=e.ref,u=e.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(d){pt(e,t,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){pt(e,t,d)}else r.current=null}function ip(e){var t=e.type,r=e.memoizedProps,u=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break e;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(d){pt(e,e.return,d)}}function $h(e,t,r){try{var u=e.stateNode;j_(u,e.type,r,t),u[_e]=t}catch(d){pt(e,e.return,d)}}function ap(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gr(e.type)||e.tag===4}function Kh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yh(e,t,r){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Rn));else if(u!==4&&(u===27&&gr(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Yh(e,t,r),e=e.sibling;e!==null;)Yh(e,t,r),e=e.sibling}function Bu(e,t,r){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(u!==4&&(u===27&&gr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Bu(e,t,r),e=e.sibling;e!==null;)Bu(e,t,r),e=e.sibling}function rp(e){var t=e.stateNode,r=e.memoizedProps;try{for(var u=e.type,d=t.attributes;d.length;)t.removeAttributeNode(d[0]);hn(t,u,r),t[pe]=e,t[_e]=r}catch(m){pt(e,e.return,m)}}var Ta=!1,Xt=!1,Fh=!1,sp=typeof WeakSet=="function"?WeakSet:Set,sn=null;function h_(e,t){if(e=e.containerInfo,gd=sc,e=Gr(e),$i(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var d=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var w=0,C=-1,M=-1,F=0,te=0,re=e,J=null;t:for(;;){for(var ee;re!==r||d!==0&&re.nodeType!==3||(C=w+d),re!==m||u!==0&&re.nodeType!==3||(M=w+u),re.nodeType===3&&(w+=re.nodeValue.length),(ee=re.firstChild)!==null;)J=re,re=ee;for(;;){if(re===e)break t;if(J===r&&++F===d&&(C=w),J===m&&++te===u&&(M=w),(ee=re.nextSibling)!==null)break;re=J,J=re.parentNode}re=ee}r=C===-1||M===-1?null:{start:C,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(vd={focusedElem:e,selectionRange:r},sc=!1,sn=t;sn!==null;)if(t=sn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,sn=e;else for(;sn!==null;){switch(t=sn,m=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)d=e[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,r=t,d=m.memoizedProps,m=m.memoizedState,u=r.stateNode;try{var we=ss(r.type,d);e=u.getSnapshotBeforeUpdate(we,m),u.__reactInternalSnapshotBeforeUpdate=e}catch(ze){pt(r,r.return,ze)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)bd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,sn=e;break}sn=t.return}}function op(e,t,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Oa(e,r),u&4&&ol(5,r);break;case 1:if(Oa(e,r),u&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(w){pt(r,r.return,w)}else{var d=ss(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(d,t,e.__reactInternalSnapshotBeforeUpdate)}catch(w){pt(r,r.return,w)}}u&64&&tp(r),u&512&&ll(r,r.return);break;case 3:if(Oa(e,r),u&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Vf(e,t)}catch(w){pt(r,r.return,w)}}break;case 27:t===null&&u&4&&rp(r);case 26:case 5:Oa(e,r),t===null&&u&4&&ip(r),u&512&&ll(r,r.return);break;case 12:Oa(e,r);break;case 31:Oa(e,r),u&4&&cp(e,r);break;case 13:Oa(e,r),u&4&&hp(e,r),u&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=b_.bind(null,r),H_(e,r))));break;case 22:if(u=r.memoizedState!==null||Ta,!u){t=t!==null&&t.memoizedState!==null||Xt,d=Ta;var m=Xt;Ta=u,(Xt=t)&&!m?Aa(e,r,(r.subtreeFlags&8772)!==0):Oa(e,r),Ta=d,Xt=m}break;case 30:break;default:Oa(e,r)}}function lp(e){var t=e.alternate;t!==null&&(e.alternate=null,lp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Lt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jt=null,Mn=!1;function Ca(e,t,r){for(r=r.child;r!==null;)up(e,t,r),r=r.sibling}function up(e,t,r){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Pi,r)}catch{}switch(r.tag){case 26:Xt||ea(r,t),Ca(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Xt||ea(r,t);var u=jt,d=Mn;gr(r.type)&&(jt=r.stateNode,Mn=!1),Ca(e,t,r),vl(r.stateNode),jt=u,Mn=d;break;case 5:Xt||ea(r,t);case 6:if(u=jt,d=Mn,jt=null,Ca(e,t,r),jt=u,Mn=d,jt!==null)if(Mn)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(r.stateNode)}catch(m){pt(r,t,m)}else try{jt.removeChild(r.stateNode)}catch(m){pt(r,t,m)}break;case 18:jt!==null&&(Mn?(e=jt,tg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),uo(e)):tg(jt,r.stateNode));break;case 4:u=jt,d=Mn,jt=r.stateNode.containerInfo,Mn=!0,Ca(e,t,r),jt=u,Mn=d;break;case 0:case 11:case 14:case 15:ur(2,r,t),Xt||ur(4,r,t),Ca(e,t,r);break;case 1:Xt||(ea(r,t),u=r.stateNode,typeof u.componentWillUnmount=="function"&&np(r,t,u)),Ca(e,t,r);break;case 21:Ca(e,t,r);break;case 22:Xt=(u=Xt)||r.memoizedState!==null,Ca(e,t,r),Xt=u;break;default:Ca(e,t,r)}}function cp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{uo(e)}catch(r){pt(t,t.return,r)}}}function hp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{uo(e)}catch(r){pt(t,t.return,r)}}function d_(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sp),t;default:throw Error(l(435,e.tag))}}function Hu(e,t){var r=d_(e);t.forEach(function(u){if(!r.has(u)){r.add(u);var d=w_.bind(null,e,u);u.then(d,d)}})}function Dn(e,t){var r=t.deletions;if(r!==null)for(var u=0;u<r.length;u++){var d=r[u],m=e,w=t,C=w;e:for(;C!==null;){switch(C.tag){case 27:if(gr(C.type)){jt=C.stateNode,Mn=!1;break e}break;case 5:jt=C.stateNode,Mn=!1;break e;case 3:case 4:jt=C.stateNode.containerInfo,Mn=!0;break e}C=C.return}if(jt===null)throw Error(l(160));up(m,w,d),jt=null,Mn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)dp(t,e),t=t.sibling}var Li=null;function dp(e,t){var r=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dn(t,e),Nn(e),u&4&&(ur(3,e,e.return),ol(3,e),ur(5,e,e.return));break;case 1:Dn(t,e),Nn(e),u&512&&(Xt||r===null||ea(r,r.return)),u&64&&Ta&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var d=Li;if(Dn(t,e),Nn(e),u&512&&(Xt||r===null||ea(r,r.return)),u&4){var m=r!==null?r.memoizedState:null;if(u=e.memoizedState,r===null)if(u===null)if(e.stateNode===null){e:{u=e.type,r=e.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ct]||m[pe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(u),d.head.insertBefore(m,d.querySelector("head > title"))),hn(m,u,r),m[pe]=e,Et(m),u=m;break e;case"link":var w=dg("link","href",d).get(u+(r.href||""));if(w){for(var C=0;C<w.length;C++)if(m=w[C],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){w.splice(C,1);break t}}m=d.createElement(u),hn(m,u,r),d.head.appendChild(m);break;case"meta":if(w=dg("meta","content",d).get(u+(r.content||""))){for(C=0;C<w.length;C++)if(m=w[C],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){w.splice(C,1);break t}}m=d.createElement(u),hn(m,u,r),d.head.appendChild(m);break;default:throw Error(l(468,u))}m[pe]=e,Et(m),u=m}e.stateNode=u}else fg(d,e.type,e.stateNode);else e.stateNode=hg(d,u,e.memoizedProps);else m!==u?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,u===null?fg(d,e.type,e.stateNode):hg(d,u,e.memoizedProps)):u===null&&e.stateNode!==null&&$h(e,e.memoizedProps,r.memoizedProps)}break;case 27:Dn(t,e),Nn(e),u&512&&(Xt||r===null||ea(r,r.return)),r!==null&&u&4&&$h(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Dn(t,e),Nn(e),u&512&&(Xt||r===null||ea(r,r.return)),e.flags&32){d=e.stateNode;try{oi(d,"")}catch(we){pt(e,e.return,we)}}u&4&&e.stateNode!=null&&(d=e.memoizedProps,$h(e,d,r!==null?r.memoizedProps:d)),u&1024&&(Fh=!0);break;case 6:if(Dn(t,e),Nn(e),u&4){if(e.stateNode===null)throw Error(l(162));u=e.memoizedProps,r=e.stateNode;try{r.nodeValue=u}catch(we){pt(e,e.return,we)}}break;case 3:if(nc=null,d=Li,Li=ec(t.containerInfo),Dn(t,e),Li=d,Nn(e),u&4&&r!==null&&r.memoizedState.isDehydrated)try{uo(t.containerInfo)}catch(we){pt(e,e.return,we)}Fh&&(Fh=!1,fp(e));break;case 4:u=Li,Li=ec(e.stateNode.containerInfo),Dn(t,e),Nn(e),Li=u;break;case 12:Dn(t,e),Nn(e);break;case 31:Dn(t,e),Nn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Hu(e,u)));break;case 13:Dn(t,e),Nn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(qu=zt()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Hu(e,u)));break;case 22:d=e.memoizedState!==null;var M=r!==null&&r.memoizedState!==null,F=Ta,te=Xt;if(Ta=F||d,Xt=te||M,Dn(t,e),Xt=te,Ta=F,Nn(e),u&8192)e:for(t=e.stateNode,t._visibility=d?t._visibility&-2:t._visibility|1,d&&(r===null||M||Ta||Xt||os(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){M=r=t;try{if(m=M.stateNode,d)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=M.stateNode;var re=M.memoizedProps.style,J=re!=null&&re.hasOwnProperty("display")?re.display:null;C.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(we){pt(M,M.return,we)}}}else if(t.tag===6){if(r===null){M=t;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(we){pt(M,M.return,we)}}}else if(t.tag===18){if(r===null){M=t;try{var ee=M.stateNode;d?ng(ee,!0):ng(M.stateNode,!1)}catch(we){pt(M,M.return,we)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}u&4&&(u=e.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,Hu(e,r))));break;case 19:Dn(t,e),Nn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Hu(e,u)));break;case 30:break;case 21:break;default:Dn(t,e),Nn(e)}}function Nn(e){var t=e.flags;if(t&2){try{for(var r,u=e.return;u!==null;){if(ap(u)){r=u;break}u=u.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var d=r.stateNode,m=Kh(e);Bu(e,m,d);break;case 5:var w=r.stateNode;r.flags&32&&(oi(w,""),r.flags&=-33);var C=Kh(e);Bu(e,C,w);break;case 3:case 4:var M=r.stateNode.containerInfo,F=Kh(e);Yh(e,F,M);break;default:throw Error(l(161))}}catch(te){pt(e,e.return,te)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Oa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)op(e,t.alternate,t),t=t.sibling}function os(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ur(4,t,t.return),os(t);break;case 1:ea(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&np(t,t.return,r),os(t);break;case 27:vl(t.stateNode);case 26:case 5:ea(t,t.return),os(t);break;case 22:t.memoizedState===null&&os(t);break;case 30:os(t);break;default:os(t)}e=e.sibling}}function Aa(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var u=t.alternate,d=e,m=t,w=m.flags;switch(m.tag){case 0:case 11:case 15:Aa(d,m,r),ol(4,m);break;case 1:if(Aa(d,m,r),u=m,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){pt(u,u.return,F)}if(u=m,d=u.updateQueue,d!==null){var C=u.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)Gf(M[d],C)}catch(F){pt(u,u.return,F)}}r&&w&64&&tp(m),ll(m,m.return);break;case 27:rp(m);case 26:case 5:Aa(d,m,r),r&&u===null&&w&4&&ip(m),ll(m,m.return);break;case 12:Aa(d,m,r);break;case 31:Aa(d,m,r),r&&w&4&&cp(d,m);break;case 13:Aa(d,m,r),r&&w&4&&hp(d,m);break;case 22:m.memoizedState===null&&Aa(d,m,r),ll(m,m.return);break;case 30:break;default:Aa(d,m,r)}t=t.sibling}}function Xh(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Yo(r))}function Wh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yo(e))}function ki(e,t,r,u){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mp(e,t,r,u),t=t.sibling}function mp(e,t,r,u){var d=t.flags;switch(t.tag){case 0:case 11:case 15:ki(e,t,r,u),d&2048&&ol(9,t);break;case 1:ki(e,t,r,u);break;case 3:ki(e,t,r,u),d&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yo(e)));break;case 12:if(d&2048){ki(e,t,r,u),e=t.stateNode;try{var m=t.memoizedProps,w=m.id,C=m.onPostCommit;typeof C=="function"&&C(w,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){pt(t,t.return,M)}}else ki(e,t,r,u);break;case 31:ki(e,t,r,u);break;case 13:ki(e,t,r,u);break;case 23:break;case 22:m=t.stateNode,w=t.alternate,t.memoizedState!==null?m._visibility&2?ki(e,t,r,u):ul(e,t):m._visibility&2?ki(e,t,r,u):(m._visibility|=2,Js(e,t,r,u,(t.subtreeFlags&10256)!==0||!1)),d&2048&&Xh(w,t);break;case 24:ki(e,t,r,u),d&2048&&Wh(t.alternate,t);break;default:ki(e,t,r,u)}}function Js(e,t,r,u,d){for(d=d&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var m=e,w=t,C=r,M=u,F=w.flags;switch(w.tag){case 0:case 11:case 15:Js(m,w,C,M,d),ol(8,w);break;case 23:break;case 22:var te=w.stateNode;w.memoizedState!==null?te._visibility&2?Js(m,w,C,M,d):ul(m,w):(te._visibility|=2,Js(m,w,C,M,d)),d&&F&2048&&Xh(w.alternate,w);break;case 24:Js(m,w,C,M,d),d&&F&2048&&Wh(w.alternate,w);break;default:Js(m,w,C,M,d)}t=t.sibling}}function ul(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,u=t,d=u.flags;switch(u.tag){case 22:ul(r,u),d&2048&&Xh(u.alternate,u);break;case 24:ul(r,u),d&2048&&Wh(u.alternate,u);break;default:ul(r,u)}t=t.sibling}}var cl=8192;function Qs(e,t,r){if(e.subtreeFlags&cl)for(e=e.child;e!==null;)pp(e,t,r),e=e.sibling}function pp(e,t,r){switch(e.tag){case 26:Qs(e,t,r),e.flags&cl&&e.memoizedState!==null&&J_(r,Li,e.memoizedState,e.memoizedProps);break;case 5:Qs(e,t,r);break;case 3:case 4:var u=Li;Li=ec(e.stateNode.containerInfo),Qs(e,t,r),Li=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=cl,cl=16777216,Qs(e,t,r),cl=u):Qs(e,t,r));break;default:Qs(e,t,r)}}function gp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function hl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var u=t[r];sn=u,yp(u,e)}gp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vp(e),e=e.sibling}function vp(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&ur(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Iu(e)):hl(e);break;default:hl(e)}}function Iu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var u=t[r];sn=u,yp(u,e)}gp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ur(8,t,t.return),Iu(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Iu(t));break;default:Iu(t)}e=e.sibling}}function yp(e,t){for(;sn!==null;){var r=sn;switch(r.tag){case 0:case 11:case 15:ur(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Yo(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,sn=u;else e:for(r=e;sn!==null;){u=sn;var d=u.sibling,m=u.return;if(lp(u),u===r){sn=null;break e}if(d!==null){d.return=m,sn=d;break e}sn=m}}}var f_={getCacheForType:function(e){var t=un(Kt),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return un(Kt).controller.signal}},m_=typeof WeakMap=="function"?WeakMap:Map,ht=0,wt=null,Qe=null,it=0,mt=0,Xn=null,cr=!1,eo=!1,Jh=!1,Ra=0,It=0,hr=0,ls=0,Qh=0,Wn=0,to=0,dl=null,Pn=null,ed=!1,qu=0,_p=0,Zu=1/0,Gu=null,dr=null,Qt=0,fr=null,no=null,La=0,td=0,nd=null,bp=null,fl=0,id=null;function Jn(){return(ht&2)!==0&&it!==0?it&-it:$.T!==null?ud():ce()}function wp(){if(Wn===0)if((it&536870912)===0||Je){var e=Bi;Bi<<=1,(Bi&3932160)===0&&(Bi=262144),Wn=e}else Wn=536870912;return e=Yn.current,e!==null&&(e.flags|=32),Wn}function Un(e,t,r){(e===wt&&(mt===2||mt===9)||e.cancelPendingCommit!==null)&&(io(e,0),mr(e,it,Wn,!1)),si(e,r),((ht&2)===0||e!==wt)&&(e===wt&&((ht&2)===0&&(ls|=r),It===4&&mr(e,it,Wn,!1)),ta(e))}function Sp(e,t,r){if((ht&6)!==0)throw Error(l(327));var u=!r&&(t&127)===0&&(t&e.expiredLanes)===0||da(e,t),d=u?v_(e,t):rd(e,t,!0),m=u;do{if(d===0){eo&&!u&&mr(e,t,0,!1);break}else{if(r=e.current.alternate,m&&!p_(r)){d=rd(e,t,!1),m=!1;continue}if(d===2){if(m=t,e.errorRecoveryDisabledLanes&m)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){t=w;e:{var C=e;d=dl;var M=C.current.memoizedState.isDehydrated;if(M&&(io(C,w).flags|=256),w=rd(C,w,!1),w!==2){if(Jh&&!M){C.errorRecoveryDisabledLanes|=m,ls|=m,d=4;break e}m=Pn,Pn=d,m!==null&&(Pn===null?Pn=m:Pn.push.apply(Pn,m))}d=w}if(m=!1,d!==2)continue}}if(d===1){io(e,0),mr(e,t,0,!0);break}e:{switch(u=e,m=d,m){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:mr(u,t,Wn,!cr);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(d=qu+300-zt(),10<d)){if(mr(u,t,Wn,!cr),ha(u,0,!0)!==0)break e;La=t,u.timeoutHandle=Qp(xp.bind(null,u,r,Pn,Gu,ed,t,Wn,ls,to,cr,m,"Throttled",-0,0),d);break e}xp(u,r,Pn,Gu,ed,t,Wn,ls,to,cr,m,null,-0,0)}}break}while(!0);ta(e)}function xp(e,t,r,u,d,m,w,C,M,F,te,re,J,ee){if(e.timeoutHandle=-1,re=t.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},pp(t,m,re);var we=(m&62914560)===m?qu-zt():(m&4194048)===m?_p-zt():0;if(we=Q_(re,we),we!==null){La=m,e.cancelPendingCommit=we(kp.bind(null,e,t,m,r,u,d,w,C,M,te,re,null,J,ee)),mr(e,m,w,!F);return}}kp(e,t,m,r,u,d,w,C,M)}function p_(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var d=r[u],m=d.getSnapshot;d=d.value;try{if(!an(m(),d))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mr(e,t,r,u){t&=~Qh,t&=~ls,e.suspendedLanes|=t,e.pingedLanes&=~t,u&&(e.warmLanes|=t),u=e.expirationTimes;for(var d=t;0<d;){var m=31-nn(d),w=1<<m;u[m]=-1,d&=~w}r!==0&&xs(e,r,t)}function Vu(){return(ht&6)===0?(ml(0),!1):!0}function ad(){if(Qe!==null){if(mt===0)var e=Qe.return;else e=Qe,Ri=Qi=null,bh(e),Ks=null,Xo=0,e=Qe;for(;e!==null;)ep(e.alternate,e),e=e.return;Qe=null}}function io(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,D_(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),La=0,ad(),wt=e,Qe=r=mi(e.current,null),it=t,mt=0,Xn=null,cr=!1,eo=da(e,t),Jh=!1,to=Wn=Qh=ls=hr=It=0,Pn=dl=null,ed=!1,(t&8)!==0&&(t|=t&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=t;0<u;){var d=31-nn(u),m=1<<d;t|=e[d],u&=~m}return Ra=t,Fr(),r}function Ep(e,t){Ze=null,$.H=al,t===$s||t===bu?(t=Hf(),mt=3):t===lh?(t=Hf(),mt=4):mt=t===Nh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Xn=t,Qe===null&&(It=1,Mu(e,o(t,e.current)))}function Tp(){var e=Yn.current;return e===null?!0:(it&4194048)===it?pi===null:(it&62914560)===it||(it&536870912)!==0?e===pi:!1}function Cp(){var e=$.H;return $.H=al,e===null?al:e}function Op(){var e=$.A;return $.A=f_,e}function $u(){It=4,cr||(it&4194048)!==it&&Yn.current!==null||(eo=!0),(hr&134217727)===0&&(ls&134217727)===0||wt===null||mr(wt,it,Wn,!1)}function rd(e,t,r){var u=ht;ht|=2;var d=Cp(),m=Op();(wt!==e||it!==t)&&(Gu=null,io(e,t)),t=!1;var w=It;e:do try{if(mt!==0&&Qe!==null){var C=Qe,M=Xn;switch(mt){case 8:ad(),w=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(t=!0);var F=mt;if(mt=0,Xn=null,ao(e,C,M,F),r&&eo){w=0;break e}break;default:F=mt,mt=0,Xn=null,ao(e,C,M,F)}}g_(),w=It;break}catch(te){Ep(e,te)}while(!0);return t&&e.shellSuspendCounter++,Ri=Qi=null,ht=u,$.H=d,$.A=m,Qe===null&&(wt=null,it=0,Fr()),w}function g_(){for(;Qe!==null;)Ap(Qe)}function v_(e,t){var r=ht;ht|=2;var u=Cp(),d=Op();wt!==e||it!==t?(Gu=null,Zu=zt()+500,io(e,t)):eo=da(e,t);e:do try{if(mt!==0&&Qe!==null){t=Qe;var m=Xn;t:switch(mt){case 1:mt=0,Xn=null,ao(e,t,m,1);break;case 2:case 9:if(Uf(m)){mt=0,Xn=null,Rp(t);break}t=function(){mt!==2&&mt!==9||wt!==e||(mt=7),ta(e)},m.then(t,t);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Uf(m)?(mt=0,Xn=null,Rp(t)):(mt=0,Xn=null,ao(e,t,m,7));break;case 5:var w=null;switch(Qe.tag){case 26:w=Qe.memoizedState;case 5:case 27:var C=Qe;if(w?mg(w):C.stateNode.complete){mt=0,Xn=null;var M=C.sibling;if(M!==null)Qe=M;else{var F=C.return;F!==null?(Qe=F,Ku(F)):Qe=null}break t}}mt=0,Xn=null,ao(e,t,m,5);break;case 6:mt=0,Xn=null,ao(e,t,m,6);break;case 8:ad(),It=6;break e;default:throw Error(l(462))}}y_();break}catch(te){Ep(e,te)}while(!0);return Ri=Qi=null,$.H=u,$.A=d,ht=r,Qe!==null?0:(wt=null,it=0,Fr(),It)}function y_(){for(;Qe!==null&&!ys();)Ap(Qe)}function Ap(e){var t=Jm(e.alternate,e,Ra);e.memoizedProps=e.pendingProps,t===null?Ku(e):Qe=t}function Rp(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=$m(r,t,t.pendingProps,t.type,void 0,it);break;case 11:t=$m(r,t,t.pendingProps,t.type.render,t.ref,it);break;case 5:bh(t);default:ep(r,t),t=Qe=Zo(t,Ra),t=Jm(r,t,Ra)}e.memoizedProps=e.pendingProps,t===null?Ku(e):Qe=t}function ao(e,t,r,u){Ri=Qi=null,bh(t),Ks=null,Xo=0;var d=t.return;try{if(s_(e,d,t,r,it)){It=1,Mu(e,o(r,e.current)),Qe=null;return}}catch(m){if(d!==null)throw Qe=d,m;It=1,Mu(e,o(r,e.current)),Qe=null;return}t.flags&32768?(Je||u===1?e=!0:eo||(it&536870912)!==0?e=!1:(cr=e=!0,(u===2||u===9||u===3||u===6)&&(u=Yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Lp(t,e)):Ku(t)}function Ku(e){var t=e;do{if((t.flags&32768)!==0){Lp(t,cr);return}e=t.return;var r=u_(t.alternate,t,Ra);if(r!==null){Qe=r;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);It===0&&(It=5)}function Lp(e,t){do{var r=c_(e.alternate,e);if(r!==null){r.flags&=32767,Qe=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){Qe=e;return}Qe=e=r}while(e!==null);It=6,Qe=null}function kp(e,t,r,u,d,m,w,C,M){e.cancelPendingCommit=null;do Yu();while(Qt!==0);if((ht&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(m=t.lanes|t.childLanes,m|=Bs,Ao(e,r,m,w,C,M),e===wt&&(Qe=wt=null,it=0),no=t,fr=e,La=r,td=m,nd=d,bp=u,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,S_(on,function(){return Np(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,d=ue.p,ue.p=2,w=ht,ht|=4;try{h_(e,t,r)}finally{ht=w,ue.p=d,$.T=u}}Qt=1,jp(),zp(),Mp()}}function jp(){if(Qt===1){Qt=0;var e=fr,t=no,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=$.T,$.T=null;var u=ue.p;ue.p=2;var d=ht;ht|=4;try{dp(t,e);var m=vd,w=Gr(e.containerInfo),C=m.focusedElem,M=m.selectionRange;if(w!==C&&C&&C.ownerDocument&&Ds(C.ownerDocument.documentElement,C)){if(M!==null&&$i(C)){var F=M.start,te=M.end;if(te===void 0&&(te=F),"selectionStart"in C)C.selectionStart=F,C.selectionEnd=Math.min(te,C.value.length);else{var re=C.ownerDocument||document,J=re&&re.defaultView||window;if(J.getSelection){var ee=J.getSelection(),we=C.textContent.length,ze=Math.min(M.start,we),yt=M.end===void 0?ze:Math.min(M.end,we);!ee.extend&&ze>yt&&(w=yt,yt=ze,ze=w);var I=Zr(C,ze),P=Zr(C,yt);if(I&&P&&(ee.rangeCount!==1||ee.anchorNode!==I.node||ee.anchorOffset!==I.offset||ee.focusNode!==P.node||ee.focusOffset!==P.offset)){var Y=re.createRange();Y.setStart(I.node,I.offset),ee.removeAllRanges(),ze>yt?(ee.addRange(Y),ee.extend(P.node,P.offset)):(Y.setEnd(P.node,P.offset),ee.addRange(Y))}}}}for(re=[],ee=C;ee=ee.parentNode;)ee.nodeType===1&&re.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<re.length;C++){var ie=re[C];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}sc=!!gd,vd=gd=null}finally{ht=d,ue.p=u,$.T=r}}e.current=t,Qt=2}}function zp(){if(Qt===2){Qt=0;var e=fr,t=no,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=$.T,$.T=null;var u=ue.p;ue.p=2;var d=ht;ht|=4;try{op(e,t.alternate,t)}finally{ht=d,ue.p=u,$.T=r}}Qt=3}}function Mp(){if(Qt===4||Qt===3){Qt=0,_s();var e=fr,t=no,r=La,u=bp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Qt=5:(Qt=0,no=fr=null,Dp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(dr=null),X(r),t=t.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Pi,t,void 0,(t.current.flags&128)===128)}catch{}if(u!==null){t=$.T,d=ue.p,ue.p=2,$.T=null;try{for(var m=e.onRecoverableError,w=0;w<u.length;w++){var C=u[w];m(C.value,{componentStack:C.stack})}}finally{$.T=t,ue.p=d}}(La&3)!==0&&Yu(),ta(e),d=e.pendingLanes,(r&261930)!==0&&(d&42)!==0?e===id?fl++:(fl=0,id=e):fl=0,ml(0)}}function Dp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Yo(t)))}function Yu(){return jp(),zp(),Mp(),Np()}function Np(){if(Qt!==5)return!1;var e=fr,t=td;td=0;var r=X(La),u=$.T,d=ue.p;try{ue.p=32>r?32:r,$.T=null,r=nd,nd=null;var m=fr,w=La;if(Qt=0,no=fr=null,La=0,(ht&6)!==0)throw Error(l(331));var C=ht;if(ht|=4,vp(m.current),mp(m,m.current,w,r),ht=C,ml(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Pi,m)}catch{}return!0}finally{ue.p=d,$.T=u,Dp(e,t)}}function Pp(e,t,r){t=o(r,t),t=Dh(e.stateNode,t,2),e=sr(e,t,2),e!==null&&(si(e,2),ta(e))}function pt(e,t,r){if(e.tag===3)Pp(e,e,r);else for(;t!==null;){if(t.tag===3){Pp(t,e,r);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(dr===null||!dr.has(u))){e=o(r,e),r=Um(2),u=sr(t,r,2),u!==null&&(Bm(r,u,t,e),si(u,2),ta(u));break}}t=t.return}}function sd(e,t,r){var u=e.pingCache;if(u===null){u=e.pingCache=new m_;var d=new Set;u.set(t,d)}else d=u.get(t),d===void 0&&(d=new Set,u.set(t,d));d.has(r)||(Jh=!0,d.add(r),e=__.bind(null,e,t,r),t.then(e,e))}function __(e,t,r){var u=e.pingCache;u!==null&&u.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,wt===e&&(it&r)===r&&(It===4||It===3&&(it&62914560)===it&&300>zt()-qu?(ht&2)===0&&io(e,0):Qh|=r,to===it&&(to=0)),ta(e)}function Up(e,t){t===0&&(t=fa()),e=fi(e,t),e!==null&&(si(e,t),ta(e))}function b_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Up(e,r)}function w_(e,t){var r=0;switch(e.tag){case 31:case 13:var u=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(t),Up(e,r)}function S_(e,t){return Ua(e,t)}var Fu=null,ro=null,od=!1,Xu=!1,ld=!1,pr=0;function ta(e){e!==ro&&e.next===null&&(ro===null?Fu=ro=e:ro=ro.next=e),Xu=!0,od||(od=!0,E_())}function ml(e,t){if(!ld&&Xu){ld=!0;do for(var r=!1,u=Fu;u!==null;){if(e!==0){var d=u.pendingLanes;if(d===0)var m=0;else{var w=u.suspendedLanes,C=u.pingedLanes;m=(1<<31-nn(42|e)+1)-1,m&=d&~(w&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,qp(u,m))}else m=it,m=ha(u,u===wt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||da(u,m)||(r=!0,qp(u,m));u=u.next}while(r);ld=!1}}function x_(){Bp()}function Bp(){Xu=od=!1;var e=0;pr!==0&&M_()&&(e=pr);for(var t=zt(),r=null,u=Fu;u!==null;){var d=u.next,m=Hp(u,t);m===0?(u.next=null,r===null?Fu=d:r.next=d,d===null&&(ro=r)):(r=u,(e!==0||(m&3)!==0)&&(Xu=!0)),u=d}Qt!==0&&Qt!==5||ml(e),pr!==0&&(pr=0)}function Hp(e,t){for(var r=e.suspendedLanes,u=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var w=31-nn(m),C=1<<w,M=d[w];M===-1?((C&r)===0||(C&u)!==0)&&(d[w]=Ss(C,t)):M<=t&&(e.expiredLanes|=C),m&=~C}if(t=wt,r=it,r=ha(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,r===0||e===t&&(mt===2||mt===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&oa(u),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||da(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(u!==null&&oa(u),X(r)){case 2:case 8:r=ca;break;case 32:r=on;break;case 268435456:r=Ba;break;default:r=on}return u=Ip.bind(null,e),r=Ua(r,u),e.callbackPriority=t,e.callbackNode=r,t}return u!==null&&u!==null&&oa(u),e.callbackPriority=2,e.callbackNode=null,2}function Ip(e,t){if(Qt!==0&&Qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Yu()&&e.callbackNode!==r)return null;var u=it;return u=ha(e,e===wt?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(Sp(e,u,t),Hp(e,zt()),e.callbackNode!=null&&e.callbackNode===r?Ip.bind(null,e):null)}function qp(e,t){if(Yu())return null;Sp(e,t,!0)}function E_(){N_(function(){(ht&6)!==0?Ua(ua,x_):Bp()})}function ud(){if(pr===0){var e=Gs;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),pr=e}return pr}function Zp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ga(""+e)}function Gp(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function T_(e,t,r,u,d){if(t==="submit"&&r&&r.stateNode===d){var m=Zp((d[_e]||null).action),w=u.submitter;w&&(t=(t=w[_e]||null)?Zp(t.formAction):w.getAttribute("formAction"),t!==null&&(m=t,w=null));var C=new As("action","action",null,u,d);e.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(pr!==0){var M=w?Gp(d,w):new FormData(d);Rh(r,{pending:!0,data:M,method:d.method,action:m},null,M)}}else typeof m=="function"&&(C.preventDefault(),M=w?Gp(d,w):new FormData(d),Rh(r,{pending:!0,data:M,method:d.method,action:m},m,M))},currentTarget:d}]})}}for(var cd=0;cd<Fi.length;cd++){var hd=Fi[cd],C_=hd.toLowerCase(),O_=hd[0].toUpperCase()+hd.slice(1);kn(C_,"on"+O_)}kn($r,"onAnimationEnd"),kn(mu,"onAnimationIteration"),kn(Kr,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(eh,"onTransitionRun"),kn(pu,"onTransitionStart"),kn(th,"onTransitionCancel"),kn(tr,"onTransitionEnd"),gn("onMouseEnter",["mouseout","mouseover"]),gn("onMouseLeave",["mouseout","mouseover"]),gn("onPointerEnter",["pointerout","pointerover"]),gn("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function Vp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var u=e[r],d=u.event;u=u.listeners;e:{var m=void 0;if(t)for(var w=u.length-1;0<=w;w--){var C=u[w],M=C.instance,F=C.currentTarget;if(C=C.listener,M!==m&&d.isPropagationStopped())break e;m=C,d.currentTarget=F;try{m(d)}catch(te){Yr(te)}d.currentTarget=null,m=M}else for(w=0;w<u.length;w++){if(C=u[w],M=C.instance,F=C.currentTarget,C=C.listener,M!==m&&d.isPropagationStopped())break e;m=C,d.currentTarget=F;try{m(d)}catch(te){Yr(te)}d.currentTarget=null,m=M}}}}function et(e,t){var r=t[Ce];r===void 0&&(r=t[Ce]=new Set);var u=e+"__bubble";r.has(u)||($p(t,e,2,!1),r.add(u))}function dd(e,t,r){var u=0;t&&(u|=4),$p(r,e,u,t)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function fd(e){if(!e[Wu]){e[Wu]=!0,qn.forEach(function(r){r!=="selectionchange"&&(A_.has(r)||dd(r,!1,e),dd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wu]||(t[Wu]=!0,dd("selectionchange",!1,t))}}function $p(e,t,r,u){switch(wg(t)){case 2:var d=n0;break;case 8:d=i0;break;default:d=Ad}r=d.bind(null,t,r,e),d=void 0,!Mr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),u?d!==void 0?e.addEventListener(t,r,{capture:!0,passive:d}):e.addEventListener(t,r,!0):d!==void 0?e.addEventListener(t,r,{passive:d}):e.addEventListener(t,r,!1)}function md(e,t,r,u,d){var m=u;if((t&1)===0&&(t&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var C=u.stateNode.containerInfo;if(C===d)break;if(w===4)for(w=u.return;w!==null;){var M=w.tag;if((M===3||M===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;C!==null;){if(w=Ot(C),w===null)return;if(M=w.tag,M===5||M===6||M===26||M===27){u=m=w;continue e}C=C.parentNode}}u=u.return}jo(function(){var F=m,te=zr(r),re=[];e:{var J=gu.get(e);if(J!==void 0){var ee=As,we=e;switch(e){case"keypress":if(Dr(r)===0)break e;case"keydown":case"keyup":ee=nu;break;case"focusin":we="focus",ee=Do;break;case"focusout":we="blur",ee=Do;break;case"beforeblur":case"afterblur":ee=Do;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Yc;break;case $r:case mu:case Kr:ee=No;break;case tr:ee=ru;break;case"scroll":case"scrollend":ee=nt;break;case"wheel":ee=ga;break;case"copy":case"cut":case"paste":ee=ui;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=iu;break;case"toggle":case"beforetoggle":ee=Ur}var ze=(t&4)!==0,yt=!ze&&(e==="scroll"||e==="scrollend"),I=ze?J!==null?J+"Capture":null:J;ze=[];for(var P=F,Y;P!==null;){var ie=P;if(Y=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Y===null||I===null||(ie=ma(P,I),ie!=null&&ze.push(gl(P,ie,Y))),yt)break;P=P.return}0<ze.length&&(J=new ee(J,we,null,r,te),re.push({event:J,listeners:ze}))}}if((t&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",J&&r!==Os&&(we=r.relatedTarget||r.fromElement)&&(Ot(we)||we[Se]))break e;if((ee||J)&&(J=te.window===te?te:(J=te.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(we=r.relatedTarget||r.toElement,ee=F,we=we?Ot(we):null,we!==null&&(yt=f(we),ze=we.tag,we!==yt||ze!==5&&ze!==27&&ze!==6)&&(we=null)):(ee=null,we=F),ee!==we)){if(ze=Wl,ie="onMouseLeave",I="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(ze=iu,ie="onPointerLeave",I="onPointerEnter",P="pointer"),yt=ee==null?J:Mt(ee),Y=we==null?J:Mt(we),J=new ze(ie,P+"leave",ee,r,te),J.target=yt,J.relatedTarget=Y,ie=null,Ot(te)===F&&(ze=new ze(I,P+"enter",we,r,te),ze.target=Y,ze.relatedTarget=yt,ie=ze),yt=ie,ee&&we)t:{for(ze=R_,I=ee,P=we,Y=0,ie=I;ie;ie=ze(ie))Y++;ie=0;for(var Le=P;Le;Le=ze(Le))ie++;for(;0<Y-ie;)I=ze(I),Y--;for(;0<ie-Y;)P=ze(P),ie--;for(;Y--;){if(I===P||P!==null&&I===P.alternate){ze=I;break t}I=ze(I),P=ze(P)}ze=null}else ze=null;ee!==null&&Kp(re,J,ee,ze,!1),we!==null&&yt!==null&&Kp(re,yt,we,ze,!0)}}e:{if(J=F?Mt(F):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var ut=qr;else if(ci(J))if(uu)ut=Qc;else{ut=Jc;var Ee=Ci}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?F&&jr(F.elementType)&&(ut=qr):ut=Wa;if(ut&&(ut=ut(e,F))){lu(re,ut,r,te);break e}Ee&&Ee(e,J,F),e==="focusout"&&F&&J.type==="number"&&F.memoizedProps.value!=null&&xi(J,"number",J.value)}switch(Ee=F?Mt(F):window,e){case"focusin":(ci(Ee)||Ee.contentEditable==="true")&&(Ki=Ee,Ps=F,Vr=null);break;case"focusout":Vr=Ps=Ki=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,du(re,r,te);break;case"selectionchange":if(Ns)break;case"keydown":case"keyup":du(re,r,te)}var Ke;if(Ls)e:{switch(e){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Ya?ou(e,r)&&(at="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(at="onCompositionStart");at&&(ks&&r.locale!=="ko"&&(Ya||at!=="onCompositionStart"?at==="onCompositionEnd"&&Ya&&(Ke=Gi()):(li=te,pa="value"in li?li.value:li.textContent,Ya=!0)),Ee=Ju(F,at),0<Ee.length&&(at=new Po(at,e,null,r,te),re.push({event:at,listeners:Ee}),Ke?at.data=Ke:(Ke=Io(r),Ke!==null&&(at.data=Ke)))),(Ke=Xc?Kn(e,r):Fa(e,r))&&(at=Ju(F,"onBeforeInput"),0<at.length&&(Ee=new Po("onBeforeInput","beforeinput",null,r,te),re.push({event:Ee,listeners:at}),Ee.data=Ke)),T_(re,e,F,r,te)}Vp(re,t)})}function gl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ju(e,t){for(var r=t+"Capture",u=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ma(e,r),d!=null&&u.unshift(gl(e,d,m)),d=ma(e,t),d!=null&&u.push(gl(e,d,m))),e.tag===3)return u;e=e.return}return[]}function R_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kp(e,t,r,u,d){for(var m=t._reactName,w=[];r!==null&&r!==u;){var C=r,M=C.alternate,F=C.stateNode;if(C=C.tag,M!==null&&M===u)break;C!==5&&C!==26&&C!==27||F===null||(M=F,d?(F=ma(r,m),F!=null&&w.unshift(gl(r,F,M))):d||(F=ma(r,m),F!=null&&w.push(gl(r,F,M)))),r=r.return}w.length!==0&&e.push({event:t,listeners:w})}var L_=/\r\n?/g,k_=/\u0000|\uFFFD/g;function Yp(e){return(typeof e=="string"?e:""+e).replace(L_,`
`).replace(k_,"")}function Fp(e,t){return t=Yp(t),Yp(e)===t}function vt(e,t,r,u,d,m){switch(r){case"children":typeof u=="string"?t==="body"||t==="textarea"&&u===""||oi(e,u):(typeof u=="number"||typeof u=="bigint")&&t!=="body"&&oi(e,""+u);break;case"className":rt(e,"class",u);break;case"tabIndex":rt(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,r,u);break;case"style":Ts(e,u,m);break;case"data":if(t!=="object"){rt(e,"data",u);break}case"src":case"href":if(u===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(r);break}u=Ga(""+u),e.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(t!=="input"&&vt(e,t,"name",d.name,d,null),vt(e,t,"formEncType",d.formEncType,d,null),vt(e,t,"formMethod",d.formMethod,d,null),vt(e,t,"formTarget",d.formTarget,d,null)):(vt(e,t,"encType",d.encType,d,null),vt(e,t,"method",d.method,d,null),vt(e,t,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(r);break}u=Ga(""+u),e.setAttribute(r,u);break;case"onClick":u!=null&&(e.onclick=Rn);break;case"onScroll":u!=null&&et("scroll",e);break;case"onScrollEnd":u!=null&&et("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(r=u.__html,r!=null){if(d.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}r=Ga(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(r,""+u):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":u===!0?e.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(r,u):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(r,u):e.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(r):e.setAttribute(r,u);break;case"popover":et("beforetoggle",e),et("toggle",e),ke(e,"popover",u);break;case"xlinkActuate":Pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Pt(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Pt(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Pt(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Pt(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ke(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Cs.get(r)||r,ke(e,r,u))}}function pd(e,t,r,u,d,m){switch(r){case"style":Ts(e,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(r=u.__html,r!=null){if(d.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"children":typeof u=="string"?oi(e,u):(typeof u=="number"||typeof u=="bigint")&&oi(e,""+u);break;case"onScroll":u!=null&&et("scroll",e);break;case"onScrollEnd":u!=null&&et("scrollend",e);break;case"onClick":u!=null&&(e.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wn.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),t=r.slice(2,d?r.length-7:void 0),m=e[_e]||null,m=m!=null?m[r]:null,typeof m=="function"&&e.removeEventListener(t,m,d),typeof u=="function")){typeof m!="function"&&m!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,u,d);break e}r in e?e[r]=u:u===!0?e.setAttribute(r,""):ke(e,r,u)}}}function hn(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",e),et("load",e);var u=!1,d=!1,m;for(m in r)if(r.hasOwnProperty(m)){var w=r[m];if(w!=null)switch(m){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:vt(e,t,m,w,r,null)}}d&&vt(e,t,"srcSet",r.srcSet,r,null),u&&vt(e,t,"src",r.src,r,null);return;case"input":et("invalid",e);var C=m=w=d=null,M=null,F=null;for(u in r)if(r.hasOwnProperty(u)){var te=r[u];if(te!=null)switch(u){case"name":d=te;break;case"type":w=te;break;case"checked":M=te;break;case"defaultChecked":F=te;break;case"value":m=te;break;case"defaultValue":C=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(l(137,t));break;default:vt(e,t,u,te,r,null)}}kr(e,m,C,M,F,w,d,!1);return;case"select":et("invalid",e),u=w=m=null;for(d in r)if(r.hasOwnProperty(d)&&(C=r[d],C!=null))switch(d){case"value":m=C;break;case"defaultValue":w=C;break;case"multiple":u=C;default:vt(e,t,d,C,r,null)}t=m,r=w,e.multiple=!!u,t!=null?bt(e,!!u,t,!1):r!=null&&bt(e,!!u,r,!0);return;case"textarea":et("invalid",e),m=d=u=null;for(w in r)if(r.hasOwnProperty(w)&&(C=r[w],C!=null))switch(w){case"value":u=C;break;case"defaultValue":d=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(91));break;default:vt(e,t,w,C,r,null)}qa(e,u,d,m);return;case"option":for(M in r)r.hasOwnProperty(M)&&(u=r[M],u!=null)&&(M==="selected"?e.selected=u&&typeof u!="function"&&typeof u!="symbol":vt(e,t,M,u,r,null));return;case"dialog":et("beforetoggle",e),et("toggle",e),et("cancel",e),et("close",e);break;case"iframe":case"object":et("load",e);break;case"video":case"audio":for(u=0;u<pl.length;u++)et(pl[u],e);break;case"image":et("error",e),et("load",e);break;case"details":et("toggle",e);break;case"embed":case"source":case"link":et("error",e),et("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in r)if(r.hasOwnProperty(F)&&(u=r[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:vt(e,t,F,u,r,null)}return;default:if(jr(t)){for(te in r)r.hasOwnProperty(te)&&(u=r[te],u!==void 0&&pd(e,t,te,u,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(u=r[C],u!=null&&vt(e,t,C,u,r,null))}function j_(e,t,r,u){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,w=null,C=null,M=null,F=null,te=null;for(ee in r){var re=r[ee];if(r.hasOwnProperty(ee)&&re!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":M=re;default:u.hasOwnProperty(ee)||vt(e,t,ee,null,u,re)}}for(var J in u){var ee=u[J];if(re=r[J],u.hasOwnProperty(J)&&(ee!=null||re!=null))switch(J){case"type":m=ee;break;case"name":d=ee;break;case"checked":F=ee;break;case"defaultChecked":te=ee;break;case"value":w=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(l(137,t));break;default:ee!==re&&vt(e,t,J,ee,u,re)}}Ro(e,w,C,M,F,te,m,d);return;case"select":ee=w=C=J=null;for(m in r)if(M=r[m],r.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":ee=M;default:u.hasOwnProperty(m)||vt(e,t,m,null,u,M)}for(d in u)if(m=u[d],M=r[d],u.hasOwnProperty(d)&&(m!=null||M!=null))switch(d){case"value":J=m;break;case"defaultValue":C=m;break;case"multiple":w=m;default:m!==M&&vt(e,t,d,m,u,M)}t=C,r=w,u=ee,J!=null?bt(e,!!r,J,!1):!!u!=!!r&&(t!=null?bt(e,!!r,t,!0):bt(e,!!r,r?[]:"",!1));return;case"textarea":ee=J=null;for(C in r)if(d=r[C],r.hasOwnProperty(C)&&d!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:vt(e,t,C,null,u,d)}for(w in u)if(d=u[w],m=r[w],u.hasOwnProperty(w)&&(d!=null||m!=null))switch(w){case"value":J=d;break;case"defaultValue":ee=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(l(91));break;default:d!==m&&vt(e,t,w,d,u,m)}Zi(e,J,ee);return;case"option":for(var we in r)J=r[we],r.hasOwnProperty(we)&&J!=null&&!u.hasOwnProperty(we)&&(we==="selected"?e.selected=!1:vt(e,t,we,null,u,J));for(M in u)J=u[M],ee=r[M],u.hasOwnProperty(M)&&J!==ee&&(J!=null||ee!=null)&&(M==="selected"?e.selected=J&&typeof J!="function"&&typeof J!="symbol":vt(e,t,M,J,u,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in r)J=r[ze],r.hasOwnProperty(ze)&&J!=null&&!u.hasOwnProperty(ze)&&vt(e,t,ze,null,u,J);for(F in u)if(J=u[F],ee=r[F],u.hasOwnProperty(F)&&J!==ee&&(J!=null||ee!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(l(137,t));break;default:vt(e,t,F,J,u,ee)}return;default:if(jr(t)){for(var yt in r)J=r[yt],r.hasOwnProperty(yt)&&J!==void 0&&!u.hasOwnProperty(yt)&&pd(e,t,yt,void 0,u,J);for(te in u)J=u[te],ee=r[te],!u.hasOwnProperty(te)||J===ee||J===void 0&&ee===void 0||pd(e,t,te,J,u,ee);return}}for(var I in r)J=r[I],r.hasOwnProperty(I)&&J!=null&&!u.hasOwnProperty(I)&&vt(e,t,I,null,u,J);for(re in u)J=u[re],ee=r[re],!u.hasOwnProperty(re)||J===ee||J==null&&ee==null||vt(e,t,re,J,u,ee)}function Xp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),u=0;u<r.length;u++){var d=r[u],m=d.transferSize,w=d.initiatorType,C=d.duration;if(m&&C&&Xp(w)){for(w=0,C=d.responseEnd,u+=1;u<r.length;u++){var M=r[u],F=M.startTime;if(F>C)break;var te=M.transferSize,re=M.initiatorType;te&&Xp(re)&&(M=M.responseEnd,w+=te*(M<C?1:(C-F)/(M-F)))}if(--u,t+=8*(m+w)/(d.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gd=null,vd=null;function Qu(e){return e.nodeType===9?e:e.ownerDocument}function Wp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function yd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _d=null;function M_(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var Qp=typeof setTimeout=="function"?setTimeout:void 0,D_=typeof clearTimeout=="function"?clearTimeout:void 0,eg=typeof Promise=="function"?Promise:void 0,N_=typeof queueMicrotask=="function"?queueMicrotask:typeof eg<"u"?function(e){return eg.resolve(null).then(e).catch(P_)}:Qp;function P_(e){setTimeout(function(){throw e})}function gr(e){return e==="head"}function tg(e,t){var r=t,u=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(u===0){e.removeChild(d),uo(t);return}u--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")u++;else if(r==="html")vl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,vl(r);for(var m=r.firstChild;m;){var w=m.nextSibling,C=m.nodeName;m[Ct]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=w}}else r==="body"&&vl(e.ownerDocument.body);r=d}while(r);uo(t)}function ng(e,t){var r=e;e=0;do{var u=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=u}while(r)}function bd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bd(r),Lt(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function U_(e,t,r,u){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Ct])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=gi(e.nextSibling),e===null)break}return null}function B_(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=gi(e.nextSibling),e===null))return null;return e}function ig(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=gi(e.nextSibling),e===null))return null;return e}function wd(e){return e.data==="$?"||e.data==="$~"}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H_(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var u=function(){t(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function gi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var xd=null;function ag(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return gi(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function rg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function sg(e,t,r){switch(t=Qu(r),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function vl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Lt(e)}var vi=new Map,og=new Set;function ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ka=ue.d;ue.d={f:I_,r:q_,D:Z_,C:G_,L:V_,m:$_,X:Y_,S:K_,M:F_};function I_(){var e=ka.f(),t=Vu();return e||t}function q_(e){var t=We(e);t!==null&&t.tag===5&&t.type==="form"?Em(t):ka.r(e)}var so=typeof document>"u"?null:document;function lg(e,t,r){var u=so;if(u&&typeof t=="string"&&t){var d=At(t);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),og.has(d)||(og.add(d),e={rel:e,crossOrigin:r,href:t},u.querySelector(d)===null&&(t=u.createElement("link"),hn(t,"link",e),Et(t),u.head.appendChild(t)))}}function Z_(e){ka.D(e),lg("dns-prefetch",e,null)}function G_(e,t){ka.C(e,t),lg("preconnect",e,t)}function V_(e,t,r){ka.L(e,t,r);var u=so;if(u&&e&&t){var d='link[rel="preload"][as="'+At(t)+'"]';t==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+At(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+At(r.imageSizes)+'"]')):d+='[href="'+At(e)+'"]';var m=d;switch(t){case"style":m=oo(e);break;case"script":m=lo(e)}vi.has(m)||(e=T({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),vi.set(m,e),u.querySelector(d)!==null||t==="style"&&u.querySelector(yl(m))||t==="script"&&u.querySelector(_l(m))||(t=u.createElement("link"),hn(t,"link",e),Et(t),u.head.appendChild(t)))}}function $_(e,t){ka.m(e,t);var r=so;if(r&&e){var u=t&&typeof t.as=="string"?t.as:"script",d='link[rel="modulepreload"][as="'+At(u)+'"][href="'+At(e)+'"]',m=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=lo(e)}if(!vi.has(m)&&(e=T({rel:"modulepreload",href:e},t),vi.set(m,e),r.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(_l(m)))return}u=r.createElement("link"),hn(u,"link",e),Et(u),r.head.appendChild(u)}}}function K_(e,t,r){ka.S(e,t,r);var u=so;if(u&&e){var d=pn(u).hoistableStyles,m=oo(e);t=t||"default";var w=d.get(m);if(!w){var C={loading:0,preload:null};if(w=u.querySelector(yl(m)))C.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},r),(r=vi.get(m))&&Ed(e,r);var M=w=u.createElement("link");Et(M),hn(M,"link",e),M._p=new Promise(function(F,te){M.onload=F,M.onerror=te}),M.addEventListener("load",function(){C.loading|=1}),M.addEventListener("error",function(){C.loading|=2}),C.loading|=4,tc(w,t,u)}w={type:"stylesheet",instance:w,count:1,state:C},d.set(m,w)}}}function Y_(e,t){ka.X(e,t);var r=so;if(r&&e){var u=pn(r).hoistableScripts,d=lo(e),m=u.get(d);m||(m=r.querySelector(_l(d)),m||(e=T({src:e,async:!0},t),(t=vi.get(d))&&Td(e,t),m=r.createElement("script"),Et(m),hn(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function F_(e,t){ka.M(e,t);var r=so;if(r&&e){var u=pn(r).hoistableScripts,d=lo(e),m=u.get(d);m||(m=r.querySelector(_l(d)),m||(e=T({src:e,async:!0,type:"module"},t),(t=vi.get(d))&&Td(e,t),m=r.createElement("script"),Et(m),hn(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function ug(e,t,r,u){var d=(d=me.current)?ec(d):null;if(!d)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=oo(r.href),r=pn(d).hoistableStyles,u=r.get(t),u||(u={type:"style",instance:null,count:0,state:null},r.set(t,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=oo(r.href);var m=pn(d).hoistableStyles,w=m.get(e);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,w),(m=d.querySelector(yl(e)))&&!m._p&&(w.instance=m,w.state.loading=5),vi.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},vi.set(e,r),m||X_(d,e,r,w.state))),t&&u===null)throw Error(l(528,""));return w}if(t&&u!==null)throw Error(l(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=lo(r),r=pn(d).hoistableScripts,u=r.get(t),u||(u={type:"script",instance:null,count:0,state:null},r.set(t,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function oo(e){return'href="'+At(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function cg(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function X_(e,t,r,u){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?u.loading=1:(t=e.createElement("link"),u.preload=t,t.addEventListener("load",function(){return u.loading|=1}),t.addEventListener("error",function(){return u.loading|=2}),hn(t,"link",r),Et(t),e.head.appendChild(t))}function lo(e){return'[src="'+At(e)+'"]'}function _l(e){return"script[async]"+e}function hg(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var u=e.querySelector('style[data-href~="'+At(r.href)+'"]');if(u)return t.instance=u,Et(u),u;var d=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Et(u),hn(u,"style",d),tc(u,r.precedence,e),t.instance=u;case"stylesheet":d=oo(r.href);var m=e.querySelector(yl(d));if(m)return t.state.loading|=4,t.instance=m,Et(m),m;u=cg(r),(d=vi.get(d))&&Ed(u,d),m=(e.ownerDocument||e).createElement("link"),Et(m);var w=m;return w._p=new Promise(function(C,M){w.onload=C,w.onerror=M}),hn(m,"link",u),t.state.loading|=4,tc(m,r.precedence,e),t.instance=m;case"script":return m=lo(r.src),(d=e.querySelector(_l(m)))?(t.instance=d,Et(d),d):(u=r,(d=vi.get(m))&&(u=T({},r),Td(u,d)),e=e.ownerDocument||e,d=e.createElement("script"),Et(d),hn(d,"link",u),e.head.appendChild(d),t.instance=d);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(u=t.instance,t.state.loading|=4,tc(u,r.precedence,e));return t.instance}function tc(e,t,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,m=d,w=0;w<u.length;w++){var C=u[w];if(C.dataset.precedence===t)m=C;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function Ed(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Td(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var nc=null;function dg(e,t,r){if(nc===null){var u=new Map,d=nc=new Map;d.set(r,u)}else d=nc,u=d.get(r),u||(u=new Map,d.set(r,u));if(u.has(e))return u;for(u.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var m=r[d];if(!(m[Ct]||m[pe]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(t)||"";w=e+w;var C=u.get(w);C?C.push(m):u.set(w,[m])}}return u}function fg(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function W_(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function mg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function J_(e,t,r,u){if(r.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=oo(u.href),m=t.querySelector(yl(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ic.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=m,Et(m);return}m=t.ownerDocument||t,u=cg(u),(d=vi.get(d))&&Ed(u,d),m=m.createElement("link"),Et(m);var w=m;w._p=new Promise(function(C,M){w.onload=C,w.onerror=M}),hn(m,"link",u),r.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=ic.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Cd=0;function Q_(e,t){return e.stylesheets&&e.count===0&&rc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var u=setTimeout(function(){if(e.stylesheets&&rc(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+t);0<e.imgBytes&&Cd===0&&(Cd=62500*z_());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&rc(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Cd?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ac=null;function rc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ac=new Map,t.forEach(e0,e),ac=null,ic.call(e))}function e0(e,t){if(!(t.state.loading&4)){var r=ac.get(e);if(r)var u=r.get(null);else{r=new Map,ac.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var w=d[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(r.set(w.dataset.precedence,w),u=w)}u&&r.set(null,u)}d=t.instance,w=d.getAttribute("data-precedence"),m=r.get(w)||u,m===u&&r.set(null,d),r.set(w,d),this.count++,u=ic.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),t.state.loading|=4}}var bl={$$typeof:G,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function t0(e,t,r,u,d,m,w,C,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function pg(e,t,r,u,d,m,w,C,M,F,te,re){return e=new t0(e,t,r,w,M,F,te,re,C),t=1,m===!0&&(t|=24),m=yn(3,null,null,t),e.current=m,m.stateNode=e,t=rh(),t.refCount++,e.pooledCache=t,t.refCount++,m.memoizedState={element:u,isDehydrated:r,cache:t},uh(m),e}function gg(e){return e?(e=va,e):va}function vg(e,t,r,u,d,m){d=gg(d),u.context===null?u.context=d:u.pendingContext=d,u=rr(t),u.payload={element:r},m=m===void 0?null:m,m!==null&&(u.callback=m),r=sr(e,u,t),r!==null&&(Un(r,e,t),Jo(r,e,t))}function yg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Od(e,t){yg(e,t),(e=e.alternate)&&yg(e,t)}function _g(e){if(e.tag===13||e.tag===31){var t=fi(e,67108864);t!==null&&Un(t,e,67108864),Od(e,67108864)}}function bg(e){if(e.tag===13||e.tag===31){var t=Jn();t=K(t);var r=fi(e,t);r!==null&&Un(r,e,t),Od(e,t)}}var sc=!0;function n0(e,t,r,u){var d=$.T;$.T=null;var m=ue.p;try{ue.p=2,Ad(e,t,r,u)}finally{ue.p=m,$.T=d}}function i0(e,t,r,u){var d=$.T;$.T=null;var m=ue.p;try{ue.p=8,Ad(e,t,r,u)}finally{ue.p=m,$.T=d}}function Ad(e,t,r,u){if(sc){var d=Rd(u);if(d===null)md(e,t,u,oc,r),Sg(e,u);else if(r0(d,e,t,r,u))u.stopPropagation();else if(Sg(e,u),t&4&&-1<a0.indexOf(e)){for(;d!==null;){var m=We(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=Si(m.pendingLanes);if(w!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var M=1<<31-nn(w);C.entanglements[1]|=M,w&=~M}ta(m),(ht&6)===0&&(Zu=zt()+500,ml(0))}}break;case 31:case 13:C=fi(m,2),C!==null&&Un(C,m,2),Vu(),Od(m,2)}if(m=Rd(u),m===null&&md(e,t,u,oc,r),m===d)break;d=m}d!==null&&u.stopPropagation()}else md(e,t,u,null,r)}}function Rd(e){return e=zr(e),Ld(e)}var oc=null;function Ld(e){if(oc=null,e=Ot(e),e!==null){var t=f(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=p(t),e!==null)return e;e=null}else if(r===31){if(e=y(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oc=e,null}function wg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(la()){case ua:return 2;case ca:return 8;case on:case In:return 32;case Ba:return 268435456;default:return 32}default:return 32}}var kd=!1,vr=null,yr=null,_r=null,wl=new Map,Sl=new Map,br=[],a0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sg(e,t){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":wl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(t.pointerId)}}function xl(e,t,r,u,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:t,domEventName:r,eventSystemFlags:u,nativeEvent:m,targetContainers:[d]},t!==null&&(t=We(t),t!==null&&_g(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function r0(e,t,r,u,d){switch(t){case"focusin":return vr=xl(vr,e,t,r,u,d),!0;case"dragenter":return yr=xl(yr,e,t,r,u,d),!0;case"mouseover":return _r=xl(_r,e,t,r,u,d),!0;case"pointerover":var m=d.pointerId;return wl.set(m,xl(wl.get(m)||null,e,t,r,u,d)),!0;case"gotpointercapture":return m=d.pointerId,Sl.set(m,xl(Sl.get(m)||null,e,t,r,u,d)),!0}return!1}function xg(e){var t=Ot(e.target);if(t!==null){var r=f(t);if(r!==null){if(t=r.tag,t===13){if(t=p(r),t!==null){e.blockedOn=t,xe(e.priority,function(){bg(r)});return}}else if(t===31){if(t=y(r),t!==null){e.blockedOn=t,xe(e.priority,function(){bg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Rd(e.nativeEvent);if(r===null){r=e.nativeEvent;var u=new r.constructor(r.type,r);Os=u,r.target.dispatchEvent(u),Os=null}else return t=We(r),t!==null&&_g(t),e.blockedOn=r,!1;t.shift()}return!0}function Eg(e,t,r){lc(e)&&r.delete(t)}function s0(){kd=!1,vr!==null&&lc(vr)&&(vr=null),yr!==null&&lc(yr)&&(yr=null),_r!==null&&lc(_r)&&(_r=null),wl.forEach(Eg),Sl.forEach(Eg)}function uc(e,t){e.blockedOn===t&&(e.blockedOn=null,kd||(kd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,s0)))}var cc=null;function Tg(e){cc!==e&&(cc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){cc===e&&(cc=null);for(var t=0;t<e.length;t+=3){var r=e[t],u=e[t+1],d=e[t+2];if(typeof u!="function"){if(Ld(u||r)===null)continue;break}var m=We(r);m!==null&&(e.splice(t,3),t-=3,Rh(m,{pending:!0,data:d,method:r.method,action:u},u,d))}}))}function uo(e){function t(M){return uc(M,e)}vr!==null&&uc(vr,e),yr!==null&&uc(yr,e),_r!==null&&uc(_r,e),wl.forEach(t),Sl.forEach(t);for(var r=0;r<br.length;r++){var u=br[r];u.blockedOn===e&&(u.blockedOn=null)}for(;0<br.length&&(r=br[0],r.blockedOn===null);)xg(r),r.blockedOn===null&&br.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var d=r[u],m=r[u+1],w=d[_e]||null;if(typeof m=="function")w||Tg(r);else if(w){var C=null;if(m&&m.hasAttribute("formAction")){if(d=m,w=m[_e]||null)C=w.formAction;else if(Ld(d)!==null)continue}else C=w.action;typeof C=="function"?r[u+1]=C:(r.splice(u,3),u-=3),Tg(r)}}}function Cg(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(w){return d=w})},focusReset:"manual",scroll:"manual"})}function t(){d!==null&&(d(),d=null),u||setTimeout(r,20)}function r(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),d!==null&&(d(),d=null)}}}function jd(e){this._internalRoot=e}hc.prototype.render=jd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var r=t.current,u=Jn();vg(r,u,e,t,null,null)},hc.prototype.unmount=jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vg(e.current,2,null,e,null,null),Vu(),t[Se]=null}};function hc(e){this._internalRoot=e}hc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ce();e={blockedOn:null,target:e,priority:t};for(var r=0;r<br.length&&t!==0&&t<br[r].priority;r++);br.splice(r,0,e),r===0&&xg(e)}};var Og=i.version;if(Og!=="19.2.3")throw Error(l(527,Og,"19.2.3"));ue.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=_(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var o0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Pi=dc.inject(o0),_t=dc}catch{}}return Tl.createRoot=function(e,t){if(!c(e))throw Error(l(299));var r=!1,u="",d=Mm,m=Dm,w=Nm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onUncaughtError!==void 0&&(d=t.onUncaughtError),t.onCaughtError!==void 0&&(m=t.onCaughtError),t.onRecoverableError!==void 0&&(w=t.onRecoverableError)),t=pg(e,1,!1,null,null,r,u,null,d,m,w,Cg),e[Se]=t.current,fd(e),new jd(t)},Tl.hydrateRoot=function(e,t,r){if(!c(e))throw Error(l(299));var u=!1,d="",m=Mm,w=Dm,C=Nm,M=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.formState!==void 0&&(M=r.formState)),t=pg(e,1,!0,t,r??null,u,d,M,m,w,C,Cg),t.context=gg(null),r=t.current,u=Jn(),u=K(u),d=rr(u),d.callback=null,sr(r,d,u),r=u,t.current.lanes=r,si(t,r),ta(t),e[Se]=t.current,fd(e),new hc(t)},Tl.version="19.2.3",Tl}var Pg;function _0(){if(Pg)return Dd.exports;Pg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),Dd.exports=y0(),Dd.exports}var b0=_0();var Vv=a=>{throw TypeError(a)},w0=(a,i,s)=>i.has(a)||Vv("Cannot "+s),Bd=(a,i,s)=>(w0(a,i,"read from private field"),s?s.call(a):i.get(a)),S0=(a,i,s)=>i.has(a)?Vv("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(a):i.set(a,s),Ug="popstate";function x0(a={}){function i(l,c){let{pathname:f,search:p,hash:y}=l.location;return Nl("",{pathname:f,search:p,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(l,c){return typeof c=="string"?c:ra(c)}return T0(i,s,null,a)}function Fe(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function Zt(a,i){if(!a){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function E0(){return Math.random().toString(36).substring(2,10)}function Bg(a,i){return{usr:a.state,key:a.key,idx:i}}function Nl(a,i,s=null,l){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof i=="string"?Ar(i):i,state:s,key:i&&i.key||l||E0()}}function ra({pathname:a="/",search:i="",hash:s=""}){return i&&i!=="?"&&(a+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(a+=s.charAt(0)==="#"?s:"#"+s),a}function Ar(a){let i={};if(a){let s=a.indexOf("#");s>=0&&(i.hash=a.substring(s),a=a.substring(0,s));let l=a.indexOf("?");l>=0&&(i.search=a.substring(l),a=a.substring(0,l)),a&&(i.pathname=a)}return i}function T0(a,i,s,l={}){let{window:c=document.defaultView,v5Compat:f=!1}=l,p=c.history,y="POP",v=null,_=x();_==null&&(_=0,p.replaceState({...p.state,idx:_},""));function x(){return(p.state||{idx:null}).idx}function T(){y="POP";let V=x(),Z=V==null?null:V-_;_=V,v&&v({action:y,location:k.location,delta:Z})}function O(V,Z){y="PUSH";let B=Nl(k.location,V,Z);_=x()+1;let G=Bg(B,_),se=k.createHref(B);try{p.pushState(G,"",se)}catch(be){if(be instanceof DOMException&&be.name==="DataCloneError")throw be;c.location.assign(se)}f&&v&&v({action:y,location:k.location,delta:1})}function A(V,Z){y="REPLACE";let B=Nl(k.location,V,Z);_=x();let G=Bg(B,_),se=k.createHref(B);p.replaceState(G,"",se),f&&v&&v({action:y,location:k.location,delta:0})}function N(V){return $v(V)}let k={get action(){return y},get location(){return a(c,p)},listen(V){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener(Ug,T),v=V,()=>{c.removeEventListener(Ug,T),v=null}},createHref(V){return i(c,V)},createURL:N,encodeLocation(V){let Z=N(V);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:O,replace:A,go(V){return p.go(V)}};return k}function $v(a,i=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(s,"No window.location.(origin|href) available to create URL");let l=typeof a=="string"?a:ra(a);return l=l.replace(/ $/,"%20"),!i&&l.startsWith("//")&&(l=s+l),new URL(l,s)}var Rl,Hg=class{constructor(a){if(S0(this,Rl,new Map),a)for(let[i,s]of a)this.set(i,s)}get(a){if(Bd(this,Rl).has(a))return Bd(this,Rl).get(a);if(a.defaultValue!==void 0)return a.defaultValue;throw new Error("No value found for context")}set(a,i){Bd(this,Rl).set(a,i)}};Rl=new WeakMap;var C0=new Set(["lazy","caseSensitive","path","id","index","children"]);function O0(a){return C0.has(a)}var A0=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function R0(a){return A0.has(a)}function L0(a){return a.index===!0}function Pl(a,i,s=[],l={},c=!1){return a.map((f,p)=>{let y=[...s,String(p)],v=typeof f.id=="string"?f.id:y.join("-");if(Fe(f.index!==!0||!f.children,"Cannot specify children on an index route"),Fe(c||!l[v],`Found a route id collision on id "${v}".  Route id's must be globally unique within Data Router usages`),L0(f)){let _={...f,id:v};return l[v]=Ig(_,i(_)),_}else{let _={...f,id:v,children:void 0};return l[v]=Ig(_,i(_)),f.children&&(_.children=Pl(f.children,i,y,l,c)),_}})}function Ig(a,i){return Object.assign(a,{...i,...typeof i.lazy=="object"&&i.lazy!=null?{lazy:{...a.lazy,...i.lazy}}:{}})}function xr(a,i,s="/"){return Ll(a,i,s,!1)}function Ll(a,i,s,l){let c=typeof i=="string"?Ar(i):i,f=_i(c.pathname||"/",s);if(f==null)return null;let p=Kv(a);j0(p);let y=null;for(let v=0;y==null&&v<p.length;++v){let _=Z0(f);y=I0(p[v],_,l)}return y}function k0(a,i){let{route:s,pathname:l,params:c}=a;return{id:s.id,pathname:l,params:c,data:i[s.id],loaderData:i[s.id],handle:s.handle}}function Kv(a,i=[],s=[],l="",c=!1){let f=(p,y,v=c,_)=>{let x={relativePath:_===void 0?p.path||"":_,caseSensitive:p.caseSensitive===!0,childrenIndex:y,route:p};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(l)&&v)return;Fe(x.relativePath.startsWith(l),`Absolute route path "${x.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(l.length)}let T=aa([l,x.relativePath]),O=s.concat(x);p.children&&p.children.length>0&&(Fe(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Kv(p.children,i,O,T,v)),!(p.path==null&&!p.index)&&i.push({path:T,score:B0(T,p.index),routesMeta:O})};return a.forEach((p,y)=>{if(p.path===""||!p.path?.includes("?"))f(p,y);else for(let v of Yv(p.path))f(p,y,!0,v)}),i}function Yv(a){let i=a.split("/");if(i.length===0)return[];let[s,...l]=i,c=s.endsWith("?"),f=s.replace(/\?$/,"");if(l.length===0)return c?[f,""]:[f];let p=Yv(l.join("/")),y=[];return y.push(...p.map(v=>v===""?f:[f,v].join("/"))),c&&y.push(...p),y.map(v=>a.startsWith("/")&&v===""?"/":v)}function j0(a){a.sort((i,s)=>i.score!==s.score?s.score-i.score:H0(i.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var z0=/^:[\w-]+$/,M0=3,D0=2,N0=1,P0=10,U0=-2,qg=a=>a==="*";function B0(a,i){let s=a.split("/"),l=s.length;return s.some(qg)&&(l+=U0),i&&(l+=D0),s.filter(c=>!qg(c)).reduce((c,f)=>c+(z0.test(f)?M0:f===""?N0:P0),l)}function H0(a,i){return a.length===i.length&&a.slice(0,-1).every((l,c)=>l===i[c])?a[a.length-1]-i[i.length-1]:0}function I0(a,i,s=!1){let{routesMeta:l}=a,c={},f="/",p=[];for(let y=0;y<l.length;++y){let v=l[y],_=y===l.length-1,x=f==="/"?i:i.slice(f.length)||"/",T=Ec({path:v.relativePath,caseSensitive:v.caseSensitive,end:_},x),O=v.route;if(!T&&_&&s&&!l[l.length-1].route.index&&(T=Ec({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},x)),!T)return null;Object.assign(c,T.params),p.push({params:c,pathname:aa([f,T.pathname]),pathnameBase:$0(aa([f,T.pathnameBase])),route:O}),T.pathnameBase!=="/"&&(f=aa([f,T.pathnameBase]))}return p}function Ec(a,i){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,l]=q0(a.path,a.caseSensitive,a.end),c=i.match(s);if(!c)return null;let f=c[0],p=f.replace(/(.)\/+$/,"$1"),y=c.slice(1);return{params:l.reduce((_,{paramName:x,isOptional:T},O)=>{if(x==="*"){let N=y[O]||"";p=f.slice(0,f.length-N.length).replace(/(.)\/+$/,"$1")}const A=y[O];return T&&!A?_[x]=void 0:_[x]=(A||"").replace(/%2F/g,"/"),_},{}),pathname:f,pathnameBase:p,pattern:a}}function q0(a,i=!1,s=!0){Zt(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let l=[],c="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,y,v)=>(l.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(l.push({paramName:"*"}),c+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":a!==""&&a!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,i?void 0:"i"),l]}function Z0(a){try{return a.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Zt(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),a}}function _i(a,i){if(i==="/")return a;if(!a.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,l=a.charAt(s);return l&&l!=="/"?null:a.slice(s)||"/"}function G0({basename:a,pathname:i}){return i==="/"?a:aa([a,i])}var Fv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lc=a=>Fv.test(a);function V0(a,i="/"){let{pathname:s,search:l="",hash:c=""}=typeof a=="string"?Ar(a):a,f;if(s)if(Lc(s))f=s;else{if(s.includes("//")){let p=s;s=s.replace(/\/\/+/g,"/"),Zt(!1,`Pathnames cannot have embedded double slashes - normalizing ${p} -> ${s}`)}s.startsWith("/")?f=Zg(s.substring(1),"/"):f=Zg(s,i)}else f=i;return{pathname:f,search:K0(l),hash:Y0(c)}}function Zg(a,i){let s=i.replace(/\/+$/,"").split("/");return a.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function Hd(a,i,s,l){return`Cannot include a '${a}' character in a manually specified \`to.${i}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xv(a){return a.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function kc(a){let i=Xv(a);return i.map((s,l)=>l===i.length-1?s.pathname:s.pathnameBase)}function jc(a,i,s,l=!1){let c;typeof a=="string"?c=Ar(a):(c={...a},Fe(!c.pathname||!c.pathname.includes("?"),Hd("?","pathname","search",c)),Fe(!c.pathname||!c.pathname.includes("#"),Hd("#","pathname","hash",c)),Fe(!c.search||!c.search.includes("#"),Hd("#","search","hash",c)));let f=a===""||c.pathname==="",p=f?"/":c.pathname,y;if(p==null)y=s;else{let T=i.length-1;if(!l&&p.startsWith("..")){let O=p.split("/");for(;O[0]==="..";)O.shift(),T-=1;c.pathname=O.join("/")}y=T>=0?i[T]:"/"}let v=V0(c,y),_=p&&p!=="/"&&p.endsWith("/"),x=(f||p===".")&&s.endsWith("/");return!v.pathname.endsWith("/")&&(_||x)&&(v.pathname+="/"),v}var aa=a=>a.join("/").replace(/\/\/+/g,"/"),$0=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),K0=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Y0=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,Vl=class{constructor(a,i,s,l=!1){this.status=a,this.statusText=i||"",this.internal=l,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function Ul(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function $l(a){return a.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Wv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Jv(a,i){let s=a;if(typeof s!="string"||!Fv.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let l=s,c=!1;if(Wv)try{let f=new URL(window.location.href),p=s.startsWith("//")?new URL(f.protocol+s):new URL(s),y=_i(p.pathname,i);p.origin===f.origin&&y!=null?s=y+p.search+p.hash:c=!0}catch{Zt(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:c,to:s}}var Or=Symbol("Uninstrumented");function F0(a,i){let s={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};a.forEach(c=>c({id:i.id,index:i.index,path:i.path,instrument(f){let p=Object.keys(s);for(let y of p)f[y]&&s[y].push(f[y])}}));let l={};if(typeof i.lazy=="function"&&s.lazy.length>0){let c=wo(s.lazy,i.lazy,()=>{});c&&(l.lazy=c)}if(typeof i.lazy=="object"){let c=i.lazy;["middleware","loader","action"].forEach(f=>{let p=c[f],y=s[`lazy.${f}`];if(typeof p=="function"&&y.length>0){let v=wo(y,p,()=>{});v&&(l.lazy=Object.assign(l.lazy||{},{[f]:v}))}})}return["loader","action"].forEach(c=>{let f=i[c];if(typeof f=="function"&&s[c].length>0){let p=f[Or]??f,y=wo(s[c],p,(...v)=>Gg(v[0]));y&&(y[Or]=p,l[c]=y)}}),i.middleware&&i.middleware.length>0&&s.middleware.length>0&&(l.middleware=i.middleware.map(c=>{let f=c[Or]??c,p=wo(s.middleware,f,(...y)=>Gg(y[0]));return p?(p[Or]=f,p):c})),l}function X0(a,i){let s={navigate:[],fetch:[]};if(i.forEach(l=>l({instrument(c){let f=Object.keys(c);for(let p of f)c[p]&&s[p].push(c[p])}})),s.navigate.length>0){let l=a.navigate[Or]??a.navigate,c=wo(s.navigate,l,(...f)=>{let[p,y]=f;return{to:typeof p=="number"||typeof p=="string"?p:p?ra(p):".",...Vg(a,y??{})}});c&&(c[Or]=l,a.navigate=c)}if(s.fetch.length>0){let l=a.fetch[Or]??a.fetch,c=wo(s.fetch,l,(...f)=>{let[p,,y,v]=f;return{href:y??".",fetcherKey:p,...Vg(a,v??{})}});c&&(c[Or]=l,a.fetch=c)}return a}function wo(a,i,s){return a.length===0?null:async(...l)=>{let c=await Qv(a,s(...l),()=>i(...l),a.length-1);if(c.type==="error")throw c.value;return c.value}}async function Qv(a,i,s,l){let c=a[l],f;if(c){let p,y=async()=>(p?console.error("You cannot call instrumented handlers more than once"):p=Qv(a,i,s,l-1),f=await p,Fe(f,"Expected a result"),f.type==="error"&&f.value instanceof Error?{status:"error",error:f.value}:{status:"success",error:void 0});try{await c(y,i)}catch(v){console.error("An instrumentation function threw an error:",v)}p||await y(),await p}else try{f={type:"success",value:await s()}}catch(p){f={type:"error",value:p}}return f||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Gg(a){let{request:i,context:s,params:l,unstable_pattern:c}=a;return{request:W0(i),params:{...l},unstable_pattern:c,context:J0(s)}}function Vg(a,i){return{currentUrl:ra(a.state.location),..."formMethod"in i?{formMethod:i.formMethod}:{},..."formEncType"in i?{formEncType:i.formEncType}:{},..."formData"in i?{formData:i.formData}:{},..."body"in i?{body:i.body}:{}}}function W0(a){return{method:a.method,url:a.url,headers:{get:(...i)=>a.headers.get(...i)}}}function J0(a){if(eb(a)){let i={...a};return Object.freeze(i),i}else return{get:i=>a.get(i)}}var Q0=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eb(a){if(a===null||typeof a!="object")return!1;const i=Object.getPrototypeOf(a);return i===Object.prototype||i===null||Object.getOwnPropertyNames(i).sort().join("\0")===Q0}var ey=["POST","PUT","PATCH","DELETE"],tb=new Set(ey),nb=["GET",...ey],ib=new Set(nb),ty=new Set([301,302,303,307,308]),ab=new Set([307,308]),Id={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Cl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},sb=a=>({hasErrorBoundary:!!a.hasErrorBoundary}),ny="remix-router-transitions",iy=Symbol("ResetLoaderData");function ob(a){const i=a.window?a.window:typeof window<"u"?window:void 0,s=typeof i<"u"&&typeof i.document<"u"&&typeof i.document.createElement<"u";Fe(a.routes.length>0,"You must provide a non-empty routes array to createRouter");let l=a.hydrationRouteProperties||[],c=a.mapRouteProperties||sb,f=c;if(a.unstable_instrumentations){let z=a.unstable_instrumentations;f=H=>({...c(H),...F0(z.map(K=>K.route).filter(Boolean),H)})}let p={},y=Pl(a.routes,f,void 0,p),v,_=a.basename||"/";_.startsWith("/")||(_=`/${_}`);let x=a.dataStrategy||db,T={...a.future},O=null,A=new Set,N=null,k=null,V=null,Z=a.hydrationData!=null,B=xr(y,a.history.location,_),G=!1,se=null,be;if(B==null&&!a.patchRoutesOnNavigation){let z=yi(404,{pathname:a.history.location.pathname}),{matches:H,route:K}=fc(y);be=!0,B=H,se={[K.id]:z}}else if(B&&!a.hydrationData&&fa(B,y,a.history.location.pathname).active&&(B=null),B)if(B.some(z=>z.route.lazy))be=!1;else if(!B.some(z=>yf(z.route)))be=!0;else{let z=a.hydrationData?a.hydrationData.loaderData:null,H=a.hydrationData?a.hydrationData.errors:null;if(H){let K=B.findIndex(X=>H[X.route.id]!==void 0);be=B.slice(0,K+1).every(X=>!tf(X.route,z,H))}else be=B.every(K=>!tf(K.route,z,H))}else{be=!1,B=[];let z=fa(null,y,a.history.location.pathname);z.active&&z.matches&&(G=!0,B=z.matches)}let ge,U={historyAction:a.history.action,location:a.history.location,matches:B,initialized:be,navigation:Id,restoreScrollPosition:a.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:a.hydrationData&&a.hydrationData.loaderData||{},actionData:a.hydrationData&&a.hydrationData.actionData||null,errors:a.hydrationData&&a.hydrationData.errors||se,fetchers:new Map,blockers:new Map},ve="POP",Re=null,st=!1,je,Ue=!1,Gt=new Map,Ye=null,Ge=!1,$=!1,ue=new Set,ne=new Map,Me=0,he=-1,j=new Map,Q=new Set,oe=new Map,le=new Map,de=new Set,me=new Map,He,dt=null;function St(){if(O=a.history.listen(({action:z,location:H,delta:K})=>{if(He){He(),He=void 0;return}Zt(me.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=Bi({currentLocation:U.location,nextLocation:H,historyAction:z});if(X&&K!=null){let ce=new Promise(xe=>{He=xe});a.history.go(K*-1),ri(X,{state:"blocked",location:H,proceed(){ri(X,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),ce.then(()=>a.history.go(K))},reset(){let xe=new Map(U.blockers);xe.set(X,Cl),xt({blockers:xe})}}),Re?.resolve(),Re=null;return}return Cn(z,H)}),s){Lb(i,Gt);let z=()=>kb(i,Gt);i.addEventListener("pagehide",z),Ye=()=>i.removeEventListener("pagehide",z)}return U.initialized||Cn("POP",U.location,{initialHydration:!0}),ge}function bi(){O&&O(),Ye&&Ye(),A.clear(),je&&je.abort(),U.fetchers.forEach((z,H)=>Lr(H)),U.blockers.forEach((z,H)=>ws(H))}function Ni(z){return A.add(z),()=>A.delete(z)}function xt(z,H={}){z.matches&&(z.matches=z.matches.map(ce=>{let xe=p[ce.route.id],ye=ce.route;return ye.element!==xe.element||ye.errorElement!==xe.errorElement||ye.hydrateFallbackElement!==xe.hydrateFallbackElement?{...ce,route:xe}:ce})),U={...U,...z};let K=[],X=[];U.fetchers.forEach((ce,xe)=>{ce.state==="idle"&&(de.has(xe)?K.push(xe):X.push(xe))}),de.forEach(ce=>{!U.fetchers.has(ce)&&!ne.has(ce)&&K.push(ce)}),[...A].forEach(ce=>ce(U,{deletedFetchers:K,newErrors:z.errors??null,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),K.forEach(ce=>Lr(ce)),X.forEach(ce=>U.fetchers.delete(ce))}function Hn(z,H,{flushSync:K}={}){let X=U.actionData!=null&&U.navigation.formMethod!=null&&bn(U.navigation.formMethod)&&U.navigation.state==="loading"&&z.state?._isRedirect!==!0,ce;H.actionData?Object.keys(H.actionData).length>0?ce=H.actionData:ce=null:X?ce=U.actionData:ce=null;let xe=H.loaderData?tv(U.loaderData,H.loaderData,H.matches||[],H.errors):U.loaderData,ye=U.blockers;ye.size>0&&(ye=new Map(ye),ye.forEach((Ce,Te)=>ye.set(Te,Cl)));let pe=Ge?!1:Ss(z,H.matches||U.matches),_e=st===!0||U.navigation.formMethod!=null&&bn(U.navigation.formMethod)&&z.state?._isRedirect!==!0;v&&(y=v,v=void 0),Ge||ve==="POP"||(ve==="PUSH"?a.history.push(z,z.state):ve==="REPLACE"&&a.history.replace(z,z.state));let Se;if(ve==="POP"){let Ce=Gt.get(U.location.pathname);Ce&&Ce.has(z.pathname)?Se={currentLocation:U.location,nextLocation:z}:Gt.has(z.pathname)&&(Se={currentLocation:z,nextLocation:U.location})}else if(Ue){let Ce=Gt.get(U.location.pathname);Ce?Ce.add(z.pathname):(Ce=new Set([z.pathname]),Gt.set(U.location.pathname,Ce)),Se={currentLocation:U.location,nextLocation:z}}xt({...H,actionData:ce,loaderData:xe,historyAction:ve,location:z,initialized:!0,navigation:Id,revalidation:"idle",restoreScrollPosition:pe,preventScrollReset:_e,blockers:ye},{viewTransitionOpts:Se,flushSync:K===!0}),ve="POP",st=!1,Ue=!1,Ge=!1,$=!1,Re?.resolve(),Re=null,dt?.resolve(),dt=null}async function ai(z,H){if(Re?.resolve(),Re=null,typeof z=="number"){Re||(Re=rv());let Xe=Re.promise;return a.history.go(z),Xe}let K=ef(U.location,U.matches,_,z,H?.fromRouteId,H?.relative),{path:X,submission:ce,error:xe}=$g(!1,K,H),ye=U.location,pe=Nl(U.location,X,H&&H.state);pe={...pe,...a.history.encodeLocation(pe)};let _e=H&&H.replace!=null?H.replace:void 0,Se="PUSH";_e===!0?Se="REPLACE":_e===!1||ce!=null&&bn(ce.formMethod)&&ce.formAction===U.location.pathname+U.location.search&&(Se="REPLACE");let Ce=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,Te=(H&&H.flushSync)===!0,tt=Bi({currentLocation:ye,nextLocation:pe,historyAction:Se});if(tt){ri(tt,{state:"blocked",location:pe,proceed(){ri(tt,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),ai(z,H)},reset(){let Xe=new Map(U.blockers);Xe.set(tt,Cl),xt({blockers:Xe})}});return}await Cn(Se,pe,{submission:ce,pendingError:xe,preventScrollReset:Ce,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:Te,callSiteDefaultShouldRevalidate:H&&H.unstable_defaultShouldRevalidate})}function Na(){dt||(dt=rv()),ca(),xt({revalidation:"loading"});let z=dt.promise;return U.navigation.state==="submitting"?z:U.navigation.state==="idle"?(Cn(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),z):(Cn(ve||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:Ue===!0}),z)}async function Cn(z,H,K){je&&je.abort(),je=null,ve=z,Ge=(K&&K.startUninterruptedRevalidation)===!0,da(U.location,U.matches),st=(K&&K.preventScrollReset)===!0,Ue=(K&&K.enableViewTransition)===!0;let X=v||y,ce=K&&K.overrideNavigation,xe=K?.initialHydration&&U.matches&&U.matches.length>0&&!G?U.matches:xr(X,H,_),ye=(K&&K.flushSync)===!0;if(xe&&U.initialized&&!$&&bb(U.location,H)&&!(K&&K.submission&&bn(K.submission.formMethod))){Hn(H,{matches:xe},{flushSync:ye});return}let pe=fa(xe,X,H.pathname);if(pe.active&&pe.matches&&(xe=pe.matches),!xe){let{error:Lt,notFoundMatches:Ot,route:We}=wi(H.pathname);Hn(H,{matches:Ot,loaderData:{},errors:{[We.id]:Lt}},{flushSync:ye});return}je=new AbortController;let _e=vo(a.history,H,je.signal,K&&K.submission),Se=a.getContext?await a.getContext():new Hg,Ce;if(K&&K.pendingError)Ce=[Er(xe).route.id,{type:"error",error:K.pendingError}];else if(K&&K.submission&&bn(K.submission.formMethod)){let Lt=await Rr(_e,H,K.submission,xe,Se,pe.active,K&&K.initialHydration===!0,{replace:K.replace,flushSync:ye});if(Lt.shortCircuited)return;if(Lt.pendingActionResult){let[Ot,We]=Lt.pendingActionResult;if(ei(We)&&Ul(We.error)&&We.error.status===404){je=null,Hn(H,{matches:Lt.matches,loaderData:{},errors:{[Ot]:We.error}});return}}xe=Lt.matches||xe,Ce=Lt.pendingActionResult,ce=qd(H,K.submission),ye=!1,pe.active=!1,_e=vo(a.history,_e.url,_e.signal)}let{shortCircuited:Te,matches:tt,loaderData:Xe,errors:Ct}=await sa(_e,H,xe,Se,pe.active,ce,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,ye,Ce,K&&K.callSiteDefaultShouldRevalidate);Te||(je=null,Hn(H,{matches:tt||xe,...nv(Ce),loaderData:Xe,errors:Ct}))}async function Rr(z,H,K,X,ce,xe,ye,pe={}){ca();let _e=Ab(H,K);if(xt({navigation:_e},{flushSync:pe.flushSync===!0}),xe){let Te=await Hi(X,H.pathname,z.signal);if(Te.type==="aborted")return{shortCircuited:!0};if(Te.type==="error"){if(Te.partialMatches.length===0){let{matches:Xe,route:Ct}=fc(y);return{matches:Xe,pendingActionResult:[Ct.id,{type:"error",error:Te.error}]}}let tt=Er(Te.partialMatches).route.id;return{matches:Te.partialMatches,pendingActionResult:[tt,{type:"error",error:Te.error}]}}else if(Te.matches)X=Te.matches;else{let{notFoundMatches:tt,error:Xe,route:Ct}=wi(H.pathname);return{matches:tt,pendingActionResult:[Ct.id,{type:"error",error:Xe}]}}}let Se,Ce=wc(X,H);if(!Ce.route.action&&!Ce.route.lazy)Se={type:"error",error:yi(405,{method:z.method,pathname:H.pathname,routeId:Ce.route.id})};else{let Te=xo(f,p,z,X,Ce,ye?[]:l,ce),tt=await la(z,Te,ce,null);if(Se=tt[Ce.route.id],!Se){for(let Xe of X)if(tt[Xe.route.id]){Se=tt[Xe.route.id];break}}if(z.signal.aborted)return{shortCircuited:!0}}if(ms(Se)){let Te;return pe&&pe.replace!=null?Te=pe.replace:Te=Jg(Se.response.headers.get("Location"),new URL(z.url),_)===U.location.pathname+U.location.search,await zt(z,Se,!0,{submission:K,replace:Te}),{shortCircuited:!0}}if(ei(Se)){let Te=Er(X,Ce.route.id);return(pe&&pe.replace)!==!0&&(ve="PUSH"),{matches:X,pendingActionResult:[Te.route.id,Se,Ce.route.id]}}return{matches:X,pendingActionResult:[Ce.route.id,Se]}}async function sa(z,H,K,X,ce,xe,ye,pe,_e,Se,Ce,Te,tt){let Xe=xe||qd(H,ye),Ct=ye||pe||av(Xe),Lt=!Ge&&!Se;if(ce){if(Lt){let ke=Pa(Te);xt({navigation:Xe,...ke!==void 0?{actionData:ke}:{}},{flushSync:Ce})}let Ve=await Hi(K,H.pathname,z.signal);if(Ve.type==="aborted")return{shortCircuited:!0};if(Ve.type==="error"){if(Ve.partialMatches.length===0){let{matches:rt,route:Pt}=fc(y);return{matches:rt,loaderData:{},errors:{[Pt.id]:Ve.error}}}let ke=Er(Ve.partialMatches).route.id;return{matches:Ve.partialMatches,loaderData:{},errors:{[ke]:Ve.error}}}else if(Ve.matches)K=Ve.matches;else{let{error:ke,notFoundMatches:rt,route:Pt}=wi(H.pathname);return{matches:rt,loaderData:{},errors:{[Pt.id]:ke}}}}let Ot=v||y,{dsMatches:We,revalidatingFetchers:Mt}=Kg(z,X,f,p,a.history,U,K,Ct,H,Se?[]:l,Se===!0,$,ue,de,oe,Q,Ot,_,a.patchRoutesOnNavigation!=null,Te,tt);if(he=++Me,!a.dataStrategy&&!We.some(Ve=>Ve.shouldLoad)&&!We.some(Ve=>Ve.route.middleware&&Ve.route.middleware.length>0)&&Mt.length===0){let Ve=nn();return Hn(H,{matches:K,loaderData:{},errors:Te&&ei(Te[1])?{[Te[0]]:Te[1].error}:null,...nv(Te),...Ve?{fetchers:new Map(U.fetchers)}:{}},{flushSync:Ce}),{shortCircuited:!0}}if(Lt){let Ve={};if(!ce){Ve.navigation=Xe;let ke=Pa(Te);ke!==void 0&&(Ve.actionData=ke)}Mt.length>0&&(Ve.fetchers=Ua(Mt)),xt(Ve,{flushSync:Ce})}Mt.forEach(Ve=>{_t(Ve.key),Ve.controller&&ne.set(Ve.key,Ve.controller)});let pn=()=>Mt.forEach(Ve=>_t(Ve.key));je&&je.signal.addEventListener("abort",pn);let{loaderResults:Et,fetcherResults:qn}=await ua(We,Mt,z,X);if(z.signal.aborted)return{shortCircuited:!0};je&&je.signal.removeEventListener("abort",pn),Mt.forEach(Ve=>ne.delete(Ve.key));let wn=mc(Et);if(wn)return await zt(z,wn.result,!0,{replace:_e}),{shortCircuited:!0};if(wn=mc(qn),wn)return Q.add(wn.key),await zt(z,wn.result,!0,{replace:_e}),{shortCircuited:!0};let{loaderData:Zn,errors:gn}=ev(U,K,Et,Te,Mt,qn);Se&&U.errors&&(gn={...U.errors,...gn});let Sn=nn(),Ii=Ui(he),qi=Sn||Ii||Mt.length>0;return{matches:K,loaderData:Zn,errors:gn,...qi?{fetchers:new Map(U.fetchers)}:{}}}function Pa(z){if(z&&!ei(z[1]))return{[z[0]]:z[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Ua(z){return z.forEach(H=>{let K=U.fetchers.get(H.key),X=Ol(void 0,K?K.data:void 0);U.fetchers.set(H.key,X)}),new Map(U.fetchers)}async function oa(z,H,K,X){_t(z);let ce=(X&&X.flushSync)===!0,xe=v||y,ye=ef(U.location,U.matches,_,K,H,X?.relative),pe=xr(xe,ye,_),_e=fa(pe,xe,ye);if(_e.active&&_e.matches&&(pe=_e.matches),!pe){In(z,H,yi(404,{pathname:ye}),{flushSync:ce});return}let{path:Se,submission:Ce,error:Te}=$g(!0,ye,X);if(Te){In(z,H,Te,{flushSync:ce});return}let tt=a.getContext?await a.getContext():new Hg,Xe=(X&&X.preventScrollReset)===!0;if(Ce&&bn(Ce.formMethod)){await ys(z,H,Se,pe,tt,_e.active,ce,Xe,Ce,X&&X.unstable_defaultShouldRevalidate);return}oe.set(z,{routeId:H,path:Se}),await _s(z,H,Se,pe,tt,_e.active,ce,Xe,Ce)}async function ys(z,H,K,X,ce,xe,ye,pe,_e,Se){ca(),oe.delete(z);let Ce=U.fetchers.get(z);on(z,Rb(_e,Ce),{flushSync:ye});let Te=new AbortController,tt=vo(a.history,K,Te.signal,_e);if(xe){let qe=await Hi(X,new URL(tt.url).pathname,tt.signal,z);if(qe.type==="aborted")return;if(qe.type==="error"){In(z,H,qe.error,{flushSync:ye});return}else if(qe.matches)X=qe.matches;else{In(z,H,yi(404,{pathname:K}),{flushSync:ye});return}}let Xe=wc(X,K);if(!Xe.route.action&&!Xe.route.lazy){let qe=yi(405,{method:_e.formMethod,pathname:K,routeId:H});In(z,H,qe,{flushSync:ye});return}ne.set(z,Te);let Ct=Me,Lt=xo(f,p,tt,X,Xe,l,ce),Ot=await la(tt,Lt,ce,z),We=Ot[Xe.route.id];if(!We){for(let qe of Lt)if(Ot[qe.route.id]){We=Ot[qe.route.id];break}}if(tt.signal.aborted){ne.get(z)===Te&&ne.delete(z);return}if(de.has(z)){if(ms(We)||ei(We)){on(z,ja(void 0));return}}else{if(ms(We))if(ne.delete(z),he>Ct){on(z,ja(void 0));return}else return Q.add(z),on(z,Ol(_e)),zt(tt,We,!1,{fetcherSubmission:_e,preventScrollReset:pe});if(ei(We)){In(z,H,We.error);return}}let Mt=U.navigation.location||U.location,pn=vo(a.history,Mt,Te.signal),Et=v||y,qn=U.navigation.state!=="idle"?xr(Et,U.navigation.location,_):U.matches;Fe(qn,"Didn't find any matches after fetcher action");let wn=++Me;j.set(z,wn);let Zn=Ol(_e,We.data);U.fetchers.set(z,Zn);let{dsMatches:gn,revalidatingFetchers:Sn}=Kg(pn,ce,f,p,a.history,U,qn,_e,Mt,l,!1,$,ue,de,oe,Q,Et,_,a.patchRoutesOnNavigation!=null,[Xe.route.id,We],Se);Sn.filter(qe=>qe.key!==z).forEach(qe=>{let An=qe.key,Ha=U.fetchers.get(An),Be=Ol(void 0,Ha?Ha.data:void 0);U.fetchers.set(An,Be),_t(An),qe.controller&&ne.set(An,qe.controller)}),xt({fetchers:new Map(U.fetchers)});let Ii=()=>Sn.forEach(qe=>_t(qe.key));Te.signal.addEventListener("abort",Ii);let{loaderResults:qi,fetcherResults:Ve}=await ua(gn,Sn,pn,ce);if(Te.signal.aborted)return;if(Te.signal.removeEventListener("abort",Ii),j.delete(z),ne.delete(z),Sn.forEach(qe=>ne.delete(qe.key)),U.fetchers.has(z)){let qe=ja(We.data);U.fetchers.set(z,qe)}let ke=mc(qi);if(ke)return zt(pn,ke.result,!1,{preventScrollReset:pe});if(ke=mc(Ve),ke)return Q.add(ke.key),zt(pn,ke.result,!1,{preventScrollReset:pe});let{loaderData:rt,errors:Pt}=ev(U,qn,qi,void 0,Sn,Ve);Ui(wn),U.navigation.state==="loading"&&wn>he?(Fe(ve,"Expected pending action"),je&&je.abort(),Hn(U.navigation.location,{matches:qn,loaderData:rt,errors:Pt,fetchers:new Map(U.fetchers)})):(xt({errors:Pt,loaderData:tv(U.loaderData,rt,qn,Pt),fetchers:new Map(U.fetchers)}),$=!1)}async function _s(z,H,K,X,ce,xe,ye,pe,_e){let Se=U.fetchers.get(z);on(z,Ol(_e,Se?Se.data:void 0),{flushSync:ye});let Ce=new AbortController,Te=vo(a.history,K,Ce.signal);if(xe){let We=await Hi(X,new URL(Te.url).pathname,Te.signal,z);if(We.type==="aborted")return;if(We.type==="error"){In(z,H,We.error,{flushSync:ye});return}else if(We.matches)X=We.matches;else{In(z,H,yi(404,{pathname:K}),{flushSync:ye});return}}let tt=wc(X,K);ne.set(z,Ce);let Xe=Me,Ct=xo(f,p,Te,X,tt,l,ce),Ot=(await la(Te,Ct,ce,z))[tt.route.id];if(ne.get(z)===Ce&&ne.delete(z),!Te.signal.aborted){if(de.has(z)){on(z,ja(void 0));return}if(ms(Ot))if(he>Xe){on(z,ja(void 0));return}else{Q.add(z),await zt(Te,Ot,!1,{preventScrollReset:pe});return}if(ei(Ot)){In(z,H,Ot.error);return}on(z,ja(Ot.data))}}async function zt(z,H,K,{submission:X,fetcherSubmission:ce,preventScrollReset:xe,replace:ye}={}){K||(Re?.resolve(),Re=null),H.response.headers.has("X-Remix-Revalidate")&&($=!0);let pe=H.response.headers.get("Location");Fe(pe,"Expected a Location header on the redirect Response"),pe=Jg(pe,new URL(z.url),_);let _e=Nl(U.location,pe,{_isRedirect:!0});if(s){let Ct=!1;if(H.response.headers.has("X-Remix-Reload-Document"))Ct=!0;else if(Lc(pe)){const Lt=$v(pe,!0);Ct=Lt.origin!==i.location.origin||_i(Lt.pathname,_)==null}if(Ct){ye?i.location.replace(pe):i.location.assign(pe);return}}je=null;let Se=ye===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ce,formAction:Te,formEncType:tt}=U.navigation;!X&&!ce&&Ce&&Te&&tt&&(X=av(U.navigation));let Xe=X||ce;if(ab.has(H.response.status)&&Xe&&bn(Xe.formMethod))await Cn(Se,_e,{submission:{...Xe,formAction:pe},preventScrollReset:xe||st,enableViewTransition:K?Ue:void 0});else{let Ct=qd(_e,X);await Cn(Se,_e,{overrideNavigation:Ct,fetcherSubmission:ce,preventScrollReset:xe||st,enableViewTransition:K?Ue:void 0})}}async function la(z,H,K,X){let ce,xe={};try{ce=await mb(x,z,H,X,K,!1)}catch(ye){return H.filter(pe=>pe.shouldLoad).forEach(pe=>{xe[pe.route.id]={type:"error",error:ye}}),xe}if(z.signal.aborted)return xe;if(!bn(z.method))for(let ye of H){if(ce[ye.route.id]?.type==="error")break;!ce.hasOwnProperty(ye.route.id)&&!U.loaderData.hasOwnProperty(ye.route.id)&&(!U.errors||!U.errors.hasOwnProperty(ye.route.id))&&ye.shouldCallHandler()&&(ce[ye.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ye.route.id}`)})}for(let[ye,pe]of Object.entries(ce))if(Eb(pe)){let _e=pe.result;xe[ye]={type:"redirect",response:yb(_e,z,ye,H,_)}}else xe[ye]=await vb(pe);return xe}async function ua(z,H,K,X){let ce=la(K,z,X,null),xe=Promise.all(H.map(async _e=>{if(_e.matches&&_e.match&&_e.request&&_e.controller){let Ce=(await la(_e.request,_e.matches,X,_e.key))[_e.match.route.id];return{[_e.key]:Ce}}else return Promise.resolve({[_e.key]:{type:"error",error:yi(404,{pathname:_e.path})}})})),ye=await ce,pe=(await xe).reduce((_e,Se)=>Object.assign(_e,Se),{});return{loaderResults:ye,fetcherResults:pe}}function ca(){$=!0,oe.forEach((z,H)=>{ne.has(H)&&ue.add(H),_t(H)})}function on(z,H,K={}){U.fetchers.set(z,H),xt({fetchers:new Map(U.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function In(z,H,K,X={}){let ce=Er(U.matches,H);Lr(z),xt({errors:{[ce.route.id]:K},fetchers:new Map(U.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function Ba(z){return le.set(z,(le.get(z)||0)+1),de.has(z)&&de.delete(z),U.fetchers.get(z)||rb}function bs(z,H){_t(z,H?.reason),on(z,ja(null))}function Lr(z){let H=U.fetchers.get(z);ne.has(z)&&!(H&&H.state==="loading"&&j.has(z))&&_t(z),oe.delete(z),j.delete(z),Q.delete(z),de.delete(z),ue.delete(z),U.fetchers.delete(z)}function Pi(z){let H=(le.get(z)||0)-1;H<=0?(le.delete(z),de.add(z)):le.set(z,H),xt({fetchers:new Map(U.fetchers)})}function _t(z,H){let K=ne.get(z);K&&(K.abort(H),ne.delete(z))}function On(z){for(let H of z){let K=Ba(H),X=ja(K.data);U.fetchers.set(H,X)}}function nn(){let z=[],H=!1;for(let K of Q){let X=U.fetchers.get(K);Fe(X,`Expected fetcher: ${K}`),X.state==="loading"&&(Q.delete(K),z.push(K),H=!0)}return On(z),H}function Ui(z){let H=[];for(let[K,X]of j)if(X<z){let ce=U.fetchers.get(K);Fe(ce,`Expected fetcher: ${K}`),ce.state==="loading"&&(_t(K),j.delete(K),H.push(K))}return On(H),H.length>0}function Oo(z,H){let K=U.blockers.get(z)||Cl;return me.get(z)!==H&&me.set(z,H),K}function ws(z){U.blockers.delete(z),me.delete(z)}function ri(z,H){let K=U.blockers.get(z)||Cl;Fe(K.state==="unblocked"&&H.state==="blocked"||K.state==="blocked"&&H.state==="blocked"||K.state==="blocked"&&H.state==="proceeding"||K.state==="blocked"&&H.state==="unblocked"||K.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${K.state} -> ${H.state}`);let X=new Map(U.blockers);X.set(z,H),xt({blockers:X})}function Bi({currentLocation:z,nextLocation:H,historyAction:K}){if(me.size===0)return;me.size>1&&Zt(!1,"A router only supports one blocker at a time");let X=Array.from(me.entries()),[ce,xe]=X[X.length-1],ye=U.blockers.get(ce);if(!(ye&&ye.state==="proceeding")&&xe({currentLocation:z,nextLocation:H,historyAction:K}))return ce}function wi(z){let H=yi(404,{pathname:z}),K=v||y,{matches:X,route:ce}=fc(K);return{notFoundMatches:X,route:ce,error:H}}function Si(z,H,K){if(N=z,V=H,k=K||null,!Z&&U.navigation===Id){Z=!0;let X=Ss(U.location,U.matches);X!=null&&xt({restoreScrollPosition:X})}return()=>{N=null,V=null,k=null}}function ha(z,H){return k&&k(z,H.map(X=>k0(X,U.loaderData)))||z.key}function da(z,H){if(N&&V){let K=ha(z,H);N[K]=V()}}function Ss(z,H){if(N){let K=ha(z,H),X=N[K];if(typeof X=="number")return X}return null}function fa(z,H,K){if(a.patchRoutesOnNavigation)if(z){if(Object.keys(z[0].params).length>0)return{active:!0,matches:Ll(H,K,_,!0)}}else return{active:!0,matches:Ll(H,K,_,!0)||[]};return{active:!1,matches:null}}async function Hi(z,H,K,X){if(!a.patchRoutesOnNavigation)return{type:"success",matches:z};let ce=z;for(;;){let xe=v==null,ye=v||y,pe=p;try{await a.patchRoutesOnNavigation({signal:K,path:H,matches:ce,fetcherKey:X,patch:(Ce,Te)=>{K.aborted||Yg(Ce,Te,ye,pe,f,!1)}})}catch(Ce){return{type:"error",error:Ce,partialMatches:ce}}finally{xe&&!K.aborted&&(y=[...y])}if(K.aborted)return{type:"aborted"};let _e=xr(ye,H,_),Se=null;if(_e){if(Object.keys(_e[0].params).length===0)return{type:"success",matches:_e};if(Se=Ll(ye,H,_,!0),!(Se&&ce.length<Se.length&&si(ce,Se.slice(0,ce.length))))return{type:"success",matches:_e}}if(Se||(Se=Ll(ye,H,_,!0)),!Se||si(ce,Se))return{type:"success",matches:null};ce=Se}}function si(z,H){return z.length===H.length&&z.every((K,X)=>K.route.id===H[X].route.id)}function Ao(z){p={},v=Pl(z,f,void 0,p)}function xs(z,H,K=!1){let X=v==null;Yg(z,H,v||y,p,f,K),X&&(y=[...y],xt({}))}return ge={get basename(){return _},get future(){return T},get state(){return U},get routes(){return y},get window(){return i},initialize:St,subscribe:Ni,enableScrollRestoration:Si,navigate:ai,fetch:oa,revalidate:Na,createHref:z=>a.history.createHref(z),encodeLocation:z=>a.history.encodeLocation(z),getFetcher:Ba,resetFetcher:bs,deleteFetcher:Pi,dispose:bi,getBlocker:Oo,deleteBlocker:ws,patchRoutes:xs,_internalFetchControllers:ne,_internalSetRoutes:Ao,_internalSetStateDoNotUseOrYouWillBreakYourApp(z){xt(z)}},a.unstable_instrumentations&&(ge=X0(ge,a.unstable_instrumentations.map(z=>z.router).filter(Boolean))),ge}function lb(a){return a!=null&&("formData"in a&&a.formData!=null||"body"in a&&a.body!==void 0)}function ef(a,i,s,l,c,f){let p,y;if(c){p=[];for(let _ of i)if(p.push(_),_.route.id===c){y=_;break}}else p=i,y=i[i.length-1];let v=jc(l||".",kc(p),_i(a.pathname,s)||a.pathname,f==="path");if(l==null&&(v.search=a.search,v.hash=a.hash),(l==null||l===""||l===".")&&y){let _=bf(v.search);if(y.route.index&&!_)v.search=v.search?v.search.replace(/^\?/,"?index&"):"?index";else if(!y.route.index&&_){let x=new URLSearchParams(v.search),T=x.getAll("index");x.delete("index"),T.filter(A=>A).forEach(A=>x.append("index",A));let O=x.toString();v.search=O?`?${O}`:""}}return s!=="/"&&(v.pathname=G0({basename:s,pathname:v.pathname})),ra(v)}function $g(a,i,s){if(!s||!lb(s))return{path:i};if(s.formMethod&&!Ob(s.formMethod))return{path:i,error:yi(405,{method:s.formMethod})};let l=()=>({path:i,error:yi(400,{type:"invalid-body"})}),f=(s.formMethod||"get").toUpperCase(),p=uy(i);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!bn(f))return l();let T=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((O,[A,N])=>`${O}${A}=${N}
`,""):String(s.body);return{path:i,submission:{formMethod:f,formAction:p,formEncType:s.formEncType,formData:void 0,json:void 0,text:T}}}else if(s.formEncType==="application/json"){if(!bn(f))return l();try{let T=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:i,submission:{formMethod:f,formAction:p,formEncType:s.formEncType,formData:void 0,json:T,text:void 0}}}catch{return l()}}}Fe(typeof FormData=="function","FormData is not available in this environment");let y,v;if(s.formData)y=af(s.formData),v=s.formData;else if(s.body instanceof FormData)y=af(s.body),v=s.body;else if(s.body instanceof URLSearchParams)y=s.body,v=Qg(y);else if(s.body==null)y=new URLSearchParams,v=new FormData;else try{y=new URLSearchParams(s.body),v=Qg(y)}catch{return l()}let _={formMethod:f,formAction:p,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:v,json:void 0,text:void 0};if(bn(_.formMethod))return{path:i,submission:_};let x=Ar(i);return a&&x.search&&bf(x.search)&&y.append("index",""),x.search=`?${y}`,{path:ra(x),submission:_}}function Kg(a,i,s,l,c,f,p,y,v,_,x,T,O,A,N,k,V,Z,B,G,se){let be=G?ei(G[1])?G[1].error:G[1].data:void 0,ge=c.createURL(f.location),U=c.createURL(v),ve;if(x&&f.errors){let Ge=Object.keys(f.errors)[0];ve=p.findIndex($=>$.route.id===Ge)}else if(G&&ei(G[1])){let Ge=G[0];ve=p.findIndex($=>$.route.id===Ge)-1}let Re=G?G[1].statusCode:void 0,st=Re&&Re>=400,je={currentUrl:ge,currentParams:f.matches[0]?.params||{},nextUrl:U,nextParams:p[0].params,...y,actionResult:be,actionStatus:Re},Ue=$l(p),Gt=p.map((Ge,$)=>{let{route:ue}=Ge,ne=null;if(ve!=null&&$>ve?ne=!1:ue.lazy?ne=!0:yf(ue)?x?ne=tf(ue,f.loaderData,f.errors):ub(f.loaderData,f.matches[$],Ge)&&(ne=!0):ne=!1,ne!==null)return nf(s,l,a,Ue,Ge,_,i,ne);let Me=!1;typeof se=="boolean"?Me=se:st?Me=!1:(T||ge.pathname+ge.search===U.pathname+U.search||ge.search!==U.search||cb(f.matches[$],Ge))&&(Me=!0);let he={...je,defaultShouldRevalidate:Me},j=zl(Ge,he);return nf(s,l,a,Ue,Ge,_,i,j,he,se)}),Ye=[];return N.forEach((Ge,$)=>{if(x||!p.some(le=>le.route.id===Ge.routeId)||A.has($))return;let ue=f.fetchers.get($),ne=ue&&ue.state!=="idle"&&ue.data===void 0,Me=xr(V,Ge.path,Z);if(!Me){if(B&&ne)return;Ye.push({key:$,routeId:Ge.routeId,path:Ge.path,matches:null,match:null,request:null,controller:null});return}if(k.has($))return;let he=wc(Me,Ge.path),j=new AbortController,Q=vo(c,Ge.path,j.signal),oe=null;if(O.has($))O.delete($),oe=xo(s,l,Q,Me,he,_,i);else if(ne)T&&(oe=xo(s,l,Q,Me,he,_,i));else{let le;typeof se=="boolean"?le=se:st?le=!1:le=T;let de={...je,defaultShouldRevalidate:le};zl(he,de)&&(oe=xo(s,l,Q,Me,he,_,i,de))}oe&&Ye.push({key:$,routeId:Ge.routeId,path:Ge.path,matches:oe,match:he,request:Q,controller:j})}),{dsMatches:Gt,revalidatingFetchers:Ye}}function yf(a){return a.loader!=null||a.middleware!=null&&a.middleware.length>0}function tf(a,i,s){if(a.lazy)return!0;if(!yf(a))return!1;let l=i!=null&&a.id in i,c=s!=null&&s[a.id]!==void 0;return!l&&c?!1:typeof a.loader=="function"&&a.loader.hydrate===!0?!0:!l&&!c}function ub(a,i,s){let l=!i||s.route.id!==i.route.id,c=!a.hasOwnProperty(s.route.id);return l||c}function cb(a,i){let s=a.route.path;return a.pathname!==i.pathname||s!=null&&s.endsWith("*")&&a.params["*"]!==i.params["*"]}function zl(a,i){if(a.route.shouldRevalidate){let s=a.route.shouldRevalidate(i);if(typeof s=="boolean")return s}return i.defaultShouldRevalidate}function Yg(a,i,s,l,c,f){let p;if(a){let _=l[a];Fe(_,`No route found to patch children into: routeId = ${a}`),_.children||(_.children=[]),p=_.children}else p=s;let y=[],v=[];if(i.forEach(_=>{let x=p.find(T=>ay(_,T));x?v.push({existingRoute:x,newRoute:_}):y.push(_)}),y.length>0){let _=Pl(y,c,[a||"_","patch",String(p?.length||"0")],l);p.push(..._)}if(f&&v.length>0)for(let _=0;_<v.length;_++){let{existingRoute:x,newRoute:T}=v[_],O=x,[A]=Pl([T],c,[],{},!0);Object.assign(O,{element:A.element?A.element:O.element,errorElement:A.errorElement?A.errorElement:O.errorElement,hydrateFallbackElement:A.hydrateFallbackElement?A.hydrateFallbackElement:O.hydrateFallbackElement})}}function ay(a,i){return"id"in a&&"id"in i&&a.id===i.id?!0:a.index===i.index&&a.path===i.path&&a.caseSensitive===i.caseSensitive?(!a.children||a.children.length===0)&&(!i.children||i.children.length===0)?!0:a.children.every((s,l)=>i.children?.some(c=>ay(s,c))):!1}var Fg=new WeakMap,ry=({key:a,route:i,manifest:s,mapRouteProperties:l})=>{let c=s[i.id];if(Fe(c,"No route found in manifest"),!c.lazy||typeof c.lazy!="object")return;let f=c.lazy[a];if(!f)return;let p=Fg.get(c);p||(p={},Fg.set(c,p));let y=p[a];if(y)return y;let v=(async()=>{let _=O0(a),T=c[a]!==void 0&&a!=="hasErrorBoundary";if(_)Zt(!_,"Route property "+a+" is not a supported lazy route property. This property will be ignored."),p[a]=Promise.resolve();else if(T)Zt(!1,`Route "${c.id}" has a static property "${a}" defined. The lazy property will be ignored.`);else{let O=await f();O!=null&&(Object.assign(c,{[a]:O}),Object.assign(c,l(c)))}typeof c.lazy=="object"&&(c.lazy[a]=void 0,Object.values(c.lazy).every(O=>O===void 0)&&(c.lazy=void 0))})();return p[a]=v,v},Xg=new WeakMap;function hb(a,i,s,l,c){let f=s[a.id];if(Fe(f,"No route found in manifest"),!a.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof a.lazy=="function"){let x=Xg.get(f);if(x)return{lazyRoutePromise:x,lazyHandlerPromise:x};let T=(async()=>{Fe(typeof a.lazy=="function","No lazy route function found");let O=await a.lazy(),A={};for(let N in O){let k=O[N];if(k===void 0)continue;let V=R0(N),B=f[N]!==void 0&&N!=="hasErrorBoundary";V?Zt(!V,"Route property "+N+" is not a supported property to be returned from a lazy route function. This property will be ignored."):B?Zt(!B,`Route "${f.id}" has a static property "${N}" defined but its lazy function is also returning a value for this property. The lazy route property "${N}" will be ignored.`):A[N]=k}Object.assign(f,A),Object.assign(f,{...l(f),lazy:void 0})})();return Xg.set(f,T),T.catch(()=>{}),{lazyRoutePromise:T,lazyHandlerPromise:T}}let p=Object.keys(a.lazy),y=[],v;for(let x of p){if(c&&c.includes(x))continue;let T=ry({key:x,route:a,manifest:s,mapRouteProperties:l});T&&(y.push(T),x===i&&(v=T))}let _=y.length>0?Promise.all(y).then(()=>{}):void 0;return _?.catch(()=>{}),v?.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:v}}async function Wg(a){let i=a.matches.filter(c=>c.shouldLoad),s={};return(await Promise.all(i.map(c=>c.resolve()))).forEach((c,f)=>{s[i[f].route.id]=c}),s}async function db(a){return a.matches.some(i=>i.route.middleware)?sy(a,()=>Wg(a)):Wg(a)}function sy(a,i){return fb(a,i,l=>{if(Cb(l))throw l;return l},Sb,s);function s(l,c,f){if(f)return Promise.resolve(Object.assign(f.value,{[c]:{type:"error",result:l}}));{let{matches:p}=a,y=Math.min(Math.max(p.findIndex(_=>_.route.id===c),0),Math.max(p.findIndex(_=>_.shouldCallHandler()),0)),v=Er(p,p[y].route.id).route.id;return Promise.resolve({[v]:{type:"error",result:l}})}}}async function fb(a,i,s,l,c){let{matches:f,request:p,params:y,context:v,unstable_pattern:_}=a,x=f.flatMap(O=>O.route.middleware?O.route.middleware.map(A=>[O.route.id,A]):[]);return await oy({request:p,params:y,context:v,unstable_pattern:_},x,i,s,l,c)}async function oy(a,i,s,l,c,f,p=0){let{request:y}=a;if(y.signal.aborted)throw y.signal.reason??new Error(`Request aborted: ${y.method} ${y.url}`);let v=i[p];if(!v)return await s();let[_,x]=v,T,O=async()=>{if(T)throw new Error("You may only call `next()` once per middleware");try{return T={value:await oy(a,i,s,l,c,f,p+1)},T.value}catch(A){return T={value:await f(A,_,T)},T.value}};try{let A=await x(a,O),N=A!=null?l(A):void 0;return c(N)?N:T?N??T.value:(T={value:await O()},T.value)}catch(A){return await f(A,_,T)}}function ly(a,i,s,l,c){let f=ry({key:"middleware",route:l.route,manifest:i,mapRouteProperties:a}),p=hb(l.route,bn(s.method)?"action":"loader",i,a,c);return{middleware:f,route:p.lazyRoutePromise,handler:p.lazyHandlerPromise}}function nf(a,i,s,l,c,f,p,y,v=null,_){let x=!1,T=ly(a,i,s,c,f);return{...c,_lazyPromises:T,shouldLoad:y,shouldRevalidateArgs:v,shouldCallHandler(O){return x=!0,v?typeof _=="boolean"?zl(c,{...v,defaultShouldRevalidate:_}):typeof O=="boolean"?zl(c,{...v,defaultShouldRevalidate:O}):zl(c,v):y},resolve(O){let{lazy:A,loader:N,middleware:k}=c.route,V=x||y||O&&!bn(s.method)&&(A||N),Z=k&&k.length>0&&!N&&!A;return V&&(bn(s.method)||!Z)?pb({request:s,unstable_pattern:l,match:c,lazyHandlerPromise:T?.handler,lazyRoutePromise:T?.route,handlerOverride:O,scopedContext:p}):Promise.resolve({type:"data",result:void 0})}}}function xo(a,i,s,l,c,f,p,y=null){return l.map(v=>v.route.id!==c.route.id?{...v,shouldLoad:!1,shouldRevalidateArgs:y,shouldCallHandler:()=>!1,_lazyPromises:ly(a,i,s,v,f),resolve:()=>Promise.resolve({type:"data",result:void 0})}:nf(a,i,s,$l(l),v,f,p,!0,y))}async function mb(a,i,s,l,c,f){s.some(_=>_._lazyPromises?.middleware)&&await Promise.all(s.map(_=>_._lazyPromises?.middleware));let p={request:i,unstable_pattern:$l(s),params:s[0].params,context:c,matches:s},v=await a({...p,fetcherKey:l,runClientMiddleware:_=>{let x=p;return sy(x,()=>_({...x,fetcherKey:l,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(s.flatMap(_=>[_._lazyPromises?.handler,_._lazyPromises?.route]))}catch{}return v}async function pb({request:a,unstable_pattern:i,match:s,lazyHandlerPromise:l,lazyRoutePromise:c,handlerOverride:f,scopedContext:p}){let y,v,_=bn(a.method),x=_?"action":"loader",T=O=>{let A,N=new Promise((Z,B)=>A=B);v=()=>A(),a.signal.addEventListener("abort",v);let k=Z=>typeof O!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${x}" [routeId: ${s.route.id}]`)):O({request:a,unstable_pattern:i,params:s.params,context:p},...Z!==void 0?[Z]:[]),V=(async()=>{try{return{type:"data",result:await(f?f(B=>k(B)):k())}}catch(Z){return{type:"error",result:Z}}})();return Promise.race([V,N])};try{let O=_?s.route.action:s.route.loader;if(l||c)if(O){let A,[N]=await Promise.all([T(O).catch(k=>{A=k}),l,c]);if(A!==void 0)throw A;y=N}else{await l;let A=_?s.route.action:s.route.loader;if(A)[y]=await Promise.all([T(A),c]);else if(x==="action"){let N=new URL(a.url),k=N.pathname+N.search;throw yi(405,{method:a.method,pathname:k,routeId:s.route.id})}else return{type:"data",result:void 0}}else if(O)y=await T(O);else{let A=new URL(a.url),N=A.pathname+A.search;throw yi(404,{pathname:N})}}catch(O){return{type:"error",result:O}}finally{v&&a.signal.removeEventListener("abort",v)}return y}async function gb(a){let i=a.headers.get("Content-Type");return i&&/\bapplication\/json\b/.test(i)?a.body==null?null:a.json():a.text()}async function vb(a){let{result:i,type:s}=a;if(_f(i)){let l;try{l=await gb(i)}catch(c){return{type:"error",error:c}}return s==="error"?{type:"error",error:new Vl(i.status,i.statusText,l),statusCode:i.status,headers:i.headers}:{type:"data",data:l,statusCode:i.status,headers:i.headers}}return s==="error"?iv(i)?i.data instanceof Error?{type:"error",error:i.data,statusCode:i.init?.status,headers:i.init?.headers?new Headers(i.init.headers):void 0}:{type:"error",error:wb(i),statusCode:Ul(i)?i.status:void 0,headers:i.init?.headers?new Headers(i.init.headers):void 0}:{type:"error",error:i,statusCode:Ul(i)?i.status:void 0}:iv(i)?{type:"data",data:i.data,statusCode:i.init?.status,headers:i.init?.headers?new Headers(i.init.headers):void 0}:{type:"data",data:i}}function yb(a,i,s,l,c){let f=a.headers.get("Location");if(Fe(f,"Redirects returned/thrown from loaders/actions must have a Location header"),!Lc(f)){let p=l.slice(0,l.findIndex(y=>y.route.id===s)+1);f=ef(new URL(i.url),p,c,f),a.headers.set("Location",f)}return a}function Jg(a,i,s){if(Lc(a)){let l=a,c=l.startsWith("//")?new URL(i.protocol+l):new URL(l),f=_i(c.pathname,s)!=null;if(c.origin===i.origin&&f)return c.pathname+c.search+c.hash}return a}function vo(a,i,s,l){let c=a.createURL(uy(i)).toString(),f={signal:s};if(l&&bn(l.formMethod)){let{formMethod:p,formEncType:y}=l;f.method=p.toUpperCase(),y==="application/json"?(f.headers=new Headers({"Content-Type":y}),f.body=JSON.stringify(l.json)):y==="text/plain"?f.body=l.text:y==="application/x-www-form-urlencoded"&&l.formData?f.body=af(l.formData):f.body=l.formData}return new Request(c,f)}function af(a){let i=new URLSearchParams;for(let[s,l]of a.entries())i.append(s,typeof l=="string"?l:l.name);return i}function Qg(a){let i=new FormData;for(let[s,l]of a.entries())i.append(s,l);return i}function _b(a,i,s,l=!1,c=!1){let f={},p=null,y,v=!1,_={},x=s&&ei(s[1])?s[1].error:void 0;return a.forEach(T=>{if(!(T.route.id in i))return;let O=T.route.id,A=i[O];if(Fe(!ms(A),"Cannot handle redirect results in processLoaderData"),ei(A)){let N=A.error;if(x!==void 0&&(N=x,x=void 0),p=p||{},c)p[O]=N;else{let k=Er(a,O);p[k.route.id]==null&&(p[k.route.id]=N)}l||(f[O]=iy),v||(v=!0,y=Ul(A.error)?A.error.status:500),A.headers&&(_[O]=A.headers)}else f[O]=A.data,A.statusCode&&A.statusCode!==200&&!v&&(y=A.statusCode),A.headers&&(_[O]=A.headers)}),x!==void 0&&s&&(p={[s[0]]:x},s[2]&&(f[s[2]]=void 0)),{loaderData:f,errors:p,statusCode:y||200,loaderHeaders:_}}function ev(a,i,s,l,c,f){let{loaderData:p,errors:y}=_b(i,s,l);return c.filter(v=>!v.matches||v.matches.some(_=>_.shouldLoad)).forEach(v=>{let{key:_,match:x,controller:T}=v;if(T&&T.signal.aborted)return;let O=f[_];if(Fe(O,"Did not find corresponding fetcher result"),ei(O)){let A=Er(a.matches,x?.route.id);y&&y[A.route.id]||(y={...y,[A.route.id]:O.error}),a.fetchers.delete(_)}else if(ms(O))Fe(!1,"Unhandled fetcher revalidation redirect");else{let A=ja(O.data);a.fetchers.set(_,A)}}),{loaderData:p,errors:y}}function tv(a,i,s,l){let c=Object.entries(i).filter(([,f])=>f!==iy).reduce((f,[p,y])=>(f[p]=y,f),{});for(let f of s){let p=f.route.id;if(!i.hasOwnProperty(p)&&a.hasOwnProperty(p)&&f.route.loader&&(c[p]=a[p]),l&&l.hasOwnProperty(p))break}return c}function nv(a){return a?ei(a[1])?{actionData:{}}:{actionData:{[a[0]]:a[1].data}}:{}}function Er(a,i){return(i?a.slice(0,a.findIndex(l=>l.route.id===i)+1):[...a]).reverse().find(l=>l.route.hasErrorBoundary===!0)||a[0]}function fc(a){let i=a.length===1?a[0]:a.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:i}],route:i}}function yi(a,{pathname:i,routeId:s,method:l,type:c,message:f}={}){let p="Unknown Server Error",y="Unknown @remix-run/router error";return a===400?(p="Bad Request",l&&i&&s?y=`You made a ${l} request to "${i}" but did not provide a \`loader\` for route "${s}", so there is no way to handle the request.`:c==="invalid-body"&&(y="Unable to encode submission body")):a===403?(p="Forbidden",y=`Route "${s}" does not match URL "${i}"`):a===404?(p="Not Found",y=`No route matches URL "${i}"`):a===405&&(p="Method Not Allowed",l&&i&&s?y=`You made a ${l.toUpperCase()} request to "${i}" but did not provide an \`action\` for route "${s}", so there is no way to handle the request.`:l&&(y=`Invalid request method "${l.toUpperCase()}"`)),new Vl(a||500,p,new Error(y),!0)}function mc(a){let i=Object.entries(a);for(let s=i.length-1;s>=0;s--){let[l,c]=i[s];if(ms(c))return{key:l,result:c}}}function uy(a){let i=typeof a=="string"?Ar(a):a;return ra({...i,hash:""})}function bb(a,i){return a.pathname!==i.pathname||a.search!==i.search?!1:a.hash===""?i.hash!=="":a.hash===i.hash?!0:i.hash!==""}function wb(a){return new Vl(a.init?.status??500,a.init?.statusText??"Internal Server Error",a.data)}function Sb(a){return a!=null&&typeof a=="object"&&Object.entries(a).every(([i,s])=>typeof i=="string"&&xb(s))}function xb(a){return a!=null&&typeof a=="object"&&"type"in a&&"result"in a&&(a.type==="data"||a.type==="error")}function Eb(a){return _f(a.result)&&ty.has(a.result.status)}function ei(a){return a.type==="error"}function ms(a){return(a&&a.type)==="redirect"}function iv(a){return typeof a=="object"&&a!=null&&"type"in a&&"data"in a&&"init"in a&&a.type==="DataWithResponseInit"}function _f(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.headers=="object"&&typeof a.body<"u"}function Tb(a){return ty.has(a)}function Cb(a){return _f(a)&&Tb(a.status)&&a.headers.has("Location")}function Ob(a){return ib.has(a.toUpperCase())}function bn(a){return tb.has(a.toUpperCase())}function bf(a){return new URLSearchParams(a).getAll("index").some(i=>i==="")}function wc(a,i){let s=typeof i=="string"?Ar(i).search:i.search;if(a[a.length-1].route.index&&bf(s||""))return a[a.length-1];let l=Xv(a);return l[l.length-1]}function av(a){let{formMethod:i,formAction:s,formEncType:l,text:c,formData:f,json:p}=a;if(!(!i||!s||!l)){if(c!=null)return{formMethod:i,formAction:s,formEncType:l,formData:void 0,json:void 0,text:c};if(f!=null)return{formMethod:i,formAction:s,formEncType:l,formData:f,json:void 0,text:void 0};if(p!==void 0)return{formMethod:i,formAction:s,formEncType:l,formData:void 0,json:p,text:void 0}}}function qd(a,i){return i?{state:"loading",location:a,formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text}:{state:"loading",location:a,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ab(a,i){return{state:"submitting",location:a,formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text}}function Ol(a,i){return a?{state:"loading",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:i}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function Rb(a,i){return{state:"submitting",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:i?i.data:void 0}}function ja(a){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function Lb(a,i){try{let s=a.sessionStorage.getItem(ny);if(s){let l=JSON.parse(s);for(let[c,f]of Object.entries(l||{}))f&&Array.isArray(f)&&i.set(c,new Set(f||[]))}}catch{}}function kb(a,i){if(i.size>0){let s={};for(let[l,c]of i)s[l]=[...c];try{a.sessionStorage.setItem(ny,JSON.stringify(s))}catch(l){Zt(!1,`Failed to save applied view transitions in sessionStorage (${l}).`)}}}function rv(){let a,i,s=new Promise((l,c)=>{a=async f=>{l(f);try{await s}catch{}},i=async f=>{c(f);try{await s}catch{}}});return{promise:s,resolve:a,reject:i}}var gs=D.createContext(null);gs.displayName="DataRouter";var Kl=D.createContext(null);Kl.displayName="DataRouterState";var cy=D.createContext(!1);function jb(){return D.useContext(cy)}var wf=D.createContext({isTransitioning:!1});wf.displayName="ViewTransition";var hy=D.createContext(new Map);hy.displayName="Fetchers";var zb=D.createContext(null);zb.displayName="Await";var ii=D.createContext(null);ii.displayName="Navigation";var zc=D.createContext(null);zc.displayName="Location";var Di=D.createContext({outlet:null,matches:[],isDataRoute:!1});Di.displayName="Route";var Sf=D.createContext(null);Sf.displayName="RouteError";var dy="REACT_ROUTER_ERROR",Mb="REDIRECT",Db="ROUTE_ERROR_RESPONSE";function Nb(a){if(a.startsWith(`${dy}:${Mb}:{`))try{let i=JSON.parse(a.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function Pb(a){if(a.startsWith(`${dy}:${Db}:{`))try{let i=JSON.parse(a.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new Vl(i.status,i.statusText,i.data)}catch{}}function Ub(a,{relative:i}={}){Fe(To(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=D.useContext(ii),{hash:c,pathname:f,search:p}=Yl(a,{relative:i}),y=f;return s!=="/"&&(y=f==="/"?s:aa([s,f])),l.createHref({pathname:y,search:p,hash:c})}function To(){return D.useContext(zc)!=null}function Ma(){return Fe(To(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(zc).location}var fy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function my(a){D.useContext(ii).static||D.useLayoutEffect(a)}function vs(){let{isDataRoute:a}=D.useContext(Di);return a?Qb():Bb()}function Bb(){Fe(To(),"useNavigate() may be used only in the context of a <Router> component.");let a=D.useContext(gs),{basename:i,navigator:s}=D.useContext(ii),{matches:l}=D.useContext(Di),{pathname:c}=Ma(),f=JSON.stringify(kc(l)),p=D.useRef(!1);return my(()=>{p.current=!0}),D.useCallback((v,_={})=>{if(Zt(p.current,fy),!p.current)return;if(typeof v=="number"){s.go(v);return}let x=jc(v,JSON.parse(f),c,_.relative==="path");a==null&&i!=="/"&&(x.pathname=x.pathname==="/"?i:aa([i,x.pathname])),(_.replace?s.replace:s.push)(x,_.state,_)},[i,s,f,c,a])}var Hb=D.createContext(null);function Ib(a){let i=D.useContext(Di).outlet;return D.useMemo(()=>i&&D.createElement(Hb.Provider,{value:a},i),[i,a])}function Yl(a,{relative:i}={}){let{matches:s}=D.useContext(Di),{pathname:l}=Ma(),c=JSON.stringify(kc(s));return D.useMemo(()=>jc(a,JSON.parse(c),l,i==="path"),[a,c,l,i])}function qb(a,i,s,l,c){Fe(To(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=D.useContext(ii),{matches:p}=D.useContext(Di),y=p[p.length-1],v=y?y.params:{},_=y?y.pathname:"/",x=y?y.pathnameBase:"/",T=y&&y.route;{let B=T&&T.path||"";gy(_,!T||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let O=Ma(),A;A=O;let N=A.pathname||"/",k=N;if(x!=="/"){let B=x.replace(/^\//,"").split("/");k="/"+N.replace(/^\//,"").split("/").slice(B.length).join("/")}let V=xr(a,{pathname:k});return Zt(T||V!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Zt(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Kb(V&&V.map(B=>Object.assign({},B,{params:Object.assign({},v,B.params),pathname:aa([x,f.encodeLocation?f.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?x:aa([x,f.encodeLocation?f.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),p,s,l,c)}function Zb(){let a=Jb(),i=Ul(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},f={padding:"2px 4px",backgroundColor:l},p=null;return console.error("Error handled by React Router default ErrorBoundary:",a),p=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:f},"ErrorBoundary")," or"," ",D.createElement("code",{style:f},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},i),s?D.createElement("pre",{style:c},s):null,p)}var Gb=D.createElement(Zb,null),py=class extends D.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,i){return i.location!==a.location||i.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:i.error,location:i.location,revalidation:a.revalidation||i.revalidation}}componentDidCatch(a,i){this.props.onError?this.props.onError(a,i):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const s=Pb(a.digest);s&&(a=s)}let i=a!==void 0?D.createElement(Di.Provider,{value:this.props.routeContext},D.createElement(Sf.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?D.createElement(Vb,{error:a},i):i}};py.contextType=cy;var Zd=new WeakMap;function Vb({children:a,error:i}){let{basename:s}=D.useContext(ii);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let l=Nb(i.digest);if(l){let c=Zd.get(i);if(c)throw c;let f=Jv(l.location,s);if(Wv&&!Zd.get(i))if(f.isExternal||l.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:l.replace}));throw Zd.set(i,p),p}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return a}function $b({routeContext:a,match:i,children:s}){let l=D.useContext(gs);return l&&l.static&&l.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=i.route.id),D.createElement(Di.Provider,{value:a},s)}function Kb(a,i=[],s=null,l=null,c=null){if(a==null){if(!s)return null;if(s.errors)a=s.matches;else if(i.length===0&&!s.initialized&&s.matches.length>0)a=s.matches;else return null}let f=a,p=s?.errors;if(p!=null){let x=f.findIndex(T=>T.route.id&&p?.[T.route.id]!==void 0);Fe(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),f=f.slice(0,Math.min(f.length,x+1))}let y=!1,v=-1;if(s)for(let x=0;x<f.length;x++){let T=f[x];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(v=x),T.route.id){let{loaderData:O,errors:A}=s,N=T.route.loader&&!O.hasOwnProperty(T.route.id)&&(!A||A[T.route.id]===void 0);if(T.route.lazy||N){y=!0,v>=0?f=f.slice(0,v+1):f=[f[0]];break}}}let _=s&&l?(x,T)=>{l(x,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:$l(s.matches),errorInfo:T})}:void 0;return f.reduceRight((x,T,O)=>{let A,N=!1,k=null,V=null;s&&(A=p&&T.route.id?p[T.route.id]:void 0,k=T.route.errorElement||Gb,y&&(v<0&&O===0?(gy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,V=null):v===O&&(N=!0,V=T.route.hydrateFallbackElement||null)));let Z=i.concat(f.slice(0,O+1)),B=()=>{let G;return A?G=k:N?G=V:T.route.Component?G=D.createElement(T.route.Component,null):T.route.element?G=T.route.element:G=x,D.createElement($b,{match:T,routeContext:{outlet:x,matches:Z,isDataRoute:s!=null},children:G})};return s&&(T.route.ErrorBoundary||T.route.errorElement||O===0)?D.createElement(py,{location:s.location,revalidation:s.revalidation,component:k,error:A,children:B(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:_}):B()},null)}function xf(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yb(a){let i=D.useContext(gs);return Fe(i,xf(a)),i}function Fb(a){let i=D.useContext(Kl);return Fe(i,xf(a)),i}function Xb(a){let i=D.useContext(Di);return Fe(i,xf(a)),i}function Ef(a){let i=Xb(a),s=i.matches[i.matches.length-1];return Fe(s.route.id,`${a} can only be used on routes that contain a unique "id"`),s.route.id}function Wb(){return Ef("useRouteId")}function Jb(){let a=D.useContext(Sf),i=Fb("useRouteError"),s=Ef("useRouteError");return a!==void 0?a:i.errors?.[s]}function Qb(){let{router:a}=Yb("useNavigate"),i=Ef("useNavigate"),s=D.useRef(!1);return my(()=>{s.current=!0}),D.useCallback(async(c,f={})=>{Zt(s.current,fy),s.current&&(typeof c=="number"?await a.navigate(c):await a.navigate(c,{fromRouteId:i,...f}))},[a,i])}var sv={};function gy(a,i,s){!i&&!sv[a]&&(sv[a]=!0,Zt(!1,s))}var ov={};function lv(a,i){!a&&!ov[i]&&(ov[i]=!0,console.warn(i))}var ew="useOptimistic",uv=m0[ew],tw=()=>{};function nw(a){return uv?uv(a):[a,tw]}function iw(a){let i={hasErrorBoundary:a.hasErrorBoundary||a.ErrorBoundary!=null||a.errorElement!=null};return a.Component&&(a.element&&Zt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(i,{element:D.createElement(a.Component),Component:void 0})),a.HydrateFallback&&(a.hydrateFallbackElement&&Zt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(i,{hydrateFallbackElement:D.createElement(a.HydrateFallback),HydrateFallback:void 0})),a.ErrorBoundary&&(a.errorElement&&Zt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(i,{errorElement:D.createElement(a.ErrorBoundary),ErrorBoundary:void 0})),i}var aw=["HydrateFallback","hydrateFallbackElement"],rw=class{constructor(){this.status="pending",this.promise=new Promise((i,s)=>{this.resolve=l=>{this.status==="pending"&&(this.status="resolved",i(l))},this.reject=l=>{this.status==="pending"&&(this.status="rejected",s(l))}})}};function sw({router:a,flushSync:i,onError:s,unstable_useTransitions:l}){l=jb()||l;let[f,p]=D.useState(a.state),[y,v]=nw(f),[_,x]=D.useState(),[T,O]=D.useState({isTransitioning:!1}),[A,N]=D.useState(),[k,V]=D.useState(),[Z,B]=D.useState(),G=D.useRef(new Map),se=D.useCallback((ve,{deletedFetchers:Re,newErrors:st,flushSync:je,viewTransitionOpts:Ue})=>{st&&s&&Object.values(st).forEach(Ye=>s(Ye,{location:ve.location,params:ve.matches[0]?.params??{},unstable_pattern:$l(ve.matches)})),ve.fetchers.forEach((Ye,Ge)=>{Ye.data!==void 0&&G.current.set(Ge,Ye.data)}),Re.forEach(Ye=>G.current.delete(Ye)),lv(je===!1||i!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Gt=a.window!=null&&a.window.document!=null&&typeof a.window.document.startViewTransition=="function";if(lv(Ue==null||Gt,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Ue||!Gt){i&&je?i(()=>p(ve)):l===!1?p(ve):D.startTransition(()=>{l===!0&&v(Ye=>cv(Ye,ve)),p(ve)});return}if(i&&je){i(()=>{k&&(A?.resolve(),k.skipTransition()),O({isTransitioning:!0,flushSync:!0,currentLocation:Ue.currentLocation,nextLocation:Ue.nextLocation})});let Ye=a.window.document.startViewTransition(()=>{i(()=>p(ve))});Ye.finished.finally(()=>{i(()=>{N(void 0),V(void 0),x(void 0),O({isTransitioning:!1})})}),i(()=>V(Ye));return}k?(A?.resolve(),k.skipTransition(),B({state:ve,currentLocation:Ue.currentLocation,nextLocation:Ue.nextLocation})):(x(ve),O({isTransitioning:!0,flushSync:!1,currentLocation:Ue.currentLocation,nextLocation:Ue.nextLocation}))},[a.window,i,k,A,l,v,s]);D.useLayoutEffect(()=>a.subscribe(se),[a,se]),D.useEffect(()=>{T.isTransitioning&&!T.flushSync&&N(new rw)},[T]),D.useEffect(()=>{if(A&&_&&a.window){let ve=_,Re=A.promise,st=a.window.document.startViewTransition(async()=>{l===!1?p(ve):D.startTransition(()=>{l===!0&&v(je=>cv(je,ve)),p(ve)}),await Re});st.finished.finally(()=>{N(void 0),V(void 0),x(void 0),O({isTransitioning:!1})}),V(st)}},[_,A,a.window,l,v]),D.useEffect(()=>{A&&_&&y.location.key===_.location.key&&A.resolve()},[A,k,y.location,_]),D.useEffect(()=>{!T.isTransitioning&&Z&&(x(Z.state),O({isTransitioning:!0,flushSync:!1,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation}),B(void 0))},[T.isTransitioning,Z]);let be=D.useMemo(()=>({createHref:a.createHref,encodeLocation:a.encodeLocation,go:ve=>a.navigate(ve),push:(ve,Re,st)=>a.navigate(ve,{state:Re,preventScrollReset:st?.preventScrollReset}),replace:(ve,Re,st)=>a.navigate(ve,{replace:!0,state:Re,preventScrollReset:st?.preventScrollReset})}),[a]),ge=a.basename||"/",U=D.useMemo(()=>({router:a,navigator:be,static:!1,basename:ge,onError:s}),[a,be,ge,s]);return D.createElement(D.Fragment,null,D.createElement(gs.Provider,{value:U},D.createElement(Kl.Provider,{value:y},D.createElement(hy.Provider,{value:G.current},D.createElement(wf.Provider,{value:T},D.createElement(cw,{basename:ge,location:y.location,navigationType:y.historyAction,navigator:be,unstable_useTransitions:l},D.createElement(ow,{routes:a.routes,future:a.future,state:y,onError:s})))))),null)}function cv(a,i){return{...a,navigation:i.navigation.state!=="idle"?i.navigation:a.navigation,revalidation:i.revalidation!=="idle"?i.revalidation:a.revalidation,actionData:i.navigation.state!=="submitting"?i.actionData:a.actionData,fetchers:i.fetchers}}var ow=D.memo(lw);function lw({routes:a,future:i,state:s,onError:l}){return qb(a,void 0,s,l,i)}function Tc({to:a,replace:i,state:s,relative:l}){Fe(To(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=D.useContext(ii);Zt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=D.useContext(Di),{pathname:p}=Ma(),y=vs(),v=jc(a,kc(f),p,l==="path"),_=JSON.stringify(v);return D.useEffect(()=>{y(JSON.parse(_),{replace:i,state:s,relative:l})},[y,_,l,i,s]),null}function uw(a){return Ib(a.context)}function cw({basename:a="/",children:i=null,location:s,navigationType:l="POP",navigator:c,static:f=!1,unstable_useTransitions:p}){Fe(!To(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=a.replace(/^\/*/,"/"),v=D.useMemo(()=>({basename:y,navigator:c,static:f,unstable_useTransitions:p,future:{}}),[y,c,f,p]);typeof s=="string"&&(s=Ar(s));let{pathname:_="/",search:x="",hash:T="",state:O=null,key:A="default"}=s,N=D.useMemo(()=>{let k=_i(_,y);return k==null?null:{location:{pathname:k,search:x,hash:T,state:O,key:A},navigationType:l}},[y,_,x,T,O,A,l]);return Zt(N!=null,`<Router basename="${y}"> is not able to match the URL "${_}${x}${T}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:D.createElement(ii.Provider,{value:v},D.createElement(zc.Provider,{children:i,value:N}))}var Sc="get",xc="application/x-www-form-urlencoded";function Mc(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function hw(a){return Mc(a)&&a.tagName.toLowerCase()==="button"}function dw(a){return Mc(a)&&a.tagName.toLowerCase()==="form"}function fw(a){return Mc(a)&&a.tagName.toLowerCase()==="input"}function mw(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function pw(a,i){return a.button===0&&(!i||i==="_self")&&!mw(a)}var pc=null;function gw(){if(pc===null)try{new FormData(document.createElement("form"),0),pc=!1}catch{pc=!0}return pc}var vw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gd(a){return a!=null&&!vw.has(a)?(Zt(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):a}function yw(a,i){let s,l,c,f,p;if(dw(a)){let y=a.getAttribute("action");l=y?_i(y,i):null,s=a.getAttribute("method")||Sc,c=Gd(a.getAttribute("enctype"))||xc,f=new FormData(a)}else if(hw(a)||fw(a)&&(a.type==="submit"||a.type==="image")){let y=a.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=a.getAttribute("formaction")||y.getAttribute("action");if(l=v?_i(v,i):null,s=a.getAttribute("formmethod")||y.getAttribute("method")||Sc,c=Gd(a.getAttribute("formenctype"))||Gd(y.getAttribute("enctype"))||xc,f=new FormData(y,a),!gw()){let{name:_,type:x,value:T}=a;if(x==="image"){let O=_?`${_}.`:"";f.append(`${O}x`,"0"),f.append(`${O}y`,"0")}else _&&f.append(_,T)}}else{if(Mc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Sc,l=null,c=xc,p=a}return f&&c==="text/plain"&&(p=f,f=void 0),{action:l,method:s.toLowerCase(),encType:c,formData:f,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tf(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function _w(a,i,s){let l=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return l.pathname==="/"?l.pathname=`_root.${s}`:i&&_i(l.pathname,i)==="/"?l.pathname=`${i.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function bw(a,i){if(a.id in i)return i[a.id];try{let s=await import(a.module);return i[a.id]=s,s}catch(s){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ww(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function Sw(a,i,s){let l=await Promise.all(a.map(async c=>{let f=i.routes[c.route.id];if(f){let p=await bw(f,s);return p.links?p.links():[]}return[]}));return Cw(l.flat(1).filter(ww).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function hv(a,i,s,l,c,f){let p=(v,_)=>s[_]?v.route.id!==s[_].route.id:!0,y=(v,_)=>s[_].pathname!==v.pathname||s[_].route.path?.endsWith("*")&&s[_].params["*"]!==v.params["*"];return f==="assets"?i.filter((v,_)=>p(v,_)||y(v,_)):f==="data"?i.filter((v,_)=>{let x=l.routes[v.route.id];if(!x||!x.hasLoader)return!1;if(p(v,_)||y(v,_))return!0;if(v.route.shouldRevalidate){let T=v.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function xw(a,i,{includeHydrateFallback:s}={}){return Ew(a.map(l=>{let c=i.routes[l.route.id];if(!c)return[];let f=[c.module];return c.clientActionModule&&(f=f.concat(c.clientActionModule)),c.clientLoaderModule&&(f=f.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(f=f.concat(c.hydrateFallbackModule)),c.imports&&(f=f.concat(c.imports)),f}).flat(1))}function Ew(a){return[...new Set(a)]}function Tw(a){let i={},s=Object.keys(a).sort();for(let l of s)i[l]=a[l];return i}function Cw(a,i){let s=new Set;return new Set(i),a.reduce((l,c)=>{let f=JSON.stringify(Tw(c));return s.has(f)||(s.add(f),l.push({key:f,link:c})),l},[])}function vy(){let a=D.useContext(gs);return Tf(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function Ow(){let a=D.useContext(Kl);return Tf(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Cf=D.createContext(void 0);Cf.displayName="FrameworkContext";function yy(){let a=D.useContext(Cf);return Tf(a,"You must render this element inside a <HydratedRouter> element"),a}function Aw(a,i){let s=D.useContext(Cf),[l,c]=D.useState(!1),[f,p]=D.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:_,onMouseLeave:x,onTouchStart:T}=i,O=D.useRef(null);D.useEffect(()=>{if(a==="render"&&p(!0),a==="viewport"){let k=Z=>{Z.forEach(B=>{p(B.isIntersecting)})},V=new IntersectionObserver(k,{threshold:.5});return O.current&&V.observe(O.current),()=>{V.disconnect()}}},[a]),D.useEffect(()=>{if(l){let k=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(k)}}},[l]);let A=()=>{c(!0)},N=()=>{c(!1),p(!1)};return s?a!=="intent"?[f,O,{}]:[f,O,{onFocus:Al(y,A),onBlur:Al(v,N),onMouseEnter:Al(_,A),onMouseLeave:Al(x,N),onTouchStart:Al(T,A)}]:[!1,O,{}]}function Al(a,i){return s=>{a&&a(s),s.defaultPrevented||i(s)}}function Rw({page:a,...i}){let{router:s}=vy(),l=D.useMemo(()=>xr(s.routes,a,s.basename),[s.routes,a,s.basename]);return l?D.createElement(kw,{page:a,matches:l,...i}):null}function Lw(a){let{manifest:i,routeModules:s}=yy(),[l,c]=D.useState([]);return D.useEffect(()=>{let f=!1;return Sw(a,i,s).then(p=>{f||c(p)}),()=>{f=!0}},[a,i,s]),l}function kw({page:a,matches:i,...s}){let l=Ma(),{manifest:c,routeModules:f}=yy(),{basename:p}=vy(),{loaderData:y,matches:v}=Ow(),_=D.useMemo(()=>hv(a,i,v,c,l,"data"),[a,i,v,c,l]),x=D.useMemo(()=>hv(a,i,v,c,l,"assets"),[a,i,v,c,l]),T=D.useMemo(()=>{if(a===l.pathname+l.search+l.hash)return[];let N=new Set,k=!1;if(i.forEach(Z=>{let B=c.routes[Z.route.id];!B||!B.hasLoader||(!_.some(G=>G.route.id===Z.route.id)&&Z.route.id in y&&f[Z.route.id]?.shouldRevalidate||B.hasClientLoader?k=!0:N.add(Z.route.id))}),N.size===0)return[];let V=_w(a,p,"data");return k&&N.size>0&&V.searchParams.set("_routes",i.filter(Z=>N.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[V.pathname+V.search]},[p,y,l,c,_,i,a,f]),O=D.useMemo(()=>xw(x,c),[x,c]),A=Lw(x);return D.createElement(D.Fragment,null,T.map(N=>D.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...s})),O.map(N=>D.createElement("link",{key:N,rel:"modulepreload",href:N,...s})),A.map(({key:N,link:k})=>D.createElement("link",{key:N,nonce:s.nonce,...k})))}function jw(...a){return i=>{a.forEach(s=>{typeof s=="function"?s(i):s!=null&&(s.current=i)})}}var zw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zw&&(window.__reactRouterVersion="7.11.0")}catch{}function Mw(a,i){return ob({basename:i?.basename,getContext:i?.getContext,future:i?.future,history:x0({window:i?.window}),hydrationData:i?.hydrationData||Dw(),routes:a,mapRouteProperties:iw,hydrationRouteProperties:aw,dataStrategy:i?.dataStrategy,patchRoutesOnNavigation:i?.patchRoutesOnNavigation,window:i?.window,unstable_instrumentations:i?.unstable_instrumentations}).initialize()}function Dw(){let a=window?.__staticRouterHydrationData;return a&&a.errors&&(a={...a,errors:Nw(a.errors)}),a}function Nw(a){if(!a)return null;let i=Object.entries(a),s={};for(let[l,c]of i)if(c&&c.__type==="RouteErrorResponse")s[l]=new Vl(c.status,c.statusText,c.data,c.internal===!0);else if(c&&c.__type==="Error"){if(c.__subType){let f=window[c.__subType];if(typeof f=="function")try{let p=new f(c.message);p.stack="",s[l]=p}catch{}}if(s[l]==null){let f=new Error(c.message);f.stack="",s[l]=f}}else s[l]=c;return s}var _y=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bn=D.forwardRef(function({onClick:i,discover:s="render",prefetch:l="none",relative:c,reloadDocument:f,replace:p,state:y,target:v,to:_,preventScrollReset:x,viewTransition:T,unstable_defaultShouldRevalidate:O,...A},N){let{basename:k,unstable_useTransitions:V}=D.useContext(ii),Z=typeof _=="string"&&_y.test(_),B=Jv(_,k);_=B.to;let G=Ub(_,{relative:c}),[se,be,ge]=Aw(l,A),U=Hw(_,{replace:p,state:y,target:v,preventScrollReset:x,relative:c,viewTransition:T,unstable_defaultShouldRevalidate:O,unstable_useTransitions:V});function ve(st){i&&i(st),st.defaultPrevented||U(st)}let Re=D.createElement("a",{...A,...ge,href:B.absoluteURL||G,onClick:B.isExternal||f?i:ve,ref:jw(N,be),target:v,"data-discover":!Z&&s==="render"?"true":void 0});return se&&!Z?D.createElement(D.Fragment,null,Re,D.createElement(Rw,{page:G})):Re});Bn.displayName="Link";var Pw=D.forwardRef(function({"aria-current":i="page",caseSensitive:s=!1,className:l="",end:c=!1,style:f,to:p,viewTransition:y,children:v,..._},x){let T=Yl(p,{relative:_.relative}),O=Ma(),A=D.useContext(Kl),{navigator:N,basename:k}=D.useContext(ii),V=A!=null&&Vw(T)&&y===!0,Z=N.encodeLocation?N.encodeLocation(T).pathname:T.pathname,B=O.pathname,G=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;s||(B=B.toLowerCase(),G=G?G.toLowerCase():null,Z=Z.toLowerCase()),G&&k&&(G=_i(G,k)||G);const se=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let be=B===Z||!c&&B.startsWith(Z)&&B.charAt(se)==="/",ge=G!=null&&(G===Z||!c&&G.startsWith(Z)&&G.charAt(Z.length)==="/"),U={isActive:be,isPending:ge,isTransitioning:V},ve=be?i:void 0,Re;typeof l=="function"?Re=l(U):Re=[l,be?"active":null,ge?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let st=typeof f=="function"?f(U):f;return D.createElement(Bn,{..._,"aria-current":ve,className:Re,ref:x,style:st,to:p,viewTransition:y},typeof v=="function"?v(U):v)});Pw.displayName="NavLink";var Uw=D.forwardRef(({discover:a="render",fetcherKey:i,navigate:s,reloadDocument:l,replace:c,state:f,method:p=Sc,action:y,onSubmit:v,relative:_,preventScrollReset:x,viewTransition:T,unstable_defaultShouldRevalidate:O,...A},N)=>{let{unstable_useTransitions:k}=D.useContext(ii),V=Zw(),Z=Gw(y,{relative:_}),B=p.toLowerCase()==="get"?"get":"post",G=typeof y=="string"&&_y.test(y),se=be=>{if(v&&v(be),be.defaultPrevented)return;be.preventDefault();let ge=be.nativeEvent.submitter,U=ge?.getAttribute("formmethod")||p,ve=()=>V(ge||be.currentTarget,{fetcherKey:i,method:U,navigate:s,replace:c,state:f,relative:_,preventScrollReset:x,viewTransition:T,unstable_defaultShouldRevalidate:O});k&&s!==!1?D.startTransition(()=>ve()):ve()};return D.createElement("form",{ref:N,method:B,action:Z,onSubmit:l?v:se,...A,"data-discover":!G&&a==="render"?"true":void 0})});Uw.displayName="Form";function Bw(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function by(a){let i=D.useContext(gs);return Fe(i,Bw(a)),i}function Hw(a,{target:i,replace:s,state:l,preventScrollReset:c,relative:f,viewTransition:p,unstable_defaultShouldRevalidate:y,unstable_useTransitions:v}={}){let _=vs(),x=Ma(),T=Yl(a,{relative:f});return D.useCallback(O=>{if(pw(O,i)){O.preventDefault();let A=s!==void 0?s:ra(x)===ra(T),N=()=>_(a,{replace:A,state:l,preventScrollReset:c,relative:f,viewTransition:p,unstable_defaultShouldRevalidate:y});v?D.startTransition(()=>N()):N()}},[x,_,T,s,l,i,a,c,f,p,y,v])}var Iw=0,qw=()=>`__${String(++Iw)}__`;function Zw(){let{router:a}=by("useSubmit"),{basename:i}=D.useContext(ii),s=Wb(),l=a.fetch,c=a.navigate;return D.useCallback(async(f,p={})=>{let{action:y,method:v,encType:_,formData:x,body:T}=yw(f,i);if(p.navigate===!1){let O=p.fetcherKey||qw();await l(O,s,p.action||y,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:x,body:T,formMethod:p.method||v,formEncType:p.encType||_,flushSync:p.flushSync})}else await c(p.action||y,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:x,body:T,formMethod:p.method||v,formEncType:p.encType||_,replace:p.replace,state:p.state,fromRouteId:s,flushSync:p.flushSync,viewTransition:p.viewTransition})},[l,c,i,s])}function Gw(a,{relative:i}={}){let{basename:s}=D.useContext(ii),l=D.useContext(Di);Fe(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),f={...Yl(a||".",{relative:i})},p=Ma();if(a==null){f.search=p.search;let y=new URLSearchParams(f.search),v=y.getAll("index");if(v.some(x=>x==="")){y.delete("index"),v.filter(T=>T).forEach(T=>y.append("index",T));let x=y.toString();f.search=x?`?${x}`:""}}return(!a||a===".")&&c.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(f.pathname=f.pathname==="/"?s:aa([s,f.pathname])),ra(f)}function Vw(a,{relative:i}={}){let s=D.useContext(wf);Fe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=by("useViewTransitionState"),c=Yl(a,{relative:i});if(!s.isTransitioning)return!1;let f=_i(s.currentLocation.pathname,l)||s.currentLocation.pathname,p=_i(s.nextLocation.pathname,l)||s.nextLocation.pathname;return Ec(c.pathname,p)!=null||Ec(c.pathname,f)!=null}var wy=Gv();function $w(a){return D.createElement(sw,{flushSync:wy.flushSync,...a})}function Kw(){return S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:900,fontSize:"1.5rem",color:"var(--primary)"},children:[S.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"var(--primary)",color:"black",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px"},children:"OP"}),S.jsx("span",{style:{color:"var(--text-main)"},children:"OutPost"})]})}const Yw=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fw=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,s,l)=>l?l.toUpperCase():s.toLowerCase()),dv=a=>{const i=Fw(a);return i.charAt(0).toUpperCase()+i.slice(1)},Sy=(...a)=>a.filter((i,s,l)=>!!i&&i.trim()!==""&&l.indexOf(i)===s).join(" ").trim(),Xw=a=>{for(const i in a)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};var Ww={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Jw=D.forwardRef(({color:a="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:f,iconNode:p,...y},v)=>D.createElement("svg",{ref:v,...Ww,width:i,height:i,stroke:a,strokeWidth:l?Number(s)*24/Number(i):s,className:Sy("lucide",c),...!f&&!Xw(y)&&{"aria-hidden":"true"},...y},[...p.map(([_,x])=>D.createElement(_,x)),...Array.isArray(f)?f:[f]]));const tn=(a,i)=>{const s=D.forwardRef(({className:l,...c},f)=>D.createElement(Jw,{ref:f,iconNode:i,className:Sy(`lucide-${Yw(dv(a))}`,`lucide-${a}`,l),...c}));return s.displayName=dv(a),s};const Qw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xy=tn("arrow-left",Qw);const eS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tS=tn("arrow-right",eS);const nS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],iS=tn("chevron-down",nS);const aS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],rS=tn("chevron-up",aS);const sS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oS=tn("circle-check-big",sS);const lS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uS=tn("clock",lS);const cS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hS=tn("eye",cS);const dS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fv=tn("lock",dS);const fS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],mS=tn("moon",fS);const pS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Cc=tn("package",pS);const gS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vS=tn("save",gS);const yS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_S=tn("search",yS);const bS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mv=tn("send",bS);const wS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],SS=tn("settings",wS);const xS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ES=tn("sun",xS);const TS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],CS=tn("trending-up",TS);const OS=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],AS=tn("trophy",OS);const RS=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ey=tn("truck",RS);const LS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pv=tn("user",LS);function kS(){const[a,i]=D.useState("light");D.useEffect(()=>{document.body.classList.remove("light","dark","contrast"),document.body.classList.add(a)},[a]);const s=l=>({backgroundColor:a===l?"var(--primary)":"var(--bg-secondary)",color:a===l?"#000":"var(--text-main)",borderColor:a===l?"var(--primary)":"transparent"});return S.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[S.jsx("button",{onClick:()=>i("light"),title:"Light Mode",style:s("light"),children:S.jsx(ES,{size:18})}),S.jsx("button",{onClick:()=>i("dark"),title:"Dark Mode (System)",style:s("dark"),children:S.jsx(mS,{size:18})}),S.jsx("button",{onClick:()=>i("contrast"),title:"High Contrast",style:s("contrast"),children:S.jsx(hS,{size:18})})]})}const gv=a=>{let i;const s=new Set,l=(_,x)=>{const T=typeof _=="function"?_(i):_;if(!Object.is(T,i)){const O=i;i=x??(typeof T!="object"||T===null)?T:Object.assign({},i,T),s.forEach(A=>A(i,O))}},c=()=>i,y={setState:l,getState:c,getInitialState:()=>v,subscribe:_=>(s.add(_),()=>s.delete(_))},v=i=a(l,c,y);return y},jS=(a=>a?gv(a):gv),zS=a=>a;function MS(a,i=zS){const s=Cr.useSyncExternalStore(a.subscribe,Cr.useCallback(()=>i(a.getState()),[a,i]),Cr.useCallback(()=>i(a.getInitialState()),[a,i]));return Cr.useDebugValue(s),s}const DS=a=>{const i=jS(a),s=l=>MS(i,l);return Object.assign(s,i),s},NS=(a=>DS);function PS(a,i){let s;try{s=a()}catch{return}return{getItem:c=>{var f;const p=v=>v===null?null:JSON.parse(v,void 0),y=(f=s.getItem(c))!=null?f:null;return y instanceof Promise?y.then(p):p(y)},setItem:(c,f)=>s.setItem(c,JSON.stringify(f,void 0)),removeItem:c=>s.removeItem(c)}}const rf=a=>i=>{try{const s=a(i);return s instanceof Promise?s:{then(l){return rf(l)(s)},catch(l){return this}}}catch(s){return{then(l){return this},catch(l){return rf(l)(s)}}}},US=(a,i)=>(s,l,c)=>{let f={storage:PS(()=>localStorage),partialize:k=>k,version:0,merge:(k,V)=>({...V,...k}),...i},p=!1;const y=new Set,v=new Set;let _=f.storage;if(!_)return a((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),s(...k)},l,c);const x=()=>{const k=f.partialize({...l()});return _.setItem(f.name,{state:k,version:f.version})},T=c.setState;c.setState=(k,V)=>(T(k,V),x());const O=a((...k)=>(s(...k),x()),l,c);c.getInitialState=()=>O;let A;const N=()=>{var k,V;if(!_)return;p=!1,y.forEach(B=>{var G;return B((G=l())!=null?G:O)});const Z=((V=f.onRehydrateStorage)==null?void 0:V.call(f,(k=l())!=null?k:O))||void 0;return rf(_.getItem.bind(_))(f.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==f.version){if(f.migrate){const G=f.migrate(B.state,B.version);return G instanceof Promise?G.then(se=>[!0,se]):[!0,G]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var G;const[se,be]=B;if(A=f.merge(be,(G=l())!=null?G:O),s(A,!0),se)return x()}).then(()=>{Z?.(A,void 0),A=l(),p=!0,v.forEach(B=>B(A))}).catch(B=>{Z?.(void 0,B)})};return c.persist={setOptions:k=>{f={...f,...k},k.storage&&(_=k.storage)},clearStorage:()=>{_?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>N(),hasHydrated:()=>p,onHydrate:k=>(y.add(k),()=>{y.delete(k)}),onFinishHydration:k=>(v.add(k),()=>{v.delete(k)})},f.skipHydration||N(),A||O},BS=US;function Dc(a,i){var s={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&i.indexOf(l)<0&&(s[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(a);c<l.length;c++)i.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(a,l[c])&&(s[l[c]]=a[l[c]]);return s}function HS(a,i,s,l){function c(f){return f instanceof s?f:new s(function(p){p(f)})}return new(s||(s=Promise))(function(f,p){function y(x){try{_(l.next(x))}catch(T){p(T)}}function v(x){try{_(l.throw(x))}catch(T){p(T)}}function _(x){x.done?f(x.value):c(x.value).then(y,v)}_((l=l.apply(a,i||[])).next())})}const IS=a=>a?(...i)=>a(...i):(...i)=>fetch(...i);class Of extends Error{constructor(i,s="FunctionsError",l){super(i),this.name=s,this.context=l}}class qS extends Of{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class vv extends Of{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class yv extends Of{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var sf;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(sf||(sf={}));class ZS{constructor(i,{headers:s={},customFetch:l,region:c=sf.Any}={}){this.url=i,this.headers=s,this.region=c,this.fetch=IS(l)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i){return HS(this,arguments,void 0,function*(s,l={}){var c;let f,p;try{const{headers:y,method:v,body:_,signal:x,timeout:T}=l;let O={},{region:A}=l;A||(A=this.region);const N=new URL(`${this.url}/${s}`);A&&A!=="any"&&(O["x-region"]=A,N.searchParams.set("forceFunctionRegion",A));let k;_&&(y&&!Object.prototype.hasOwnProperty.call(y,"Content-Type")||!y)?typeof Blob<"u"&&_ instanceof Blob||_ instanceof ArrayBuffer?(O["Content-Type"]="application/octet-stream",k=_):typeof _=="string"?(O["Content-Type"]="text/plain",k=_):typeof FormData<"u"&&_ instanceof FormData?k=_:(O["Content-Type"]="application/json",k=JSON.stringify(_)):k=_;let V=x;T&&(p=new AbortController,f=setTimeout(()=>p.abort(),T),x?(V=p.signal,x.addEventListener("abort",()=>p.abort())):V=p.signal);const Z=yield this.fetch(N.toString(),{method:v||"POST",headers:Object.assign(Object.assign(Object.assign({},O),this.headers),y),body:k,signal:V}).catch(be=>{throw new qS(be)}),B=Z.headers.get("x-relay-error");if(B&&B==="true")throw new vv(Z);if(!Z.ok)throw new yv(Z);let G=((c=Z.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),se;return G==="application/json"?se=yield Z.json():G==="application/octet-stream"||G==="application/pdf"?se=yield Z.blob():G==="text/event-stream"?se=Z:G==="multipart/form-data"?se=yield Z.formData():se=yield Z.text(),{data:se,error:null,response:Z}}catch(y){return{data:null,error:y,response:y instanceof yv||y instanceof vv?y.context:void 0}}finally{f&&clearTimeout(f)}})}}var GS=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},VS=class{constructor(a){var i,s;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(s=a.isMaybeSingle)!==null&&s!==void 0?s:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{let p=null,y=null,v=null,_=f.status,x=f.statusText;if(f.ok){var T,O;if(s.method!=="HEAD"){var A;const Z=await f.text();Z===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((A=s.headers.get("Accept"))===null||A===void 0)&&A.includes("application/vnd.pgrst.plan+text"))?y=Z:y=JSON.parse(Z))}const k=(T=s.headers.get("Prefer"))===null||T===void 0?void 0:T.match(/count=(exact|planned|estimated)/),V=(O=f.headers.get("content-range"))===null||O===void 0?void 0:O.split("/");k&&V&&V.length>1&&(v=parseInt(V[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,v=null,_=406,x="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{var N;const k=await f.text();try{p=JSON.parse(k),Array.isArray(p)&&f.status===404&&(y=[],p=null,_=200,x="OK")}catch{f.status===404&&k===""?(_=204,x="No Content"):p={message:k}}if(p&&s.isMaybeSingle&&(!(p==null||(N=p.details)===null||N===void 0)&&N.includes("0 rows"))&&(p=null,_=200,x="OK"),p&&s.shouldThrowOnError)throw new GS(p)}return{error:p,data:y,count:v,status:_,statusText:x}});return this.shouldThrowOnError||(c=c.catch(f=>{var p;let y="";const v=f?.cause;if(v){var _,x,T,O;const N=(_=v?.message)!==null&&_!==void 0?_:"",k=(x=v?.code)!==null&&x!==void 0?x:"";y=`${(T=f?.name)!==null&&T!==void 0?T:"FetchError"}: ${f?.message}`,y+=`

Caused by: ${(O=v?.name)!==null&&O!==void 0?O:"Error"}: ${N}`,k&&(y+=` (${k})`),v?.stack&&(y+=`
${v.stack}`)}else{var A;y=(A=f?.stack)!==null&&A!==void 0?A:""}return{error:{message:`${(p=f?.name)!==null&&p!==void 0?p:"FetchError"}: ${f?.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(a,i)}returns(){return this}overrideTypes(){return this}},$S=class extends VS{select(a){let i=!1;const s=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:l,referencedTable:c=l}={}){const f=c?`${c}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:l=s}={}){const c=typeof l>"u"?"offset":`${l}.offset`,f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(f,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:l=!1,wal:c=!1,format:f="text"}={}){var p;const y=[a?"analyze":null,i?"verbose":null,s?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${y};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};const _v=new RegExp("[,()]");var yo=class extends $S{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}regexMatch(a,i){return this.url.searchParams.append(a,`match.${i}`),this}regexIMatch(a,i){return this.url.searchParams.append(a,`imatch.${i}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}isDistinct(a,i){return this.url.searchParams.append(a,`isdistinct.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(l=>typeof l=="string"&&_v.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}notIn(a,i){const s=Array.from(new Set(i)).map(l=>typeof l=="string"&&_v.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`not.in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const f=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${c}fts${f}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}},KS=class{constructor(a,{headers:i={},schema:s,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=s,this.fetch=l}select(a,i){const{head:s=!1,count:l}=i??{},c=s?"HEAD":"GET";let f=!1;const p=(a??"*").split("").map(y=>/\s/.test(y)&&!f?"":(y==='"'&&(f=!f),y)).join("");return this.url.searchParams.set("select",p),l&&this.headers.append("Prefer",`count=${l}`),new yo({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:s=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(f.length>0){const p=[...new Set(f)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new yo({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:l,defaultToNull:c=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const y=a.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(y.length>0){const v=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new yo({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:i}={}){var s;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new yo({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:a}={}){var i;const s="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new yo({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}},YS=class Ty{constructor(i,{headers:s={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(s),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new KS(new URL(`${this.url}/${i}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new Ty(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:l=!1,get:c=!1,count:f}={}){var p;let y;const v=new URL(`${this.url}/rpc/${i}`);let _;l||c?(y=l?"HEAD":"GET",Object.entries(s).filter(([T,O])=>O!==void 0).map(([T,O])=>[T,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([T,O])=>{v.searchParams.append(T,O)})):(y="POST",_=s);const x=new Headers(this.headers);return f&&x.set("Prefer",`count=${f}`),new yo({method:y,url:v,headers:x,schema:this.schemaName,body:_,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}};class FS{constructor(){}static detectEnvironment(){var i;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((i=navigator.userAgent)===null||i===void 0)&&i.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const l=s.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const i=this.detectEnvironment();if(i.constructor)return i.constructor;let s=i.error||"WebSocket not supported in this environment.";throw i.workaround&&(s+=`

Suggested solution: ${i.workaround}`),new Error(s)}static createWebSocket(i,s){const l=this.getWebSocketConstructor();return new l(i,s)}static isWebSocketSupported(){try{const i=this.detectEnvironment();return i.type==="native"||i.type==="ws"}catch{return!1}}}const XS="2.89.0",WS=`realtime-js/${XS}`,Cy="1.0.0",JS="2.0.0",bv=Cy,of=1e4,QS=1e3,ex=100;var Sr;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Sr||(Sr={}));var en;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(en||(en={}));var Mi;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Mi||(Mi={}));var lf;(function(a){a.websocket="websocket"})(lf||(lf={}));var ds;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(ds||(ds={}));class tx{constructor(i){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=i??[]}encode(i,s){if(i.event===this.BROADCAST_EVENT&&!(i.payload instanceof ArrayBuffer)&&typeof i.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(i));let l=[i.join_ref,i.ref,i.topic,i.event,i.payload];return s(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(i){var s;return this._isArrayBuffer((s=i.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(i):this._encodeJsonUserBroadcastPush(i)}_encodeBinaryUserBroadcastPush(i){var s,l;const c=(l=(s=i.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(i,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(i){var s,l;const c=(l=(s=i.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:{},p=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(i,this.JSON_ENCODING,p)}_encodeUserBroadcastPush(i,s,l){var c,f;const p=i.topic,y=(c=i.ref)!==null&&c!==void 0?c:"",v=(f=i.join_ref)!==null&&f!==void 0?f:"",_=i.payload.event,x=this.allowedMetadataKeys?this._pick(i.payload,this.allowedMetadataKeys):{},T=Object.keys(x).length===0?"":JSON.stringify(x);if(v.length>255)throw new Error(`joinRef length ${v.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`ref length ${y.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`topic length ${p.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`userEvent length ${_.length} exceeds maximum of 255`);if(T.length>255)throw new Error(`metadata length ${T.length} exceeds maximum of 255`);const O=this.USER_BROADCAST_PUSH_META_LENGTH+v.length+y.length+p.length+_.length+T.length,A=new ArrayBuffer(this.HEADER_LENGTH+O);let N=new DataView(A),k=0;N.setUint8(k++,this.KINDS.userBroadcastPush),N.setUint8(k++,v.length),N.setUint8(k++,y.length),N.setUint8(k++,p.length),N.setUint8(k++,_.length),N.setUint8(k++,T.length),N.setUint8(k++,s),Array.from(v,Z=>N.setUint8(k++,Z.charCodeAt(0))),Array.from(y,Z=>N.setUint8(k++,Z.charCodeAt(0))),Array.from(p,Z=>N.setUint8(k++,Z.charCodeAt(0))),Array.from(_,Z=>N.setUint8(k++,Z.charCodeAt(0))),Array.from(T,Z=>N.setUint8(k++,Z.charCodeAt(0)));var V=new Uint8Array(A.byteLength+l.byteLength);return V.set(new Uint8Array(A),0),V.set(new Uint8Array(l),A.byteLength),V.buffer}decode(i,s){if(this._isArrayBuffer(i)){let l=this._binaryDecode(i);return s(l)}if(typeof i=="string"){const l=JSON.parse(i),[c,f,p,y,v]=l;return s({join_ref:c,ref:f,topic:p,event:y,payload:v})}return s({})}_binaryDecode(i){const s=new DataView(i),l=s.getUint8(0),c=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(i,s,c)}_decodeUserBroadcast(i,s,l){const c=s.getUint8(1),f=s.getUint8(2),p=s.getUint8(3),y=s.getUint8(4);let v=this.HEADER_LENGTH+4;const _=l.decode(i.slice(v,v+c));v=v+c;const x=l.decode(i.slice(v,v+f));v=v+f;const T=l.decode(i.slice(v,v+p));v=v+p;const O=i.slice(v,i.byteLength),A=y===this.JSON_ENCODING?JSON.parse(l.decode(O)):O,N={type:this.BROADCAST_EVENT,event:x,payload:A};return p>0&&(N.meta=JSON.parse(T)),{join_ref:null,ref:null,topic:_,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(i){var s;return i instanceof ArrayBuffer||((s=i?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(i,s){return!i||typeof i!="object"?{}:Object.fromEntries(Object.entries(i).filter(([l])=>s.includes(l)))}}class Oy{constructor(i,s){this.callback=i,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Tt||(Tt={}));const wv=(a,i,s={})=>{var l;const c=(l=s.skipTypes)!==null&&l!==void 0?l:[];return i?Object.keys(i).reduce((f,p)=>(f[p]=nx(p,a,i,c),f),{}):{}},nx=(a,i,s,l)=>{const c=i.find(y=>y.name===a),f=c?.type,p=s[a];return f&&!l.includes(f)?Ay(f,p):uf(p)},Ay=(a,i)=>{if(a.charAt(0)==="_"){const s=a.slice(1,a.length);return sx(i,s)}switch(a){case Tt.bool:return ix(i);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return ax(i);case Tt.json:case Tt.jsonb:return rx(i);case Tt.timestamp:return ox(i);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return uf(i);default:return uf(i)}},uf=a=>a,ix=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},ax=a=>{if(typeof a=="string"){const i=parseFloat(a);if(!Number.isNaN(i))return i}return a},rx=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a}return a},sx=(a,i)=>{if(typeof a!="string")return a;const s=a.length-1,l=a[s];if(a[0]==="{"&&l==="}"){let f;const p=a.slice(1,s);try{f=JSON.parse("["+p+"]")}catch{f=p?p.split(","):[]}return f.map(y=>Ay(i,y))}return a},ox=a=>typeof a=="string"?a.replace(" ","T"):a,Ry=a=>{const i=new URL(a);return i.protocol=i.protocol.replace(/^ws/i,"http"),i.pathname=i.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),i.pathname===""||i.pathname==="/"?i.pathname="/api/broadcast":i.pathname=i.pathname+"/api/broadcast",i.href};class Vd{constructor(i,s,l={},c=of){this.channel=i,this.event=s,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,s){var l;return this._hasReceived(i)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:i,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:s}){this.recHooks.filter(l=>l.status===i).forEach(l=>l.callback(s))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var Sv;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Sv||(Sv={}));class Ml{constructor(i,s){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:f,onLeave:p,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ml.syncState(this.state,c,f,p),this.pendingDiffs.forEach(v=>{this.state=Ml.syncDiff(this.state,v,f,p)}),this.pendingDiffs=[],y()}),this.channel._on(l.diff,{},c=>{const{onJoin:f,onLeave:p,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ml.syncDiff(this.state,c,f,p),y())}),this.onJoin((c,f,p)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:f,newPresences:p})}),this.onLeave((c,f,p)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:f,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,s,l,c){const f=this.cloneDeep(i),p=this.transformState(s),y={},v={};return this.map(f,(_,x)=>{p[_]||(v[_]=x)}),this.map(p,(_,x)=>{const T=f[_];if(T){const O=x.map(V=>V.presence_ref),A=T.map(V=>V.presence_ref),N=x.filter(V=>A.indexOf(V.presence_ref)<0),k=T.filter(V=>O.indexOf(V.presence_ref)<0);N.length>0&&(y[_]=N),k.length>0&&(v[_]=k)}else y[_]=x}),this.syncDiff(f,{joins:y,leaves:v},l,c)}static syncDiff(i,s,l,c){const{joins:f,leaves:p}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(f,(y,v)=>{var _;const x=(_=i[y])!==null&&_!==void 0?_:[];if(i[y]=this.cloneDeep(v),x.length>0){const T=i[y].map(A=>A.presence_ref),O=x.filter(A=>T.indexOf(A.presence_ref)<0);i[y].unshift(...O)}l(y,x,v)}),this.map(p,(y,v)=>{let _=i[y];if(!_)return;const x=v.map(T=>T.presence_ref);_=_.filter(T=>x.indexOf(T.presence_ref)<0),i[y]=_,c(y,_,v),_.length===0&&delete i[y]}),i}static map(i,s){return Object.getOwnPropertyNames(i).map(l=>s(l,i[l]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((s,l)=>{const c=i[l];return"metas"in c?s[l]=c.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):s[l]=c,s},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xv;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(xv||(xv={}));var Dl;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Dl||(Dl={}));var za;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(za||(za={}));class So{constructor(i,s={config:{}},l){var c,f;if(this.topic=i,this.params=s,this.socket=l,this.bindings={},this.state=en.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Vd(this,Mi.join,this.params,this.timeout),this.rejoinTimer=new Oy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=en.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(p=>p.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=en.closed,this.socket._remove(this)}),this._onError(p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mi.reply,{},(p,y)=>{this._trigger(this._replyEventName(y),p)}),this.presence=new Ml(this),this.broadcastEndpointURL=Ry(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(i,s=this.timeout){var l,c,f;if(this.socket.isConnected()||this.socket.connect(),this.state==en.closed){const{config:{broadcast:p,presence:y,private:v}}=this.params,_=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(A=>A.filter))!==null&&c!==void 0?c:[],x=!!this.bindings[Dl.PRESENCE]&&this.bindings[Dl.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,T={},O={broadcast:p,presence:Object.assign(Object.assign({},y),{enabled:x}),postgres_changes:_,private:v};this.socket.accessTokenValue&&(T.access_token=this.socket.accessTokenValue),this._onError(A=>i?.(za.CHANNEL_ERROR,A)),this._onClose(()=>i?.(za.CLOSED)),this.updateJoinPayload(Object.assign({config:O},T)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:A})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),A===void 0){i?.(za.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,V=(N=k?.length)!==null&&N!==void 0?N:0,Z=[];for(let B=0;B<V;B++){const G=k[B],{filter:{event:se,schema:be,table:ge,filter:U}}=G,ve=A&&A[B];if(ve&&ve.event===se&&So.isFilterValueEqual(ve.schema,be)&&So.isFilterValueEqual(ve.table,ge)&&So.isFilterValueEqual(ve.filter,U))Z.push(Object.assign(Object.assign({},G),{id:ve.id}));else{this.unsubscribe(),this.state=en.errored,i?.(za.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Z,i&&i(za.SUBSCRIBED);return}}).receive("error",A=>{this.state=en.errored,i?.(za.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{i?.(za.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,s={}){return await this.send({type:"presence",event:"track",payload:i},s.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,s,l){return this.state===en.joined&&i===Dl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(i,s,l)}async httpSend(i,s,l={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})},y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(y.status===202)return{success:!0};let v=y.statusText;try{const _=await y.json();v=_.error||_.message||v}catch{}return Promise.reject(new Error(v))}async send(i,s={}){var l,c;if(!this._canPush()&&i.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:p}=i,y={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(y.Authorization=`Bearer ${this.socket.accessTokenValue}`);const v={method:"POST",headers:y,body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:p,private:this.private}]})};try{const _=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=_.body)===null||c===void 0?void 0:c.cancel()),_.ok?"ok":"error"}catch(_){return _.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var p,y,v;const _=this._push(i.type,i,s.timeout||this.timeout);i.type==="broadcast"&&!(!((v=(y=(p=this.params)===null||p===void 0?void 0:p.config)===null||y===void 0?void 0:y.broadcast)===null||v===void 0)&&v.ack)&&f("ok"),_.receive("ok",()=>f("ok")),_.receive("error",()=>f("error")),_.receive("timeout",()=>f("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=en.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mi.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Vd(this,Mi.leave,{},i),l.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(i=>i.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=en.closed,this.bindings={}}async _fetchWithTimeout(i,s,l){const c=new AbortController,f=setTimeout(()=>c.abort(),l),p=await this.socket.fetch(i,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(f),p}_push(i,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Vd(this,i,s,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(i){if(i.startTimeout(),this.pushBuffer.push(i),this.pushBuffer.length>ex){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(i,s,l){return s}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,s,l){var c,f;const p=i.toLocaleLowerCase(),{close:y,error:v,leave:_,join:x}=Mi;if(l&&[y,v,_,x].indexOf(p)>=0&&l!==this._joinRef())return;let O=this._onMessage(p,s,l);if(s&&!O)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(A=>{var N,k,V;return((N=A.filter)===null||N===void 0?void 0:N.event)==="*"||((V=(k=A.filter)===null||k===void 0?void 0:k.event)===null||V===void 0?void 0:V.toLocaleLowerCase())===p}).map(A=>A.callback(O,l)):(f=this.bindings[p])===null||f===void 0||f.filter(A=>{var N,k,V,Z,B,G;if(["broadcast","presence","postgres_changes"].includes(p))if("id"in A){const se=A.id,be=(N=A.filter)===null||N===void 0?void 0:N.event;return se&&((k=s.ids)===null||k===void 0?void 0:k.includes(se))&&(be==="*"||be?.toLocaleLowerCase()===((V=s.data)===null||V===void 0?void 0:V.type.toLocaleLowerCase()))}else{const se=(B=(Z=A?.filter)===null||Z===void 0?void 0:Z.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return se==="*"||se===((G=s?.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===p}).map(A=>{if(typeof O=="object"&&"ids"in O){const N=O.data,{schema:k,table:V,commit_timestamp:Z,type:B,errors:G}=N;O=Object.assign(Object.assign({},{schema:k,table:V,commit_timestamp:Z,eventType:B,new:{},old:{},errors:G}),this._getPayloadRecords(N))}A.callback(O,l)})}_isClosed(){return this.state===en.closed}_isJoined(){return this.state===en.joined}_isJoining(){return this.state===en.joining}_isLeaving(){return this.state===en.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,s,l){const c=i.toLocaleLowerCase(),f={type:c,filter:s,callback:l};return this.bindings[c]?this.bindings[c].push(f):this.bindings[c]=[f],this}_off(i,s){const l=i.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var f;return!(((f=c.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===l&&So.isEqual(c.filter,s))})),this}static isEqual(i,s){if(Object.keys(i).length!==Object.keys(s).length)return!1;for(const l in i)if(i[l]!==s[l])return!1;return!0}static isFilterValueEqual(i,s){return(i??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(Mi.close,{},i)}_onError(i){this._on(Mi.error,{},s=>i(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=en.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const s={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(s.new=wv(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(s.old=wv(i.columns,i.old_record)),s}}const $d=()=>{},gc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lx=[1e3,2e3,5e3,1e4],ux=1e4,cx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hx{constructor(i,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=of,this.transport=null,this.heartbeatIntervalMs=gc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$d,this.ref=0,this.reconnectTimer=null,this.vsn=bv,this.logger=$d,this.conn=null,this.sendBuffer=[],this.serializer=new tx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...f)=>c(...f):(...f)=>fetch(...f),!(!((l=s?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${i}/${lf.websocket}`,this.httpEndpoint=Ry(i),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FS.createWebSocket(this.endpointURL())}catch(i){this._setConnectionState("disconnected");const s=i.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(i,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(i?this.conn.close(i,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(i){const s=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const i=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),i}log(i,s,l){this.logger(i,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Sr.connecting:return ds.Connecting;case Sr.open:return ds.Open;case Sr.closing:return ds.Closing;default:return ds.Closed}}isConnected(){return this.connectionState()===ds.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(i,s={config:{}}){const l=`realtime:${i}`,c=this.getChannels().find(f=>f.topic===l);if(c)return c;{const f=new So(`realtime:${i}`,s,this);return this.channels.push(f),f}}push(i){const{topic:s,event:l,payload:c,ref:f}=i,p=()=>{this.encode(i,y=>{var v;(v=this.conn)===null||v===void 0||v.send(y)})};this.log("push",`${s} ${l} (${f})`,c),this.isConnected()?p():this.sendBuffer.push(p)}async setAuth(i=null){this._authPromise=this._performAuth(i);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var i;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(i=this.conn)===null||i===void 0||i.close(QS,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},gc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(i){this.heartbeatCallback=i}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let s=this.channels.find(l=>l.topic===i&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${i}"`),s.unsubscribe())}_remove(i){this.channels=this.channels.filter(s=>s.topic!==i.topic)}_onConnMessage(i){this.decode(i.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(_){this.log("error","error in heartbeat callback",_)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:f,ref:p}=s,y=p?`(${p})`:"",v=f.status||"";this.log("receive",`${v} ${l} ${c} ${y}`.trim(),f),this.channels.filter(_=>_._isMember(l)).forEach(_=>_._trigger(c,f,p)),this._triggerStateCallbacks("message",s)})}_clearTimer(i){var s;i==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):i==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i),this.conn.readyState===Sr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Sr.open||this.conn.readyState===Sr.connecting)try{this.conn.close()}catch(i){this.log("error","Error closing connection",i)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(i=>i.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(i){var s;this._setConnectionState("disconnected"),this.log("transport","close",i),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",i)}_onConnError(i){this._setConnectionState("disconnected"),this.log("transport",`${i}`),this._triggerChanError(),this._triggerStateCallbacks("error",i)}_triggerChanError(){this.channels.forEach(i=>i._trigger(Mi.error))}_appendParams(i,s){if(Object.keys(s).length===0)return i;const l=i.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${i}${l}${c}`}_workerObjectUrl(i){let s;if(i)s=i;else{const l=new Blob([cx],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(i,s=!1){this._connectionState=i,i==="connecting"?this._wasManualDisconnect=!1:i==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(i=null){let s,l=!1;if(i)s=i,l=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const f={access_token:s,version:WS};s&&c.updateJoinPayload(f),c.joinedOnce&&c._isJoined()&&c._push(Mi.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(i="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${i}`,s)})}_triggerStateCallbacks(i,s){try{this.stateChangeCallbacks[i].forEach(l=>{try{l(s)}catch(c){this.log("error",`error in ${i} callback`,c)}})}catch(l){this.log("error",`error triggering ${i} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Oy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(i){var s,l,c,f,p,y,v,_,x,T,O,A;switch(this.transport=(s=i?.transport)!==null&&s!==void 0?s:null,this.timeout=(l=i?.timeout)!==null&&l!==void 0?l:of,this.heartbeatIntervalMs=(c=i?.heartbeatIntervalMs)!==null&&c!==void 0?c:gc.HEARTBEAT_INTERVAL,this.worker=(f=i?.worker)!==null&&f!==void 0?f:!1,this.accessToken=(p=i?.accessToken)!==null&&p!==void 0?p:null,this.heartbeatCallback=(y=i?.heartbeatCallback)!==null&&y!==void 0?y:$d,this.vsn=(v=i?.vsn)!==null&&v!==void 0?v:bv,i?.params&&(this.params=i.params),i?.logger&&(this.logger=i.logger),(i?.logLevel||i?.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(_=i?.reconnectAfterMs)!==null&&_!==void 0?_:(N=>lx[N-1]||ux),this.vsn){case Cy:this.encode=(x=i?.encode)!==null&&x!==void 0?x:((N,k)=>k(JSON.stringify(N))),this.decode=(T=i?.decode)!==null&&T!==void 0?T:((N,k)=>k(JSON.parse(N)));break;case JS:this.encode=(O=i?.encode)!==null&&O!==void 0?O:this.serializer.encode.bind(this.serializer),this.decode=(A=i?.decode)!==null&&A!==void 0?A:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=i?.workerUrl}}}var Bl=class extends Error{constructor(a,i){super(a),this.name="IcebergError",this.status=i.status,this.icebergType=i.icebergType,this.icebergCode=i.icebergCode,this.details=i.details,this.isCommitStateUnknown=i.icebergType==="CommitStateUnknownException"||[500,502,504].includes(i.status)&&i.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function dx(a,i,s){const l=new URL(i,a);if(s)for(const[c,f]of Object.entries(s))f!==void 0&&l.searchParams.set(c,f);return l.toString()}async function fx(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function mx(a){const i=a.fetchImpl??globalThis.fetch;return{async request({method:s,path:l,query:c,body:f,headers:p}){const y=dx(a.baseUrl,l,c),v=await fx(a.auth),_=await i(y,{method:s,headers:{...f?{"Content-Type":"application/json"}:{},...v,...p},body:f?JSON.stringify(f):void 0}),x=await _.text(),T=(_.headers.get("content-type")||"").includes("application/json"),O=T&&x?JSON.parse(x):x;if(!_.ok){const A=T?O:void 0,N=A?.error;throw new Bl(N?.message??`Request failed with status ${_.status}`,{status:_.status,icebergType:N?.type,icebergCode:N?.code,details:A})}return{status:_.status,headers:_.headers,data:O}}}}function vc(a){return a.join("")}var px=class{constructor(a,i=""){this.client=a,this.prefix=i}async listNamespaces(a){const i=a?{parent:vc(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:i})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(a,i){const s={namespace:a.namespace,properties:i?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vc(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vc(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vc(a.namespace)}`}),!0}catch(i){if(i instanceof Bl&&i.status===404)return!1;throw i}}async createNamespaceIfNotExists(a,i){try{return await this.createNamespace(a,i)}catch(s){if(s instanceof Bl&&s.status===409)return;throw s}}};function co(a){return a.join("")}var gx=class{constructor(a,i="",s){this.client=a,this.prefix=i,this.accessDelegation=s}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${co(a.namespace)}/tables`})).data.identifiers}async createTable(a,i){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${co(a.namespace)}/tables`,body:i,headers:s})).data.metadata}async updateTable(a,i){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${co(a.namespace)}/tables/${a.name}`,body:i});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(a,i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${co(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(i?.purge??!1)}})}async loadTable(a){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${co(a.namespace)}/tables/${a.name}`,headers:i})).data.metadata}async tableExists(a){const i={};this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${co(a.namespace)}/tables/${a.name}`,headers:i}),!0}catch(s){if(s instanceof Bl&&s.status===404)return!1;throw s}}async createTableIfNotExists(a,i){try{return await this.createTable(a,i)}catch(s){if(s instanceof Bl&&s.status===409)return await this.loadTable({namespace:a.namespace,name:i.name});throw s}}},vx=class{constructor(a){let i="v1";a.catalogName&&(i+=`/${a.catalogName}`);const s=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=mx({baseUrl:s,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new px(this.client,i),this.tableOps=new gx(this.client,i,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,i){return this.namespaceOps.createNamespace(a,i)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,i){return this.tableOps.createTable(a,i)}async updateTable(a,i){return this.tableOps.updateTable(a,i)}async dropTable(a,i){await this.tableOps.dropTable(a,i)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,i){return this.namespaceOps.createNamespaceIfNotExists(a,i)}async createTableIfNotExists(a,i){return this.tableOps.createTableIfNotExists(a,i)}},Nc=class extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}};function Nt(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}var yx=class extends Nc{constructor(a,i,s){super(a),this.name="StorageApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cf=class extends Nc{constructor(a,i){super(a),this.name="StorageUnknownError",this.originalError=i}};const Af=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),_x=()=>Response,hf=a=>{if(Array.isArray(a))return a.map(s=>hf(s));if(typeof a=="function"||a!==Object(a))return a;const i={};return Object.entries(a).forEach(([s,l])=>{const c=s.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));i[c]=hf(l)}),i},bx=a=>{if(typeof a!="object"||a===null)return!1;const i=Object.getPrototypeOf(a);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},wx=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a);function Hl(a){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Hl(a)}function Sx(a,i){if(Hl(a)!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var l=s.call(a,i);if(Hl(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}function xx(a){var i=Sx(a,"string");return Hl(i)=="symbol"?i:i+""}function Ex(a,i,s){return(i=xx(i))in a?Object.defineProperty(a,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[i]=s,a}function Ev(a,i){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);i&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,l)}return s}function Ne(a){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?Ev(Object(s),!0).forEach(function(l){Ex(a,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Ev(Object(s)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(s,l))})}return a}const Kd=a=>{var i;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(i=a.error)===null||i===void 0?void 0:i.message)||JSON.stringify(a)},Tx=async(a,i,s)=>{a instanceof await _x()&&!s?.noResolveJson?a.json().then(l=>{const c=a.status||500,f=l?.statusCode||c+"";i(new yx(Kd(l),c,f))}).catch(l=>{i(new cf(Kd(l),l))}):i(new cf(Kd(a),a))},Cx=(a,i,s,l)=>{const c={method:a,headers:i?.headers||{}};return a==="GET"||!l?c:(bx(l)?(c.headers=Ne({"Content-Type":"application/json"},i?.headers),c.body=JSON.stringify(l)):c.body=l,i?.duplex&&(c.duplex=i.duplex),Ne(Ne({},c),s))};async function Fl(a,i,s,l,c,f){return new Promise((p,y)=>{a(s,Cx(i,l,c,f)).then(v=>{if(!v.ok)throw v;return l?.noResolveJson?v:v.json()}).then(v=>p(v)).catch(v=>Tx(v,y,l))})}async function Il(a,i,s,l){return Fl(a,"GET",i,s,l)}async function zi(a,i,s,l,c){return Fl(a,"POST",i,l,c,s)}async function df(a,i,s,l,c){return Fl(a,"PUT",i,l,c,s)}async function Ox(a,i,s,l){return Fl(a,"HEAD",i,Ne(Ne({},s),{},{noResolveJson:!0}),l)}async function Rf(a,i,s,l,c){return Fl(a,"DELETE",i,l,c,s)}var Ax=class{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i}then(a,i){return this.execute().then(a,i)}async execute(){var a=this;try{return{data:(await a.downloadFn()).body,error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}}};let Ly;Ly=Symbol.toStringTag;var Rx=class{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i,this[Ly]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ax(this.downloadFn,this.shouldThrowOnError)}then(a,i){return this.getPromise().then(a,i)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var a=this;try{return{data:await(await a.downloadFn()).blob(),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}}};const Lx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var kx=class{constructor(a,i={},s,l){this.shouldThrowOnError=!1,this.url=a,this.headers=i,this.bucketId=s,this.fetch=Af(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(a,i,s,l){var c=this;try{let f;const p=Ne(Ne({},Tv),l);let y=Ne(Ne({},c.headers),a==="POST"&&{"x-upsert":String(p.upsert)});const v=p.metadata;typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),v&&f.append("metadata",c.encodeMetadata(v)),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.has("cacheControl")||f.append("cacheControl",p.cacheControl),v&&!f.has("metadata")&&f.append("metadata",c.encodeMetadata(v))):(f=s,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType,v&&(y["x-metadata"]=c.toBase64(c.encodeMetadata(v))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!p.duplex&&(p.duplex="half")),l?.headers&&(y=Ne(Ne({},y),l.headers));const _=c._removeEmptyFolders(i),x=c._getFinalPath(_),T=await(a=="PUT"?df:zi)(c.fetch,`${c.url}/object/${x}`,f,Ne({headers:y},p?.duplex?{duplex:p.duplex}:{}));return{data:{path:_,id:T.Id,fullPath:T.Key},error:null}}catch(f){if(c.shouldThrowOnError)throw f;if(Nt(f))return{data:null,error:f};throw f}}async upload(a,i,s){return this.uploadOrUpdate("POST",a,i,s)}async uploadToSignedUrl(a,i,s,l){var c=this;const f=c._removeEmptyFolders(a),p=c._getFinalPath(f),y=new URL(c.url+`/object/upload/sign/${p}`);y.searchParams.set("token",i);try{let v;const _=Ne({upsert:Tv.upsert},l),x=Ne(Ne({},c.headers),{"x-upsert":String(_.upsert)});return typeof Blob<"u"&&s instanceof Blob?(v=new FormData,v.append("cacheControl",_.cacheControl),v.append("",s)):typeof FormData<"u"&&s instanceof FormData?(v=s,v.append("cacheControl",_.cacheControl)):(v=s,x["cache-control"]=`max-age=${_.cacheControl}`,x["content-type"]=_.contentType),{data:{path:f,fullPath:(await df(c.fetch,y.toString(),v,{headers:x})).Key},error:null}}catch(v){if(c.shouldThrowOnError)throw v;if(Nt(v))return{data:null,error:v};throw v}}async createSignedUploadUrl(a,i){var s=this;try{let l=s._getFinalPath(a);const c=Ne({},s.headers);i?.upsert&&(c["x-upsert"]="true");const f=await zi(s.fetch,`${s.url}/object/upload/sign/${l}`,{},{headers:c}),p=new URL(s.url+f.url),y=p.searchParams.get("token");if(!y)throw new Nc("No token returned by API");return{data:{signedUrl:p.toString(),path:a,token:y},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Nt(l))return{data:null,error:l};throw l}}async update(a,i,s){return this.uploadOrUpdate("PUT",a,i,s)}async move(a,i,s){var l=this;try{return{data:await zi(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:a,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Nt(c))return{data:null,error:c};throw c}}async copy(a,i,s){var l=this;try{return{data:{path:(await zi(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:a,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Nt(c))return{data:null,error:c};throw c}}async createSignedUrl(a,i,s){var l=this;try{let c=l._getFinalPath(a),f=await zi(l.fetch,`${l.url}/object/sign/${c}`,Ne({expiresIn:i},s?.transform?{transform:s.transform}:{}),{headers:l.headers});const p=s?.download?`&download=${s.download===!0?"":s.download}`:"";return f={signedUrl:encodeURI(`${l.url}${f.signedURL}${p}`)},{data:f,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Nt(c))return{data:null,error:c};throw c}}async createSignedUrls(a,i,s){var l=this;try{const c=await zi(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:i,paths:a},{headers:l.headers}),f=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:c.map(p=>Ne(Ne({},p),{},{signedUrl:p.signedURL?encodeURI(`${l.url}${p.signedURL}${f}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Nt(c))return{data:null,error:c};throw c}}download(a,i){const s=typeof i?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(i?.transform||{}),c=l?`?${l}`:"",f=this._getFinalPath(a),p=()=>Il(this.fetch,`${this.url}/${s}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new Rx(p,this.shouldThrowOnError)}async info(a){var i=this;const s=i._getFinalPath(a);try{return{data:hf(await Il(i.fetch,`${i.url}/object/info/${s}`,{headers:i.headers})),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Nt(l))return{data:null,error:l};throw l}}async exists(a){var i=this;const s=i._getFinalPath(a);try{return await Ox(i.fetch,`${i.url}/object/${s}`,{headers:i.headers}),{data:!0,error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Nt(l)&&l instanceof cf){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}}getPublicUrl(a,i){const s=this._getFinalPath(a),l=[],c=i?.download?`download=${i.download===!0?"":i.download}`:"";c!==""&&l.push(c);const f=typeof i?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(i?.transform||{});p!==""&&l.push(p);let y=l.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${s}${y}`)}}}async remove(a){var i=this;try{return{data:await Rf(i.fetch,`${i.url}/object/${i.bucketId}`,{prefixes:a},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async list(a,i,s){var l=this;try{const c=Ne(Ne(Ne({},Lx),i),{},{prefix:a||""});return{data:await zi(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},s),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Nt(c))return{data:null,error:c};throw c}}async listV2(a,i){var s=this;try{const l=Ne({},a);return{data:await zi(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,l,{headers:s.headers},i),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Nt(l))return{data:null,error:l};throw l}}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const i=[];return a.width&&i.push(`width=${a.width}`),a.height&&i.push(`height=${a.height}`),a.resize&&i.push(`resize=${a.resize}`),a.format&&i.push(`format=${a.format}`),a.quality&&i.push(`quality=${a.quality}`),i.join("&")}};const ky="2.89.0",jy={"X-Client-Info":`storage-js/${ky}`};var jx=class{constructor(a,i={},s,l){this.shouldThrowOnError=!1;const c=new URL(a);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Ne(Ne({},jy),i),this.fetch=Af(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(a){var i=this;try{const s=i.listBucketOptionsToQueryString(a);return{data:await Il(i.fetch,`${i.url}/bucket${s}`,{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async getBucket(a){var i=this;try{return{data:await Il(i.fetch,`${i.url}/bucket/${a}`,{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async createBucket(a,i={public:!1}){var s=this;try{return{data:await zi(s.fetch,`${s.url}/bucket`,{id:a,name:a,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Nt(l))return{data:null,error:l};throw l}}async updateBucket(a,i){var s=this;try{return{data:await df(s.fetch,`${s.url}/bucket/${a}`,{id:a,name:a,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Nt(l))return{data:null,error:l};throw l}}async emptyBucket(a){var i=this;try{return{data:await zi(i.fetch,`${i.url}/bucket/${a}/empty`,{},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async deleteBucket(a){var i=this;try{return{data:await Rf(i.fetch,`${i.url}/bucket/${a}`,{},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(a){const i={};return a&&("limit"in a&&(i.limit=String(a.limit)),"offset"in a&&(i.offset=String(a.offset)),a.search&&(i.search=a.search),a.sortColumn&&(i.sortColumn=a.sortColumn),a.sortOrder&&(i.sortOrder=a.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}},zx=class{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Ne(Ne({},jy),i),this.fetch=Af(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var i=this;try{return{data:await zi(i.fetch,`${i.url}/bucket`,{name:a},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async listBuckets(a){var i=this;try{const s=new URLSearchParams;a?.limit!==void 0&&s.set("limit",a.limit.toString()),a?.offset!==void 0&&s.set("offset",a.offset.toString()),a?.sortColumn&&s.set("sortColumn",a.sortColumn),a?.sortOrder&&s.set("sortOrder",a.sortOrder),a?.search&&s.set("search",a.search);const l=s.toString(),c=l?`${i.url}/bucket?${l}`:`${i.url}/bucket`;return{data:await Il(i.fetch,c,{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async deleteBucket(a){var i=this;try{return{data:await Rf(i.fetch,`${i.url}/bucket/${a}`,{},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}from(a){var i=this;if(!wx(a))throw new Nc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new vx({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>i.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(s,{get(c,f){const p=c[f];return typeof p!="function"?p:async(...y)=>{try{return{data:await p.apply(c,y),error:null}}catch(v){if(l)throw v;return{data:null,error:v}}}}})}};const Lf={"X-Client-Info":`storage-js/${ky}`,"Content-Type":"application/json"};var zy=class extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ti(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}var Yd=class extends zy{constructor(a,i,s){super(a),this.name="StorageVectorsApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Mx=class extends zy{constructor(a,i){super(a),this.name="StorageVectorsUnknownError",this.originalError=i}};const kf=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),Dx=a=>{if(typeof a!="object"||a===null)return!1;const i=Object.getPrototypeOf(a);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Cv=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Nx=async(a,i,s)=>{if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!s?.noResolveJson){const l=a.status||500,c=a;if(typeof c.json=="function")c.json().then(f=>{const p=f?.statusCode||f?.code||l+"";i(new Yd(Cv(f),l,p))}).catch(()=>{const f=l+"";i(new Yd(c.statusText||`HTTP ${l} error`,l,f))});else{const f=l+"";i(new Yd(c.statusText||`HTTP ${l} error`,l,f))}}else i(new Mx(Cv(a),a))},Px=(a,i,s,l)=>{const c={method:a,headers:i?.headers||{}};return l?(Dx(l)?(c.headers=Ne({"Content-Type":"application/json"},i?.headers),c.body=JSON.stringify(l)):c.body=l,Ne(Ne({},c),s)):c};async function Ux(a,i,s,l,c,f){return new Promise((p,y)=>{a(s,Px(i,l,c,f)).then(v=>{if(!v.ok)throw v;if(l?.noResolveJson)return v;const _=v.headers.get("content-type");return!_||!_.includes("application/json")?{}:v.json()}).then(v=>p(v)).catch(v=>Nx(v,y,l))})}async function ni(a,i,s,l,c){return Ux(a,"POST",i,l,c,s)}var Bx=class{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Ne(Ne({},Lf),i),this.fetch=kf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(a){var i=this;try{return{data:await ni(i.fetch,`${i.url}/CreateIndex`,a,{headers:i.headers})||{},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ti(s))return{data:null,error:s};throw s}}async getIndex(a,i){var s=this;try{return{data:await ni(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:a,indexName:i},{headers:s.headers}),error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(ti(l))return{data:null,error:l};throw l}}async listIndexes(a){var i=this;try{return{data:await ni(i.fetch,`${i.url}/ListIndexes`,a,{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ti(s))return{data:null,error:s};throw s}}async deleteIndex(a,i){var s=this;try{return{data:await ni(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:a,indexName:i},{headers:s.headers})||{},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(ti(l))return{data:null,error:l};throw l}}},Hx=class{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Ne(Ne({},Lf),i),this.fetch=kf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(a){var i=this;try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ni(i.fetch,`${i.url}/PutVectors`,a,{headers:i.headers})||{},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ti(s))return{data:null,error:s};throw s}}async getVectors(a){var i=this;try{return{data:await ni(i.fetch,`${i.url}/GetVectors`,a,{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ti(s))return{data:null,error:s};throw s}}async listVectors(a){var i=this;try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:await ni(i.fetch,`${i.url}/ListVectors`,a,{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ti(s))return{data:null,error:s};throw s}}async queryVectors(a){var i=this;try{return{data:await ni(i.fetch,`${i.url}/QueryVectors`,a,{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ti(s))return{data:null,error:s};throw s}}async deleteVectors(a){var i=this;try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ni(i.fetch,`${i.url}/DeleteVectors`,a,{headers:i.headers})||{},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ti(s))return{data:null,error:s};throw s}}},Ix=class{constructor(a,i={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Ne(Ne({},Lf),i),this.fetch=kf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(a){var i=this;try{return{data:await ni(i.fetch,`${i.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:i.headers})||{},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ti(s))return{data:null,error:s};throw s}}async getBucket(a){var i=this;try{return{data:await ni(i.fetch,`${i.url}/GetVectorBucket`,{vectorBucketName:a},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ti(s))return{data:null,error:s};throw s}}async listBuckets(a={}){var i=this;try{return{data:await ni(i.fetch,`${i.url}/ListVectorBuckets`,a,{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ti(s))return{data:null,error:s};throw s}}async deleteBucket(a){var i=this;try{return{data:await ni(i.fetch,`${i.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:i.headers})||{},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ti(s))return{data:null,error:s};throw s}}},qx=class extends Ix{constructor(a,i={}){super(a,i.headers||{},i.fetch)}from(a){return new Zx(this.url,this.headers,a,this.fetch)}async createBucket(a){var i=()=>super.createBucket,s=this;return i().call(s,a)}async getBucket(a){var i=()=>super.getBucket,s=this;return i().call(s,a)}async listBuckets(a={}){var i=()=>super.listBuckets,s=this;return i().call(s,a)}async deleteBucket(a){var i=()=>super.deleteBucket,s=this;return i().call(s,a)}},Zx=class extends Bx{constructor(a,i,s,l){super(a,i,l),this.vectorBucketName=s}async createIndex(a){var i=()=>super.createIndex,s=this;return i().call(s,Ne(Ne({},a),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(a={}){var i=()=>super.listIndexes,s=this;return i().call(s,Ne(Ne({},a),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(a){var i=()=>super.getIndex,s=this;return i().call(s,s.vectorBucketName,a)}async deleteIndex(a){var i=()=>super.deleteIndex,s=this;return i().call(s,s.vectorBucketName,a)}index(a){return new Gx(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},Gx=class extends Hx{constructor(a,i,s,l,c){super(a,i,c),this.vectorBucketName=s,this.indexName=l}async putVectors(a){var i=()=>super.putVectors,s=this;return i().call(s,Ne(Ne({},a),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(a){var i=()=>super.getVectors,s=this;return i().call(s,Ne(Ne({},a),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(a={}){var i=()=>super.listVectors,s=this;return i().call(s,Ne(Ne({},a),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(a){var i=()=>super.queryVectors,s=this;return i().call(s,Ne(Ne({},a),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(a){var i=()=>super.deleteVectors,s=this;return i().call(s,Ne(Ne({},a),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Vx=class extends jx{constructor(a,i={},s,l){super(a,i,s,l)}from(a){return new kx(this.url,this.headers,a,this.fetch)}get vectors(){return new qx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zx(this.url+"/iceberg",this.headers,this.fetch)}};const My="2.89.0",_o=30*1e3,ff=3,Fd=ff*_o,$x="http://localhost:9999",Kx="supabase.auth.token",Yx={"X-Client-Info":`gotrue-js/${My}`},mf="X-Supabase-Api-Version",Dy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Fx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xx=600*1e3;class ql extends Error{constructor(i,s,l){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function Ae(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class Wx extends ql{constructor(i,s,l){super(i,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function Jx(a){return Ae(a)&&a.name==="AuthApiError"}class fs extends ql{constructor(i,s){super(i),this.name="AuthUnknownError",this.originalError=s}}class Da extends ql{constructor(i,s,l,c){super(i,l,c),this.name=s,this.status=l}}class Qn extends Da{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qx(a){return Ae(a)&&a.name==="AuthSessionMissingError"}class ho extends Da{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yc extends Da{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class _c extends Da{constructor(i,s=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eE(a){return Ae(a)&&a.name==="AuthImplicitGrantRedirectError"}class Ov extends Da{constructor(i,s=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tE extends Da{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class pf extends Da{constructor(i,s){super(i,"AuthRetryableFetchError",s,void 0)}}function Xd(a){return Ae(a)&&a.name==="AuthRetryableFetchError"}class Av extends Da{constructor(i,s,l){super(i,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}class gf extends Da{constructor(i){super(i,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rv=` 	
\r=`.split(""),nE=(()=>{const a=new Array(128);for(let i=0;i<a.length;i+=1)a[i]=-1;for(let i=0;i<Rv.length;i+=1)a[Rv[i].charCodeAt(0)]=-2;for(let i=0;i<Oc.length;i+=1)a[Oc[i].charCodeAt(0)]=i;return a})();function Lv(a,i,s){if(a!==null)for(i.queue=i.queue<<8|a,i.queuedBits+=8;i.queuedBits>=6;){const l=i.queue>>i.queuedBits-6&63;s(Oc[l]),i.queuedBits-=6}else if(i.queuedBits>0)for(i.queue=i.queue<<6-i.queuedBits,i.queuedBits=6;i.queuedBits>=6;){const l=i.queue>>i.queuedBits-6&63;s(Oc[l]),i.queuedBits-=6}}function Ny(a,i,s){const l=nE[a];if(l>-1)for(i.queue=i.queue<<6|l,i.queuedBits+=6;i.queuedBits>=8;)s(i.queue>>i.queuedBits-8&255),i.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function kv(a){const i=[],s=p=>{i.push(String.fromCodePoint(p))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},f=p=>{rE(p,l,s)};for(let p=0;p<a.length;p+=1)Ny(a.charCodeAt(p),c,f);return i.join("")}function iE(a,i){if(a<=127){i(a);return}else if(a<=2047){i(192|a>>6),i(128|a&63);return}else if(a<=65535){i(224|a>>12),i(128|a>>6&63),i(128|a&63);return}else if(a<=1114111){i(240|a>>18),i(128|a>>12&63),i(128|a>>6&63),i(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function aE(a,i){for(let s=0;s<a.length;s+=1){let l=a.charCodeAt(s);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(a.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}iE(l,i)}}function rE(a,i,s){if(i.utf8seq===0){if(a<=127){s(a);return}for(let l=1;l<6;l+=1)if((a>>7-l&1)===0){i.utf8seq=l;break}if(i.utf8seq===2)i.codepoint=a&31;else if(i.utf8seq===3)i.codepoint=a&15;else if(i.utf8seq===4)i.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");i.utf8seq-=1}else if(i.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");i.codepoint=i.codepoint<<6|a&63,i.utf8seq-=1,i.utf8seq===0&&s(i.codepoint)}}function Eo(a){const i=[],s={queue:0,queuedBits:0},l=c=>{i.push(c)};for(let c=0;c<a.length;c+=1)Ny(a.charCodeAt(c),s,l);return new Uint8Array(i)}function sE(a){const i=[];return aE(a,s=>i.push(s)),new Uint8Array(i)}function ps(a){const i=[],s={queue:0,queuedBits:0},l=c=>{i.push(c)};return a.forEach(c=>Lv(c,s,l)),Lv(null,s,l),i.join("")}function oE(a){return Math.round(Date.now()/1e3)+a}function lE(){return Symbol("auth-callback")}const fn=()=>typeof window<"u"&&typeof document<"u",us={tested:!1,writable:!1},Py=()=>{if(!fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(us.tested)return us.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),us.tested=!0,us.writable=!0}catch{us.tested=!0,us.writable=!1}return us.writable};function uE(a){const i={},s=new URL(a);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,f)=>{i[f]=c})}catch{}return s.searchParams.forEach((l,c)=>{i[c]=l}),i}const Uy=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),cE=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",bo=async(a,i,s)=>{await a.setItem(i,JSON.stringify(s))},cs=async(a,i)=>{const s=await a.getItem(i);if(!s)return null;try{return JSON.parse(s)}catch{return s}},dn=async(a,i)=>{await a.removeItem(i)};class Pc{constructor(){this.promise=new Pc.promiseConstructor((i,s)=>{this.resolve=i,this.reject=s})}}Pc.promiseConstructor=Promise;function Wd(a){const i=a.split(".");if(i.length!==3)throw new gf("Invalid JWT structure");for(let l=0;l<i.length;l++)if(!Fx.test(i[l]))throw new gf("JWT not in base64url format");return{header:JSON.parse(kv(i[0])),payload:JSON.parse(kv(i[1])),signature:Eo(i[2]),raw:{header:i[0],payload:i[1]}}}async function hE(a){return await new Promise(i=>{setTimeout(()=>i(null),a)})}function dE(a,i){return new Promise((l,c)=>{(async()=>{for(let f=0;f<1/0;f++)try{const p=await a(f);if(!i(f,null,p)){l(p);return}}catch(p){if(!i(f,p)){c(p);return}}})()})}function fE(a){return("0"+a.toString(16)).substr(-2)}function mE(){const i=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let c="";for(let f=0;f<56;f++)c+=s.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(i),Array.from(i,fE).join("")}async function pE(a){const s=new TextEncoder().encode(a),l=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(l);return Array.from(c).map(f=>String.fromCharCode(f)).join("")}async function gE(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const s=await pE(a);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fo(a,i,s=!1){const l=mE();let c=l;s&&(c+="/PASSWORD_RECOVERY"),await bo(a,`${i}-code-verifier`,c);const f=await gE(l);return[f,l===f?"plain":"s256"]}const vE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yE(a){const i=a.headers.get(mf);if(!i||!i.match(vE))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}function _E(a){if(!a)throw new Error("Missing exp claim");const i=Math.floor(Date.now()/1e3);if(a<=i)throw new Error("JWT has expired")}function bE(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mo(a){if(!wE.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jd(){const a={};return new Proxy(a,{get:(i,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(i,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(i,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function SE(a,i){return new Proxy(a,{get:(s,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const f=l.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,l,c)}return!i.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i.value=!0),Reflect.get(s,l,c)}})}function jv(a){return JSON.parse(JSON.stringify(a))}const hs=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),xE=[502,503,504];async function zv(a){var i;if(!cE(a))throw new pf(hs(a),0);if(xE.includes(a.status))throw new pf(hs(a),a.status);let s;try{s=await a.json()}catch(f){throw new fs(hs(f),f)}let l;const c=yE(a);if(c&&c.getTime()>=Dy["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new Av(hs(s),a.status,((i=s.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(l==="session_not_found")throw new Qn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((f,p)=>f&&typeof p=="string",!0))throw new Av(hs(s),a.status,s.weak_password.reasons);throw new Wx(hs(s),a.status||500,l)}const EE=(a,i,s,l)=>{const c={method:a,headers:i?.headers||{}};return a==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),s))};async function De(a,i,s,l){var c;const f=Object.assign({},l?.headers);f[mf]||(f[mf]=Dy["2024-01-01"].name),l?.jwt&&(f.Authorization=`Bearer ${l.jwt}`);const p=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(p.redirect_to=l.redirectTo);const y=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",v=await TE(a,i,s+y,{headers:f,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(v):{data:Object.assign({},v),error:null}}async function TE(a,i,s,l,c,f){const p=EE(i,l,c,f);let y;try{y=await a(s,Object.assign({},p))}catch(v){throw console.error(v),new pf(hs(v),0)}if(y.ok||await zv(y),l?.noResolveJson)return y;try{return await y.json()}catch(v){await zv(v)}}function ji(a){var i;let s=null;AE(a)&&(s=Object.assign({},a),a.expires_at||(s.expires_at=oE(a.expires_in)));const l=(i=a.user)!==null&&i!==void 0?i:a;return{data:{session:s,user:l},error:null}}function Mv(a){const i=ji(a);return!i.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(i.data.weak_password=a.weak_password),i}function Tr(a){var i;return{data:{user:(i=a.user)!==null&&i!==void 0?i:a},error:null}}function CE(a){return{data:a,error:null}}function OE(a){const{action_link:i,email_otp:s,hashed_token:l,redirect_to:c,verification_type:f}=a,p=Dc(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:i,email_otp:s,hashed_token:l,redirect_to:c,verification_type:f},v=Object.assign({},p);return{data:{properties:y,user:v},error:null}}function Dv(a){return a}function AE(a){return a.access_token&&a.refresh_token&&a.expires_in}const Qd=["global","local","others"];class RE{constructor({url:i="",headers:s={},fetch:l}){this.url=i,this.headers=s,this.fetch=Uy(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(i,s=Qd[0]){if(Qd.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qd.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Ae(l))return{data:null,error:l};throw l}}async inviteUserByEmail(i,s={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Tr})}catch(l){if(Ae(l))return{data:{user:null},error:l};throw l}}async generateLink(i){try{const{options:s}=i,l=Dc(i,["options"]),c=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:OE,redirectTo:s?.redirectTo})}catch(s){if(Ae(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(i){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Tr})}catch(s){if(Ae(s))return{data:{user:null},error:s};throw s}}async listUsers(i){var s,l,c,f,p,y,v;try{const _={nextPage:null,lastPage:0,total:0},x=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=i?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(f=(c=i?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Dv});if(x.error)throw x.error;const T=await x.json(),O=(p=x.headers.get("x-total-count"))!==null&&p!==void 0?p:0,A=(v=(y=x.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&v!==void 0?v:[];return A.length>0&&(A.forEach(N=>{const k=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),V=JSON.parse(N.split(";")[1].split("=")[1]);_[`${V}Page`]=k}),_.total=parseInt(O)),{data:Object.assign(Object.assign({},T),_),error:null}}catch(_){if(Ae(_))return{data:{users:[]},error:_};throw _}}async getUserById(i){mo(i);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Tr})}catch(s){if(Ae(s))return{data:{user:null},error:s};throw s}}async updateUserById(i,s){mo(i);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:s,headers:this.headers,xform:Tr})}catch(l){if(Ae(l))return{data:{user:null},error:l};throw l}}async deleteUser(i,s=!1){mo(i);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:s},xform:Tr})}catch(l){if(Ae(l))return{data:{user:null},error:l};throw l}}async _listFactors(i){mo(i.userId);try{const{data:s,error:l}=await De(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:l}}catch(s){if(Ae(s))return{data:null,error:s};throw s}}async _deleteFactor(i){mo(i.userId),mo(i.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}}async _listOAuthClients(i){var s,l,c,f,p,y,v;try{const _={nextPage:null,lastPage:0,total:0},x=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=i?.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(f=(c=i?.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Dv});if(x.error)throw x.error;const T=await x.json(),O=(p=x.headers.get("x-total-count"))!==null&&p!==void 0?p:0,A=(v=(y=x.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&v!==void 0?v:[];return A.length>0&&(A.forEach(N=>{const k=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),V=JSON.parse(N.split(";")[1].split("=")[1]);_[`${V}Page`]=k}),_.total=parseInt(O)),{data:Object.assign(Object.assign({},T),_),error:null}}catch(_){if(Ae(_))return{data:{clients:[]},error:_};throw _}}async _createOAuthClient(i){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Ae(s))return{data:null,error:s};throw s}}async _getOAuthClient(i){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${i}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Ae(s))return{data:null,error:s};throw s}}async _updateOAuthClient(i,s){try{return await De(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${i}`,{body:s,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(Ae(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(i){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${i}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(i){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${i}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Ae(s))return{data:null,error:s};throw s}}}function Nv(a={}){return{getItem:i=>a[i]||null,setItem:(i,s)=>{a[i]=s},removeItem:i=>{delete a[i]}}}const po={debug:!!(globalThis&&Py()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class By extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class LE extends By{}async function kE(a,i,s){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,i);const l=new globalThis.AbortController;return i>0&&setTimeout(()=>{l.abort(),po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,c.name);try{return await s()}finally{po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,c.name)}}else{if(i===0)throw po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new LE(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(po.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function jE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Hy(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function zE(a){return parseInt(a,16)}function ME(a){const i=new TextEncoder().encode(a);return"0x"+Array.from(i,l=>l.toString(16).padStart(2,"0")).join("")}function DE(a){var i;const{chainId:s,domain:l,expirationTime:c,issuedAt:f=new Date,nonce:p,notBefore:y,requestId:v,resources:_,scheme:x,uri:T,version:O}=a;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(p&&p.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${p}`);if(!T)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(O!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${O}`);if(!((i=a.statement)===null||i===void 0)&&i.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const A=Hy(a.address),N=x?`${x}://${l}`:l,k=a.statement?`${a.statement}
`:"",V=`${N} wants you to sign in with your Ethereum account:
${A}

${k}`;let Z=`URI: ${T}
Version: ${O}
Chain ID: ${s}${p?`
Nonce: ${p}`:""}
Issued At: ${f.toISOString()}`;if(c&&(Z+=`
Expiration Time: ${c.toISOString()}`),y&&(Z+=`
Not Before: ${y.toISOString()}`),v&&(Z+=`
Request ID: ${v}`),_){let B=`
Resources:`;for(const G of _){if(!G||typeof G!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${G}`);B+=`
- ${G}`}Z+=B}return`${V}
${Z}`}class Wt extends Error{constructor({message:i,code:s,cause:l,name:c}){var f;super(i,{cause:l}),this.__isWebAuthnError=!0,this.name=(f=c??(l instanceof Error?l.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=s}}class Ac extends Wt{constructor(i,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:i}),this.name="WebAuthnUnknownError",this.originalError=s}}function NE({error:a,options:i}){var s,l,c;const{publicKey:f}=i;if(!f)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(i.signal instanceof AbortSignal)return new Wt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((s=f.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Wt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(i.mediation==="conditional"&&((l=f.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Wt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((c=f.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Wt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new Wt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new Wt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return f.pubKeyCredParams.filter(y=>y.type==="public-key").length===0?new Wt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new Wt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const p=window.location.hostname;if(Iy(p)){if(f.rp.id!==p)return new Wt({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new Wt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new Wt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function PE({error:a,options:i}){const{publicKey:s}=i;if(!s)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(i.signal instanceof AbortSignal)return new Wt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new Wt({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const l=window.location.hostname;if(Iy(l)){if(s.rpId!==l)return new Wt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new Wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new Wt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new Wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class UE{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const i=new AbortController;return this.controller=i,i.signal}cancelCeremony(){if(this.controller){const i=new Error("Manually cancelling existing WebAuthn API call");i.name="AbortError",this.controller.abort(i),this.controller=void 0}}}const BE=new UE;function HE(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:i,user:s,excludeCredentials:l}=a,c=Dc(a,["challenge","user","excludeCredentials"]),f=Eo(i).buffer,p=Object.assign(Object.assign({},s),{id:Eo(s.id).buffer}),y=Object.assign(Object.assign({},c),{challenge:f,user:p});if(l&&l.length>0){y.excludeCredentials=new Array(l.length);for(let v=0;v<l.length;v++){const _=l[v];y.excludeCredentials[v]=Object.assign(Object.assign({},_),{id:Eo(_.id).buffer,type:_.type||"public-key",transports:_.transports})}}return y}function IE(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:i,allowCredentials:s}=a,l=Dc(a,["challenge","allowCredentials"]),c=Eo(i).buffer,f=Object.assign(Object.assign({},l),{challenge:c});if(s&&s.length>0){f.allowCredentials=new Array(s.length);for(let p=0;p<s.length;p++){const y=s[p];f.allowCredentials[p]=Object.assign(Object.assign({},y),{id:Eo(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return f}function qE(a){var i;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const s=a;return{id:a.id,rawId:a.id,response:{attestationObject:ps(new Uint8Array(a.response.attestationObject)),clientDataJSON:ps(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(i=s.authenticatorAttachment)!==null&&i!==void 0?i:void 0}}function ZE(a){var i;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const s=a,l=a.getClientExtensionResults(),c=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:ps(new Uint8Array(c.authenticatorData)),clientDataJSON:ps(new Uint8Array(c.clientDataJSON)),signature:ps(new Uint8Array(c.signature)),userHandle:c.userHandle?ps(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(i=s.authenticatorAttachment)!==null&&i!==void 0?i:void 0}}function Iy(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function Pv(){var a,i;return!!(fn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.get)=="function")}async function GE(a){try{const i=await navigator.credentials.create(a);return i?i instanceof PublicKeyCredential?{data:i,error:null}:{data:null,error:new Ac("Browser returned unexpected credential type",i)}:{data:null,error:new Ac("Empty credential response",i)}}catch(i){return{data:null,error:NE({error:i,options:a})}}}async function VE(a){try{const i=await navigator.credentials.get(a);return i?i instanceof PublicKeyCredential?{data:i,error:null}:{data:null,error:new Ac("Browser returned unexpected credential type",i)}:{data:null,error:new Ac("Empty credential response",i)}}catch(i){return{data:null,error:PE({error:i,options:a})}}}const $E={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},KE={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Rc(...a){const i=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of a)if(c)for(const f in c){const p=c[f];if(p!==void 0)if(Array.isArray(p))l[f]=p;else if(s(p))l[f]=p;else if(i(p)){const y=l[f];i(y)?l[f]=Rc(y,p):l[f]=Rc(p)}else l[f]=p}return l}function YE(a,i){return Rc($E,a,i||{})}function FE(a,i){return Rc(KE,a,i||{})}class XE{constructor(i){this.client=i,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(i){return this.client.mfa.enroll(Object.assign(Object.assign({},i),{factorType:"webauthn"}))}async _challenge({factorId:i,webauthn:s,friendlyName:l,signal:c},f){try{const{data:p,error:y}=await this.client.mfa.challenge({factorId:i,webauthn:s});if(!p)return{data:null,error:y};const v=c??BE.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:_}=p.webauthn.credential_options.publicKey;_.name||(_.name=`${_.id}:${l}`),_.displayName||(_.displayName=_.name)}switch(p.webauthn.type){case"create":{const _=YE(p.webauthn.credential_options.publicKey,f?.create),{data:x,error:T}=await GE({publicKey:_,signal:v});return x?{data:{factorId:i,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:x}},error:null}:{data:null,error:T}}case"request":{const _=FE(p.webauthn.credential_options.publicKey,f?.request),{data:x,error:T}=await VE(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:_,signal:v}));return x?{data:{factorId:i,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:x}},error:null}:{data:null,error:T}}}}catch(p){return Ae(p)?{data:null,error:p}:{data:null,error:new fs("Unexpected error in challenge",p)}}}async _verify({challengeId:i,factorId:s,webauthn:l}){return this.client.mfa.verify({factorId:s,challengeId:i,webauthn:l})}async _authenticate({factorId:i,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!s)return{data:null,error:new ql("rpId is required for WebAuthn authentication")};try{if(!Pv())return{data:null,error:new fs("Browser does not support WebAuthn",null)};const{data:p,error:y}=await this.challenge({factorId:i,webauthn:{rpId:s,rpOrigins:l},signal:c},{request:f});if(!p)return{data:null,error:y};const{webauthn:v}=p;return this._verify({factorId:i,challengeId:p.challengeId,webauthn:{type:v.type,rpId:s,rpOrigins:l,credential_response:v.credential_response}})}catch(p){return Ae(p)?{data:null,error:p}:{data:null,error:new fs("Unexpected error in authenticate",p)}}}async _register({friendlyName:i,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!s)return{data:null,error:new ql("rpId is required for WebAuthn registration")};try{if(!Pv())return{data:null,error:new fs("Browser does not support WebAuthn",null)};const{data:p,error:y}=await this._enroll({friendlyName:i});if(!p)return await this.client.mfa.listFactors().then(x=>{var T;return(T=x.data)===null||T===void 0?void 0:T.all.find(O=>O.factor_type==="webauthn"&&O.friendly_name===i&&O.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:y};const{data:v,error:_}=await this._challenge({factorId:p.id,friendlyName:p.friendly_name,webauthn:{rpId:s,rpOrigins:l},signal:c},{create:f});return v?this._verify({factorId:p.id,challengeId:v.challengeId,webauthn:{rpId:s,rpOrigins:l,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:_}}catch(p){return Ae(p)?{data:null,error:p}:{data:null,error:new fs("Unexpected error in register",p)}}}}jE();const WE={url:$x,storageKey:Kx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Uv(a,i,s){return await s()}const go={};class Zl{get jwks(){var i,s;return(s=(i=go[this.storageKey])===null||i===void 0?void 0:i.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(i){go[this.storageKey]=Object.assign(Object.assign({},go[this.storageKey]),{jwks:i})}get jwks_cached_at(){var i,s;return(s=(i=go[this.storageKey])===null||i===void 0?void 0:i.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(i){go[this.storageKey]=Object.assign(Object.assign({},go[this.storageKey]),{cachedAt:i})}constructor(i){var s,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},WE),i);if(this.storageKey=f.storageKey,this.instanceID=(s=Zl.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Zl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&fn()){const p=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(p),this.logDebugMessages&&console.trace(p)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new RE({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=Uy(f.fetch),this.lock=f.lock||Uv,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,f.lock?this.lock=f.lock:this.persistSession&&fn()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=kE:this.lock=Uv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new XE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:Py()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nv(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=Nv(this.memoryStorage)),fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(p){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",p)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async p=>{this._debug("received broadcast notification from other tab or client",p),await this._notifyAllSubscribers(p.data.event,p.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(i){if(this.throwOnError&&i&&i.error)throw i.error;return i}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${My}) ${new Date().toISOString()}`}_debug(...i){return this.logDebugMessages&&this.logger(this._logPrefix(),...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{let s={},l="none";if(fn()&&(s=uE(window.location.href),this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce")),fn()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:f}=await this._getSessionFromURL(s,l);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),eE(f)){const v=(i=f.details)===null||i===void 0?void 0:i.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:f}}return await this._removeSession(),{error:f}}const{session:p,redirectType:y}=c;return this._debug("#_initialize()","detected session in URL",p,"redirect type",y),await this._saveSession(p),setTimeout(async()=>{y==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",p):await this._notifyAllSubscribers("SIGNED_IN",p)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Ae(s)?this._returnResult({error:s}):this._returnResult({error:new fs("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var s,l,c;try{const f=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=i?.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=i?.options)===null||c===void 0?void 0:c.captchaToken}},xform:ji}),{data:p,error:y}=f;if(y||!p)return this._returnResult({data:{user:null,session:null},error:y});const v=p.session,_=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:_,session:v},error:null})}catch(f){if(Ae(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(i){var s,l,c;try{let f;if("email"in i){const{email:x,password:T,options:O}=i;let A=null,N=null;this.flowType==="pkce"&&([A,N]=await fo(this.storage,this.storageKey)),f=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:O?.emailRedirectTo,body:{email:x,password:T,data:(s=O?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:O?.captchaToken},code_challenge:A,code_challenge_method:N},xform:ji})}else if("phone"in i){const{phone:x,password:T,options:O}=i;f=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:T,data:(l=O?.data)!==null&&l!==void 0?l:{},channel:(c=O?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:O?.captchaToken}},xform:ji})}else throw new yc("You must provide either an email or phone number and a password");const{data:p,error:y}=f;if(y||!p)return await dn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:y});const v=p.session,_=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:_,session:v},error:null})}catch(f){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Ae(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(i){try{let s;if("email"in i){const{email:f,password:p,options:y}=i;s=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:p,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Mv})}else if("phone"in i){const{phone:f,password:p,options:y}=i;s=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:p,gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Mv})}else throw new yc("You must provide either an email or phone number and a password");const{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const f=new ho;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(s){if(Ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(i){var s,l,c,f;return await this._handleProviderSignIn(i.provider,{redirectTo:(s=i.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=i.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=i.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(f=i.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async signInWithWeb3(i){const{chain:s}=i;switch(s){case"ethereum":return await this.signInWithEthereum(i);case"solana":return await this.signInWithSolana(i);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(i){var s,l,c,f,p,y,v,_,x,T,O;let A,N;if("message"in i)A=i.message,N=i.signature;else{const{chain:k,wallet:V,statement:Z,options:B}=i;let G;if(fn())if(typeof V=="object")G=V;else{const Re=window;if("ethereum"in Re&&typeof Re.ethereum=="object"&&"request"in Re.ethereum&&typeof Re.ethereum.request=="function")G=Re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=V}const se=new URL((s=B?.url)!==null&&s!==void 0?s:window.location.href),be=await G.request({method:"eth_requestAccounts"}).then(Re=>Re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!be||be.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ge=Hy(be[0]);let U=(l=B?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!U){const Re=await G.request({method:"eth_chainId"});U=zE(Re)}const ve={domain:se.host,address:ge,statement:Z,uri:se.href,version:"1",chainId:U,nonce:(c=B?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(p=(f=B?.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&p!==void 0?p:new Date,expirationTime:(y=B?.signInWithEthereum)===null||y===void 0?void 0:y.expirationTime,notBefore:(v=B?.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(_=B?.signInWithEthereum)===null||_===void 0?void 0:_.requestId,resources:(x=B?.signInWithEthereum)===null||x===void 0?void 0:x.resources};A=DE(ve),N=await G.request({method:"personal_sign",params:[ME(A),ge]})}try{const{data:k,error:V}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:N},!((T=i.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(O=i.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:ji});if(V)throw V;if(!k||!k.session||!k.user){const Z=new ho;return this._returnResult({data:{user:null,session:null},error:Z})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:V})}catch(k){if(Ae(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(i){var s,l,c,f,p,y,v,_,x,T,O,A;let N,k;if("message"in i)N=i.message,k=i.signature;else{const{chain:V,wallet:Z,statement:B,options:G}=i;let se;if(fn())if(typeof Z=="object")se=Z;else{const ge=window;if("solana"in ge&&typeof ge.solana=="object"&&("signIn"in ge.solana&&typeof ge.solana.signIn=="function"||"signMessage"in ge.solana&&typeof ge.solana.signMessage=="function"))se=ge.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Z!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");se=Z}const be=new URL((s=G?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in se&&se.signIn){const ge=await se.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},G?.signInWithSolana),{version:"1",domain:be.host,uri:be.href}),B?{statement:B}:null));let U;if(Array.isArray(ge)&&ge[0]&&typeof ge[0]=="object")U=ge[0];else if(ge&&typeof ge=="object"&&"signedMessage"in ge&&"signature"in ge)U=ge;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)N=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),k=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in se)||typeof se.signMessage!="function"||!("publicKey"in se)||typeof se!="object"||!se.publicKey||!("toBase58"in se.publicKey)||typeof se.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${be.host} wants you to sign in with your Solana account:`,se.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${be.href}`,`Issued At: ${(c=(l=G?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((f=G?.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${G.signInWithSolana.notBefore}`]:[],...!((p=G?.signInWithSolana)===null||p===void 0)&&p.expirationTime?[`Expiration Time: ${G.signInWithSolana.expirationTime}`]:[],...!((y=G?.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${G.signInWithSolana.chainId}`]:[],...!((v=G?.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${G.signInWithSolana.nonce}`]:[],...!((_=G?.signInWithSolana)===null||_===void 0)&&_.requestId?[`Request ID: ${G.signInWithSolana.requestId}`]:[],...!((T=(x=G?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||T===void 0)&&T.length?["Resources",...G.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const ge=await se.signMessage(new TextEncoder().encode(N),"utf8");if(!ge||!(ge instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=ge}}try{const{data:V,error:Z}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:ps(k)},!((O=i.options)===null||O===void 0)&&O.captchaToken?{gotrue_meta_security:{captcha_token:(A=i.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:ji});if(Z)throw Z;if(!V||!V.session||!V.user){const B=new ho;return this._returnResult({data:{user:null,session:null},error:B})}return V.session&&(await this._saveSession(V.session),await this._notifyAllSubscribers("SIGNED_IN",V.session)),this._returnResult({data:Object.assign({},V),error:Z})}catch(V){if(Ae(V))return this._returnResult({data:{user:null,session:null},error:V});throw V}}async _exchangeCodeForSession(i){const s=await cs(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(s??"").split("/");try{if(!l&&this.flowType==="pkce")throw new tE;const{data:f,error:p}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:l},xform:ji});if(await dn(this.storage,`${this.storageKey}-code-verifier`),p)throw p;if(!f||!f.session||!f.user){const y=new ho;return this._returnResult({data:{user:null,session:null,redirectType:null},error:y})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:c??null}),error:p})}catch(f){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Ae(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(i){try{const{options:s,provider:l,token:c,access_token:f,nonce:p}=i,y=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:f,nonce:p,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ji}),{data:v,error:_}=y;if(_)return this._returnResult({data:{user:null,session:null},error:_});if(!v||!v.session||!v.user){const x=new ho;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:v,error:_})}catch(s){if(Ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(i){var s,l,c,f,p;try{if("email"in i){const{email:y,options:v}=i;let _=null,x=null;this.flowType==="pkce"&&([_,x]=await fo(this.storage,this.storageKey));const{error:T}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(s=v?.data)!==null&&s!==void 0?s:{},create_user:(l=v?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:_,code_challenge_method:x},redirectTo:v?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:T})}if("phone"in i){const{phone:y,options:v}=i,{data:_,error:x}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(c=v?.data)!==null&&c!==void 0?c:{},create_user:(f=v?.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},channel:(p=v?.channel)!==null&&p!==void 0?p:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:_?.message_id},error:x})}throw new yc("You must provide either an email or phone number.")}catch(y){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Ae(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async verifyOtp(i){var s,l;try{let c,f;"options"in i&&(c=(s=i.options)===null||s===void 0?void 0:s.redirectTo,f=(l=i.options)===null||l===void 0?void 0:l.captchaToken);const{data:p,error:y}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:f}}),redirectTo:c,xform:ji});if(y)throw y;if(!p)throw new Error("An error occurred on token verification.");const v=p.session,_=p.user;return v?.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),this._returnResult({data:{user:_,session:v},error:null})}catch(c){if(Ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(i){var s,l,c,f,p;try{let y=null,v=null;this.flowType==="pkce"&&([y,v]=await fo(this.storage,this.storageKey));const _=await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(l=(s=i.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=i?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:y,code_challenge_method:v}),headers:this.headers,xform:CE});return!((f=_.data)===null||f===void 0)&&f.url&&fn()&&!(!((p=i.options)===null||p===void 0)&&p.skipBrowserRedirect)&&window.location.assign(_.data.url),this._returnResult(_)}catch(y){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Ae(y))return this._returnResult({data:null,error:y});throw y}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:s},error:l}=i;if(l)throw l;if(!s)throw new Qn;const{error:c}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(i){if(Ae(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async resend(i){try{const s=`${this.url}/resend`;if("email"in i){const{email:l,type:c,options:f}=i,{error:p}=await De(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}else if("phone"in i){const{phone:l,type:c,options:f}=i,{data:p,error:y}=await De(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:f?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:y})}throw new yc("You must provide either an email or phone number and a type")}catch(s){if(Ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(i,s){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await i(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const s=await cs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?i=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const l=i.expires_at?i.expires_at*1e3-Date.now()<Fd:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",i.expires_at),!l){if(this.userStorage){const p=await cs(this.userStorage,this.storageKey+"-user");p?.user?i.user=p.user:i.user=Jd()}if(this.storage.isServer&&i.user&&!i.user.__isUserNotAvailableProxy){const p={value:this.suppressGetSessionWarning};i.user=SE(i.user,p),p.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:i},error:null}}const{data:c,error:f}=await this._callRefreshToken(i.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(i){if(i)return await this._getUser(i);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(i){try{return i?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Tr}):await this._useSession(async s=>{var l,c,f;const{data:p,error:y}=s;if(y)throw y;return!(!((l=p.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qn}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0,xform:Tr})})}catch(s){if(Ae(s))return Qx(s)&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(i,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,s))}async _updateUser(i,s={}){try{return await this._useSession(async l=>{const{data:c,error:f}=l;if(f)throw f;if(!c.session)throw new Qn;const p=c.session;let y=null,v=null;this.flowType==="pkce"&&i.email!=null&&([y,v]=await fo(this.storage,this.storageKey));const{data:_,error:x}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:y,code_challenge_method:v}),jwt:p.access_token,xform:Tr});if(x)throw x;return p.user=_.user,await this._saveSession(p),await this._notifyAllSubscribers("USER_UPDATED",p),this._returnResult({data:{user:p.user},error:null})})}catch(l){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Ae(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Qn;const s=Date.now()/1e3;let l=s,c=!0,f=null;const{payload:p}=Wd(i.access_token);if(p.exp&&(l=p.exp,c=l<=s),c){const{data:y,error:v}=await this._callRefreshToken(i.refresh_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!y)return{data:{user:null,session:null},error:null};f=y}else{const{data:y,error:v}=await this._getUser(i.access_token);if(v)throw v;f={access_token:i.access_token,refresh_token:i.refresh_token,user:y.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(s){if(Ae(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async s=>{var l;if(!i){const{data:p,error:y}=s;if(y)throw y;i=(l=p.session)!==null&&l!==void 0?l:void 0}if(!i?.refresh_token)throw new Qn;const{data:c,error:f}=await this._callRefreshToken(i.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(Ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(i,s){try{if(!fn())throw new _c("No browser detected.");if(i.error||i.error_description||i.error_code)throw new _c(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ov("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _c("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new Ov("No code detected.");const{data:B,error:G}=await this._exchangeCodeForSession(i.code);if(G)throw G;const se=new URL(window.location.href);return se.searchParams.delete("code"),window.history.replaceState(window.history.state,"",se.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:f,refresh_token:p,expires_in:y,expires_at:v,token_type:_}=i;if(!f||!y||!p||!_)throw new _c("No session defined in URL");const x=Math.round(Date.now()/1e3),T=parseInt(y);let O=x+T;v&&(O=parseInt(v));const A=O-x;A*1e3<=_o&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${T}s`);const N=O-T;x-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,O,x):x-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,O,x);const{data:k,error:V}=await this._getUser(f);if(V)throw V;const Z={provider_token:l,provider_refresh_token:c,access_token:f,expires_in:T,expires_at:O,refresh_token:p,token_type:_,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Z,redirectType:i.type},error:null})}catch(l){if(Ae(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(i){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),i):!!(i.access_token||i.error_description)}async _isPKCECallback(i){const s=await cs(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&s)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:c,error:f}=s;if(f)return this._returnResult({error:f});const p=(l=c.session)===null||l===void 0?void 0:l.access_token;if(p){const{error:y}=await this.admin.signOut(p,i);if(y&&!(Jx(y)&&(y.status===404||y.status===401||y.status===403)))return this._returnResult({error:y})}return i!=="others"&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(i){const s=lE(),l={id:s,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(i){return await this._useSession(async s=>{var l,c;try{const{data:{session:f},error:p}=s;if(p)throw p;await((l=this.stateChangeEmitters.get(i))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",i,"session",f)}catch(f){await((c=this.stateChangeEmitters.get(i))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",f),console.error(f)}})}async resetPasswordForEmail(i,s={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await fo(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(f){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Ae(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var i;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(i=s.user.identities)!==null&&i!==void 0?i:[]},error:null})}catch(s){if(Ae(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(i){return"token"in i?this.linkIdentityIdToken(i):this.linkIdentityOAuth(i)}async linkIdentityOAuth(i){var s;try{const{data:l,error:c}=await this._useSession(async f=>{var p,y,v,_,x;const{data:T,error:O}=f;if(O)throw O;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(p=i.options)===null||p===void 0?void 0:p.redirectTo,scopes:(y=i.options)===null||y===void 0?void 0:y.scopes,queryParams:(v=i.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",A,{headers:this.headers,jwt:(x=(_=T.session)===null||_===void 0?void 0:_.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return fn()&&!(!((s=i.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:i.provider,url:l?.url},error:null})}catch(l){if(Ae(l))return this._returnResult({data:{provider:i.provider,url:null},error:l});throw l}}async linkIdentityIdToken(i){return await this._useSession(async s=>{var l;try{const{error:c,data:{session:f}}=s;if(c)throw c;const{options:p,provider:y,token:v,access_token:_,nonce:x}=i,T=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=f?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:y,id_token:v,access_token:_,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:ji}),{data:O,error:A}=T;return A?this._returnResult({data:{user:null,session:null},error:A}):!O||!O.session||!O.user?this._returnResult({data:{user:null,session:null},error:new ho}):(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("USER_UPDATED",O.session)),this._returnResult({data:O,error:A}))}catch(c){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(i){try{return await this._useSession(async s=>{var l,c;const{data:f,error:p}=s;if(p)throw p;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(c=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(Ae(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(i){const s=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await dE(async c=>(c>0&&await hE(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:ji})),(c,f)=>{const p=200*Math.pow(2,c);return f&&Xd(f)&&Date.now()+p-l<_o})}catch(l){if(this._debug(s,"error",l),Ae(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(s,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",s,"url",l),fn()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:i,url:l},error:null}}async _recoverAndRefresh(){var i,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await cs(this.storage,this.storageKey);if(c&&this.userStorage){let p=await cs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!p&&(p={user:c.user},await bo(this.userStorage,this.storageKey+"-user",p)),c.user=(i=p?.user)!==null&&i!==void 0?i:Jd()}else if(c&&!c.user&&!c.user){const p=await cs(this.storage,this.storageKey+"-user");p&&p?.user?(c.user=p.user,await dn(this.storage,this.storageKey+"-user"),await bo(this.storage,this.storageKey,c)):c.user=Jd()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const f=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Fd;if(this._debug(l,`session has${f?"":" not"} expired with margin of ${Fd}s`),f){if(this.autoRefreshToken&&c.refresh_token){const{error:p}=await this._callRefreshToken(c.refresh_token);p&&(console.error(p),Xd(p)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",p),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:p,error:y}=await this._getUser(c.access_token);!y&&p?.user?(c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(p){console.error("Error getting user data:",p),this._debug(l,"error getting user data, skipping SIGNED_IN notification",p)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(i){var s,l;if(!i)throw new Qn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Pc;const{data:f,error:p}=await this._refreshAccessToken(i);if(p)throw p;if(!f.session)throw new Qn;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const y={data:f.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(f){if(this._debug(c,"error",f),Ae(f)){const p={data:null,error:f};return Xd(f)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(p),p}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(f),f}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(i,s,l=!0){const c=`#_notifyAllSubscribers(${i})`;this._debug(c,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:i,session:s});const f=[],p=Array.from(this.stateChangeEmitters.values()).map(async y=>{try{await y.callback(i,s)}catch(v){f.push(v)}});if(await Promise.all(p),f.length>0){for(let y=0;y<f.length;y+=1)console.error(f[y]);throw f[0]}}finally{this._debug(c,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0,await dn(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},i),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await bo(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const f=jv(c);await bo(this.storage,this.storageKey,f)}else{const c=jv(s);await bo(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await dn(this.storage,this.storageKey),await dn(this.storage,this.storageKey+"-code-verifier"),await dn(this.storage,this.storageKey+"-user"),this.userStorage&&await dn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&fn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",i)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),_o);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-i)/_o);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${_o}ms, refresh threshold is ${ff} ticks`),c<=ff&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof By)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const s=`#_onVisibilityChanged(${i})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,s,l){const c=[`provider=${encodeURIComponent(s)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[f,p]=await fo(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(p)}`});c.push(y.toString())}if(l?.queryParams){const f=new URLSearchParams(l.queryParams);c.push(f.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${i}?${c.join("&")}`}async _unenroll(i){try{return await this._useSession(async s=>{var l;const{data:c,error:f}=s;return f?this._returnResult({data:null,error:f}):await De(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(Ae(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(i){try{return await this._useSession(async s=>{var l,c;const{data:f,error:p}=s;if(p)return this._returnResult({data:null,error:p});const y=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:i.factorType==="totp"?{issuer:i.issuer}:{}),{data:v,error:_}=await De(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(l=f?.session)===null||l===void 0?void 0:l.access_token});return _?this._returnResult({data:null,error:_}):(i.factorType==="totp"&&v.type==="totp"&&(!((c=v?.totp)===null||c===void 0)&&c.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),this._returnResult({data:v,error:null}))})}catch(s){if(Ae(s))return this._returnResult({data:null,error:s});throw s}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:c,error:f}=s;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({challenge_id:i.challengeId},"webauthn"in i?{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_response:i.webauthn.type==="create"?qE(i.webauthn.credential_response):ZE(i.webauthn.credential_response)})}:{code:i.code}),{data:y,error:v}=await De(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:p,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return v?this._returnResult({data:null,error:v}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+y.expires_in},y)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",y),this._returnResult({data:y,error:v}))})}catch(s){if(Ae(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:c,error:f}=s;if(f)return this._returnResult({data:null,error:f});const p=await De(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:i,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});if(p.error)return p;const{data:y}=p;if(y.type!=="webauthn")return{data:y,error:null};switch(y.webauthn.type){case"create":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:HE(y.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:IE(y.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(Ae(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(i){const{data:s,error:l}=await this._challenge({factorId:i.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:i.factorId,challengeId:s.id,code:i.code})}async _listFactors(){var i;const{data:{user:s},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const f of(i=s?.factors)!==null&&i!==void 0?i:[])c.all.push(f),f.status==="verified"&&c[f.factor_type].push(f);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var i,s;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Wd(l.access_token);let p=null;f.aal&&(p=f.aal);let y=p;((s=(i=l.user.factors)===null||i===void 0?void 0:i.filter(x=>x.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(y="aal2");const _=f.amr||[];return{data:{currentLevel:p,nextLevel:y,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(i){try{return await this._useSession(async s=>{const{data:{session:l},error:c}=s;return c?this._returnResult({data:null,error:c}):l?await De(this.fetch,"GET",`${this.url}/oauth/authorizations/${i}`,{headers:this.headers,jwt:l.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new Qn})})}catch(s){if(Ae(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(i,s){try{return await this._useSession(async l=>{const{data:{session:c},error:f}=l;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new Qn});const p=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${i}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:y=>({data:y,error:null})});return p.data&&p.data.redirect_url&&fn()&&!s?.skipBrowserRedirect&&window.location.assign(p.data.redirect_url),p})}catch(l){if(Ae(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(i,s){try{return await this._useSession(async l=>{const{data:{session:c},error:f}=l;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new Qn});const p=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${i}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:y=>({data:y,error:null})});return p.data&&p.data.redirect_url&&fn()&&!s?.skipBrowserRedirect&&window.location.assign(p.data.redirect_url),p})}catch(l){if(Ae(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async i=>{const{data:{session:s},error:l}=i;return l?this._returnResult({data:null,error:l}):s?await De(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Qn})})}catch(i){if(Ae(i))return this._returnResult({data:null,error:i});throw i}}async _revokeOAuthGrant(i){try{return await this._useSession(async s=>{const{data:{session:l},error:c}=s;return c?this._returnResult({data:null,error:c}):l?(await De(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:i.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qn})})}catch(s){if(Ae(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(i,s={keys:[]}){let l=s.keys.find(y=>y.kid===i);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(y=>y.kid===i),l&&this.jwks_cached_at+Xx>c)return l;const{data:f,error:p}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(p)throw p;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=c,l=f.keys.find(y=>y.kid===i),!l)?null:l}async getClaims(i,s={}){try{let l=i;if(!l){const{data:A,error:N}=await this.getSession();if(N||!A.session)return this._returnResult({data:null,error:N});l=A.session.access_token}const{header:c,payload:f,signature:p,raw:{header:y,payload:v}}=Wd(l);s?.allowExpired||_E(f.exp);const _=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!_){const{error:A}=await this.getUser(l);if(A)throw A;return{data:{claims:f,header:c,signature:p},error:null}}const x=bE(c.alg),T=await crypto.subtle.importKey("jwk",_,x,!0,["verify"]);if(!await crypto.subtle.verify(x,T,p,sE(`${y}.${v}`)))throw new gf("Invalid JWT signature");return{data:{claims:f,header:c,signature:p},error:null}}catch(l){if(Ae(l))return this._returnResult({data:null,error:l});throw l}}}Zl.nextInstanceID={};const JE=Zl,QE="2.89.0";let kl="";typeof Deno<"u"?kl="deno":typeof document<"u"?kl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kl="react-native":kl="node";const eT={"X-Client-Info":`supabase-js-${kl}/${QE}`},tT={headers:eT},nT={schema:"public"},iT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aT={};function Gl(a){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Gl(a)}function rT(a,i){if(Gl(a)!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var l=s.call(a,i);if(Gl(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}function sT(a){var i=rT(a,"string");return Gl(i)=="symbol"?i:i+""}function oT(a,i,s){return(i=sT(i))in a?Object.defineProperty(a,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[i]=s,a}function Bv(a,i){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);i&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),s.push.apply(s,l)}return s}function qt(a){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?Bv(Object(s),!0).forEach(function(l){oT(a,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Bv(Object(s)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(s,l))})}return a}const lT=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),uT=()=>Headers,cT=(a,i,s)=>{const l=lT(s),c=uT();return async(f,p)=>{var y;const v=(y=await i())!==null&&y!==void 0?y:a;let _=new c(p?.headers);return _.has("apikey")||_.set("apikey",a),_.has("Authorization")||_.set("Authorization",`Bearer ${v}`),l(f,qt(qt({},p),{},{headers:_}))}};function hT(a){return a.endsWith("/")?a:a+"/"}function dT(a,i){var s,l;const{db:c,auth:f,realtime:p,global:y}=a,{db:v,auth:_,realtime:x,global:T}=i,O={db:qt(qt({},v),c),auth:qt(qt({},_),f),realtime:qt(qt({},x),p),storage:{},global:qt(qt(qt({},T),y),{},{headers:qt(qt({},(s=T?.headers)!==null&&s!==void 0?s:{}),(l=y?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return a.accessToken?O.accessToken=a.accessToken:delete O.accessToken,O}function fT(a){const i=a?.trim();if(!i)throw new Error("supabaseUrl is required.");if(!i.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hT(i))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mT=class extends JE{constructor(a){super(a)}},pT=class{constructor(a,i,s){var l,c;this.supabaseUrl=a,this.supabaseKey=i;const f=fT(a);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,y={db:nT,realtime:aT,auth:qt(qt({},iT),{},{storageKey:p}),global:tT},v=dT(s??{},y);if(this.storageKey=(l=v.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken)this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(x,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}});else{var _;this.auth=this._initSupabaseAuthClient((_=v.auth)!==null&&_!==void 0?_:{},this.headers,v.global.fetch)}this.fetch=cT(i,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(qt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new YS(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new Vx(this.storageUrl.href,this.headers,this.fetch,s?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new ZS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,i={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,i,s)}channel(a,i={config:{}}){return this.realtime.channel(a,i)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a=this,i,s;if(a.accessToken)return await a.accessToken();const{data:l}=await a.auth.getSession();return(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:a.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:i,detectSessionInUrl:s,storage:l,userStorage:c,storageKey:f,flowType:p,lock:y,debug:v,throwOnError:_},x,T){const O={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mT({url:this.authUrl.href,headers:qt(qt({},O),x),storageKey:f,autoRefreshToken:a,persistSession:i,detectSessionInUrl:s,storage:l,userStorage:c,flowType:p,lock:y,debug:v,throwOnError:_,fetch:T,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new hx(this.realtimeUrl.href,qt(qt({},a),{},{params:qt(qt({},{apikey:this.supabaseKey}),a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,i)=>{this._handleTokenChanged(a,"CLIENT",i?.access_token)})}_handleTokenChanged(a,i,s){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const gT=(a,i,s)=>new pT(a,i,s);function vT(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const i=a.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}vT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yT="https://snhfncaezwbuipeheqok.supabase.co",_T="sb_publishable_TnbBWpvKEUAnSvJkKLQMkw_5HTqh-g_",na=gT(yT,_T),mn=NS()(BS((a,i)=>({user:null,packages:[],lockers:[],couriers:[],login:async(s,l,c)=>{const{data:f,error:p}=await na.from("users").select("*").eq("email",s).eq("role",c).eq("password_hash",l).single();return p||!f?(console.error("Login failed:",p),!1):(a({user:f}),i().fetchData(),!0)},register:async(s,l,c,f)=>{const{error:p}=await na.from("users").insert([{name:s,email:l,role:f,password_hash:c}]);return p?(console.error("Registration failed:",p),!1):!0},logout:()=>{a({user:null,packages:[]}),localStorage.removeItem("outpost-storage")},fetchData:async()=>{const{data:s}=await na.from("users").select("*").eq("role","courier");s&&a({couriers:s});const{data:l,error:c}=await na.from("lockers").select("*");if(c&&console.error("Error fetching lockers:",c),l){console.log("Fetched lockers:",l);const y=l.map(v=>({...v,coordinates:[Number(v.latitude),Number(v.longitude)],courierId:v.courier_id}));a({lockers:y})}const{data:f,error:p}=await na.from("packages").select("*, sender:sender_id(email)").order("created_at",{ascending:!1});if(p&&console.error("Error fetching packages:",p),f){const y=f.map(v=>({id:v.id,trackingNumber:v.tracking_number,pickupCode:v.pickup_code,senderId:v.sender_id,senderEmail:v.sender?.email,receiverEmail:v.receiver_email,lockerId:v.locker_id,destinationLockerId:v.destination_locker_id,size:v.size,status:v.status,history:[],createdAt:v.created_at}));a({packages:y})}},addPackage:async s=>{const{error:l}=await na.from("packages").insert([{tracking_number:s.trackingNumber,pickup_code:s.pickupCode,sender_id:s.senderId,receiver_email:s.receiverEmail,locker_id:s.lockerId,destination_locker_id:s.destinationLockerId,size:s.size,status:"created"}]);l&&(console.error("Error adding package:",l),alert("Error creating package: "+l.message)),l||i().fetchData()},updatePackageStatus:async(s,l)=>{await na.from("packages").update({status:l}).eq("id",s),i().fetchData()},checkUserExists:async s=>{const{count:l,error:c}=await na.from("users").select("*",{count:"exact",head:!0}).eq("email",s);return c?(console.error("Error checking user:",c),!1):l!==null&&l>0},submitIssueReport:async s=>{const{error:l}=await na.from("issue_reports").insert([{user_id:s.userId,tracking_number:s.trackingNumber,issue_type:s.issueType,description:s.description,status:"open"}]);return l?(console.error("Error submitting report:",l),!1):!0},updateUser:async(s,l)=>{const c={};l.name&&(c.name=l.name),l.password&&(c.password_hash=l.password);const{error:f}=await na.from("users").update(c).eq("id",s);if(f)return console.error("Update failed:",f),!1;const p=i().user;return p&&p.id===s&&a({user:{...p,name:l.name||p.name}}),!0}}),{name:"outpost-storage",partialize:a=>({user:a.user})}));function bT(){const{user:a,logout:i,fetchData:s}=mn(),l=Ma(),c=vs();D.useEffect(()=>{s()},[]);const f=()=>{i(),c("/")},p=l.pathname.startsWith("/client"),y=l.pathname.startsWith("/courier");return S.jsxs("div",{style:{maxWidth:"95%",margin:"0 auto",padding:"1rem"},children:[S.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 0",marginBottom:"2rem",borderBottom:"1px solid var(--border)"},children:[S.jsx(Bn,{to:a?a.role==="client"?"/client/dashboard":"/courier/dashboard":"/",style:{textDecoration:"none"},children:S.jsx(Kw,{})}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[S.jsx(kS,{}),a?S.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[S.jsxs("span",{children:["Hello, ",a.name]}),S.jsx("button",{onClick:()=>c(`/${a.role}/settings`),style:{padding:"0.4rem",display:"flex",alignItems:"center"},title:"Settings",children:S.jsx(SS,{size:18})}),S.jsx("button",{onClick:f,children:"Logout"})]}):S.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:!p&&!y&&S.jsxs(S.Fragment,{children:[S.jsx(Bn,{to:"/client/login",children:S.jsx("button",{children:"Client Zone"})}),S.jsx(Bn,{to:"/courier/login",children:S.jsx("button",{className:"primary",children:"Courier Zone"})})]})})]})]}),S.jsx("main",{children:S.jsx(uw,{})}),S.jsx("footer",{style:{marginTop:"3rem",textAlign:"center",color:"var(--text-secondary)",fontSize:"0.8rem"},children:" 2026 OutPost. All rights reserved."})]})}function ia({children:a,requiredRole:i,redirectPath:s="/"}){const l=mn(c=>c.user);return l?i&&l.role!==i?S.jsx(Tc,{to:s,replace:!0}):S.jsx(S.Fragment,{children:a}):S.jsx(Tc,{to:s,replace:!0})}function wT(){const a=mn(i=>i.user);if(a){if(a.role==="client")return S.jsx(Tc,{to:"/client/dashboard",replace:!0});if(a.role==="courier")return S.jsx(Tc,{to:"/courier/dashboard",replace:!0})}return S.jsxs("div",{style:{textAlign:"center",padding:"4rem 0"},children:[S.jsx("h1",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"Fast Delivery, Happy People."}),S.jsx("p",{style:{fontSize:"1.2rem",color:"var(--text-secondary)",marginBottom:"3rem"},children:"Welcome to OutPost. Choose your portal to get started."}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},children:[S.jsx(Bn,{to:"/client/login",style:{textDecoration:"none",color:"inherit"},children:S.jsxs("div",{className:"card",style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",cursor:"pointer",transition:"transform 0.2s"},children:[S.jsx("div",{style:{padding:"2rem",backgroundColor:"var(--bg-main)",borderRadius:"50%"},children:S.jsx(Cc,{size:48,color:"var(--primary)"})}),S.jsx("h2",{children:"Client Zone"}),S.jsx("p",{children:"Send packages, track deliveries, and find lockers near you."}),S.jsx("button",{className:"primary",style:{width:"100%"},children:"Enter as Client"})]})}),S.jsx(Bn,{to:"/courier/login",style:{textDecoration:"none",color:"inherit"},children:S.jsxs("div",{className:"card",style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",cursor:"pointer",transition:"transform 0.2s"},children:[S.jsx("div",{style:{padding:"2rem",backgroundColor:"var(--bg-main)",borderRadius:"50%"},children:S.jsx(Ey,{size:48,color:"var(--primary)"})}),S.jsx("h2",{children:"Courier Zone"}),S.jsx("p",{children:"Manage deliveries, check locker status, and optimize your route."}),S.jsx("button",{className:"primary",style:{width:"100%"},children:"Enter as Courier"})]})})]})]})}function ST(){const[a,i]=D.useState(""),[s,l]=D.useState(""),[c,f]=D.useState(""),p=mn(_=>_.login),y=vs(),v=async _=>{_.preventDefault(),f(""),await p(a,s,"client")?y("/client/dashboard"):f("Login failed. Check your email, password, or connection.")};return S.jsxs("div",{style:{maxWidth:"400px",margin:"0 auto",textAlign:"center"},children:[S.jsx("h2",{children:"Client Login"}),c&&S.jsx("div",{style:{color:"var(--error)",marginBottom:"1rem"},children:c}),S.jsxs("form",{onSubmit:v,className:"card",style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsx("input",{type:"email",placeholder:"Enter email...",value:a,onChange:_=>i(_.target.value),required:!0}),S.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:_=>l(_.target.value),required:!0}),S.jsx("button",{type:"submit",className:"primary",children:"Login"})]}),S.jsxs("p",{style:{marginTop:"1rem"},children:["New here? ",S.jsx(Bn,{to:"/client/register",children:"Create an account"})]})]})}const Hv=({p:a,type:i})=>{const[s,l]=D.useState(!1),f={created:{bg:"#E2E8F0",color:"#1F2937"},picked_up:{bg:"#DBEAFE",color:"#1E40AF"},in_transit:{bg:"#FEF3C7",color:"#92400E"},delivered:{bg:"#D1FAE5",color:"#065F46"},collected:{bg:"#F3E8FF",color:"#6B21A8"}}[a.status]||{bg:"#E5E7EB",color:"#374151"};return S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",padding:"1rem",borderBottom:"1px solid var(--border)",position:"relative"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem"},children:a.trackingNumber}),S.jsx("span",{style:{padding:"0.2rem 0.5rem",borderRadius:"4px",backgroundColor:f.bg,color:f.color,fontSize:"0.75rem",fontWeight:800,textTransform:"uppercase"},children:a.status.replace("_"," ")})]}),S.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[S.jsx("strong",{children:new Date(a.createdAt).toLocaleDateString()}),i==="sent"?S.jsx(tS,{size:14}):S.jsx(xy,{size:14}),S.jsx("span",{children:i==="sent"?`To: ${a.receiverEmail}`:`From: ${a.senderEmail||"Unknown Sender"}`})]}),S.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"0.5rem"},children:[S.jsxs("span",{children:[a.lockerId,"  ",a.destinationLockerId||"?"]}),S.jsxs("span",{children:["Size: ",a.size||"-"]})]}),i==="received"&&S.jsx("div",{style:{marginTop:"0.5rem",borderTop:"1px dashed var(--border)",paddingTop:"0.5rem"},children:s?S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[S.jsx("span",{style:{fontWeight:"bold",fontSize:"1.2rem",color:"var(--text-main)"},children:a.pickupCode}),S.jsx("button",{onClick:()=>l(!1),style:{fontSize:"0.75rem",padding:"2px 8px",background:"transparent",border:"1px solid var(--border)",borderRadius:"4px",cursor:"pointer",color:"var(--text-secondary)"},children:"Hide"})]}):S.jsx("button",{onClick:()=>l(!0),style:{fontSize:"0.8rem",padding:"4px 10px",backgroundColor:"var(--primary)",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:600,color:"#000"},children:"Show Pickup Code"})})]})]})};function xT(){const{user:a,packages:i}=mn(),[s,l]=D.useState("all"),[c,f]=D.useState("all"),p=i.filter(x=>x.receiverEmail===a?.email&&x.status==="delivered").length,y=i.filter(x=>x.senderId===a?.id).filter(x=>s==="all"||x.status===s).sort((x,T)=>new Date(T.createdAt).getTime()-new Date(x.createdAt).getTime()),v=i.filter(x=>x.receiverEmail===a?.email).filter(x=>c==="all"||x.status===c).sort((x,T)=>new Date(T.createdAt).getTime()-new Date(x.createdAt).getTime()),_=({value:x,onChange:T})=>S.jsxs("select",{value:x,onChange:O=>T(O.target.value),style:{padding:"0.25rem",borderRadius:"4px",border:"1px solid var(--border)",fontSize:"0.85rem",width:"auto",maxWidth:"140px"},children:[S.jsx("option",{value:"all",children:"All"}),S.jsx("option",{value:"created",children:"Created"}),S.jsx("option",{value:"picked_up",children:"Picked Up"}),S.jsx("option",{value:"in_transit",children:"In Transit"}),S.jsx("option",{value:"delivered",children:"Delivered"}),S.jsx("option",{value:"collected",children:"Collected"})]});return S.jsxs("div",{children:[S.jsxs("div",{style:{marginBottom:"2rem"},children:[S.jsxs("h1",{style:{marginBottom:"0.5rem"},children:["Welcome, ",a?.name||"Guest"]}),S.jsxs("p",{style:{color:"var(--text-main)",fontSize:"1.1rem"},children:["You have ",S.jsx("strong",{style:{color:p>0?"var(--primary)":"inherit"},children:p})," package(s) ready to pick up."]})]}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"2rem",marginBottom:"4rem"},children:[S.jsx(Bn,{to:"/client/send",style:{textDecoration:"none",color:"inherit"},children:S.jsxs("div",{className:"card",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",cursor:"pointer",transition:"0.2s",height:"100%"},children:[S.jsx("div",{style:{marginBottom:"1rem",color:"var(--primary)"},children:S.jsx(mv,{size:40})}),S.jsx("h3",{children:"Send Package"}),S.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Create a new shipment"})]})}),S.jsx(Bn,{to:"/client/receive",style:{textDecoration:"none",color:"inherit"},children:S.jsxs("div",{className:"card",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",cursor:"pointer",transition:"0.2s",height:"100%"},children:[S.jsx("div",{style:{marginBottom:"1rem",color:"var(--primary)"},children:S.jsx(Cc,{size:40})}),S.jsx("h3",{children:"Receive Package"}),S.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Pickup with code"})]})}),S.jsx(Bn,{to:"/client/track",style:{textDecoration:"none",color:"inherit"},children:S.jsxs("div",{className:"card",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",cursor:"pointer",transition:"0.2s",height:"100%"},children:[S.jsx("div",{style:{marginBottom:"1rem",color:"var(--primary)"},children:S.jsx(_S,{size:40})}),S.jsx("h3",{children:"Track & Find"}),S.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Locate your parcel"})]})})]}),S.jsx("div",{style:{display:"flex",gap:"2rem",marginBottom:"2rem",flexWrap:"wrap"},children:S.jsx(Bn,{to:"/client/support",style:{flex:1,textDecoration:"none",minWidth:"200px"},children:S.jsx("button",{style:{width:"100%"},children:"Support & Ratings"})})}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"2rem"},children:[S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[S.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[S.jsx(mv,{size:24}),"Sent"]}),S.jsx(_,{value:s,onChange:l})]}),S.jsx("div",{className:"card",style:{minHeight:"300px",padding:0,overflow:"hidden"},children:y.length===0?S.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--text-secondary)"},children:"No sent packages."}):y.map(x=>S.jsx(Hv,{p:x,type:"sent"},x.id))})]}),S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[S.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[S.jsx(Cc,{size:24}),"Received"]}),S.jsx(_,{value:c,onChange:f})]}),S.jsx("div",{className:"card",style:{minHeight:"300px",padding:0,overflow:"hidden"},children:v.length===0?S.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--text-secondary)"},children:"No received packages."}):v.map(x=>S.jsx(Hv,{p:x,type:"received"},x.id))})]})]})]})}function ET(){const[a,i]=D.useState(""),[s,l]=D.useState(""),[c,f]=D.useState(""),p=mn(_=>_.login),y=vs(),v=async _=>{_.preventDefault(),f(""),await p(a,s,"courier")?y("/courier/dashboard"):f("Login failed. Check your email, password, or connection.")};return S.jsxs("div",{style:{maxWidth:"400px",margin:"0 auto",textAlign:"center"},children:[S.jsx("h2",{children:"Courier Login"}),c&&S.jsx("div",{style:{color:"var(--error)",marginBottom:"1rem"},children:c}),S.jsxs("form",{onSubmit:v,className:"card",style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsx("input",{type:"email",placeholder:"Courier ID (Email)...",value:a,onChange:_=>i(_.target.value),required:!0}),S.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:_=>l(_.target.value),required:!0}),S.jsx("button",{type:"submit",className:"primary",children:"Login"})]})]})}function qy(a,i){const s=D.useRef(i);D.useEffect(function(){i!==s.current&&a.attributionControl!=null&&(s.current!=null&&a.attributionControl.removeAttribution(s.current),i!=null&&a.attributionControl.addAttribution(i)),s.current=i},[a,i])}const TT=1;function CT(a){return Object.freeze({__version:TT,map:a})}function Zy(a,i){return Object.freeze({...a,...i})}const jf=D.createContext(null);function Uc(){const a=D.use(jf);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function Gy(a){function i(s,l){const{instance:c,context:f}=a(s).current;D.useImperativeHandle(l,()=>c);const{children:p}=s;return p==null?null:Cr.createElement(jf,{value:f},p)}return D.forwardRef(i)}function OT(a){function i(s,l){const[c,f]=D.useState(!1),{instance:p}=a(s,f).current;D.useImperativeHandle(l,()=>p),D.useEffect(function(){c&&p.update()},[p,c,s.children]);const y=p._contentNode;return y?wy.createPortal(s.children,y):null}return D.forwardRef(i)}function AT(a){function i(s,l){const{instance:c}=a(s).current;return D.useImperativeHandle(l,()=>c),null}return D.forwardRef(i)}function zf(a,i){const s=D.useRef(void 0);D.useEffect(function(){return i!=null&&a.instance.on(i),s.current=i,function(){s.current!=null&&a.instance.off(s.current),s.current=null}},[a,i])}function Bc(a,i){const s=a.pane??i.pane;return s?{...a,pane:s}:a}function RT(a,i){return function(l,c){const f=Uc(),p=a(Bc(l,f),f);return qy(f.map,l.attribution),zf(p.current,l.eventHandlers),i(p.current,f,l,c),p}}var jl={exports:{}};var LT=jl.exports,Iv;function kT(){return Iv||(Iv=1,(function(a,i){(function(s,l){l(i)})(LT,(function(s){var l="1.9.4";function c(n){var o,h,g,b;for(h=1,g=arguments.length;h<g;h++){b=arguments[h];for(o in b)n[o]=b[o]}return n}var f=Object.create||(function(){function n(){}return function(o){return n.prototype=o,new n}})();function p(n,o){var h=Array.prototype.slice;if(n.bind)return n.bind.apply(n,h.call(arguments,1));var g=h.call(arguments,2);return function(){return n.apply(o,g.length?g.concat(h.call(arguments)):arguments)}}var y=0;function v(n){return"_leaflet_id"in n||(n._leaflet_id=++y),n._leaflet_id}function _(n,o,h){var g,b,E,R;return R=function(){g=!1,b&&(E.apply(h,b),b=!1)},E=function(){g?b=arguments:(n.apply(h,arguments),setTimeout(R,o),g=!0)},E}function x(n,o,h){var g=o[1],b=o[0],E=g-b;return n===g&&h?n:((n-b)%E+E)%E+b}function T(){return!1}function O(n,o){if(o===!1)return n;var h=Math.pow(10,o===void 0?6:o);return Math.round(n*h)/h}function A(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function N(n){return A(n).split(/\s+/)}function k(n,o){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?f(n.options):{});for(var h in o)n.options[h]=o[h];return n.options}function V(n,o,h){var g=[];for(var b in n)g.push(encodeURIComponent(h?b.toUpperCase():b)+"="+encodeURIComponent(n[b]));return(!o||o.indexOf("?")===-1?"?":"&")+g.join("&")}var Z=/\{ *([\w_ -]+) *\}/g;function B(n,o){return n.replace(Z,function(h,g){var b=o[g];if(b===void 0)throw new Error("No value provided for variable "+h);return typeof b=="function"&&(b=b(o)),b})}var G=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function se(n,o){for(var h=0;h<n.length;h++)if(n[h]===o)return h;return-1}var be="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ge(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var U=0;function ve(n){var o=+new Date,h=Math.max(0,16-(o-U));return U=o+h,window.setTimeout(n,h)}var Re=window.requestAnimationFrame||ge("RequestAnimationFrame")||ve,st=window.cancelAnimationFrame||ge("CancelAnimationFrame")||ge("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function je(n,o,h){if(h&&Re===ve)n.call(o);else return Re.call(window,p(n,o))}function Ue(n){n&&st.call(window,n)}var Gt={__proto__:null,extend:c,create:f,bind:p,get lastId(){return y},stamp:v,throttle:_,wrapNum:x,falseFn:T,formatNum:O,trim:A,splitWords:N,setOptions:k,getParamString:V,template:B,isArray:G,indexOf:se,emptyImageUrl:be,requestFn:Re,cancelFn:st,requestAnimFrame:je,cancelAnimFrame:Ue};function Ye(){}Ye.extend=function(n){var o=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=o.__super__=this.prototype,g=f(h);g.constructor=o,o.prototype=g;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(o[b]=this[b]);return n.statics&&c(o,n.statics),n.includes&&(Ge(n.includes),c.apply(null,[g].concat(n.includes))),c(g,n),delete g.statics,delete g.includes,g.options&&(g.options=h.options?f(h.options):{},c(g.options,n.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,R=g._initHooks.length;E<R;E++)g._initHooks[E].call(this)}},o},Ye.include=function(n){var o=this.prototype.options;return c(this.prototype,n),n.options&&(this.prototype.options=o,this.mergeOptions(n.options)),this},Ye.mergeOptions=function(n){return c(this.prototype.options,n),this},Ye.addInitHook=function(n){var o=Array.prototype.slice.call(arguments,1),h=typeof n=="function"?n:function(){this[n].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Ge(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=G(n)?n:[n];for(var o=0;o<n.length;o++)n[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(n,o,h){if(typeof n=="object")for(var g in n)this._on(g,n[g],o);else{n=N(n);for(var b=0,E=n.length;b<E;b++)this._on(n[b],o,h)}return this},off:function(n,o,h){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var g in n)this._off(g,n[g],o);else{n=N(n);for(var b=arguments.length===1,E=0,R=n.length;E<R;E++)b?this._off(n[E]):this._off(n[E],o,h)}return this},_on:function(n,o,h,g){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(n,o,h)===!1){h===this&&(h=void 0);var b={fn:o,ctx:h};g&&(b.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(b)}},_off:function(n,o,h){var g,b,E;if(this._events&&(g=this._events[n],!!g)){if(arguments.length===1){if(this._firingCount)for(b=0,E=g.length;b<E;b++)g[b].fn=T;delete this._events[n];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var R=this._listens(n,o,h);if(R!==!1){var q=g[R];this._firingCount&&(q.fn=T,this._events[n]=g=g.slice()),g.splice(R,1)}}},fire:function(n,o,h){if(!this.listens(n,h))return this;var g=c({},o,{type:n,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var b=this._events[n];if(b){this._firingCount=this._firingCount+1||1;for(var E=0,R=b.length;E<R;E++){var q=b[E],W=q.fn;q.once&&this.off(n,W,q.ctx),W.call(q.ctx||this,g)}this._firingCount--}}return h&&this._propagateEvent(g),this},listens:function(n,o,h,g){typeof n!="string"&&console.warn('"string" type argument expected');var b=o;typeof o!="function"&&(g=!!o,b=void 0,h=void 0);var E=this._events&&this._events[n];if(E&&E.length&&this._listens(n,b,h)!==!1)return!0;if(g){for(var R in this._eventParents)if(this._eventParents[R].listens(n,o,h,g))return!0}return!1},_listens:function(n,o,h){if(!this._events)return!1;var g=this._events[n]||[];if(!o)return!!g.length;h===this&&(h=void 0);for(var b=0,E=g.length;b<E;b++)if(g[b].fn===o&&g[b].ctx===h)return b;return!1},once:function(n,o,h){if(typeof n=="object")for(var g in n)this._on(g,n[g],o,!0);else{n=N(n);for(var b=0,E=n.length;b<E;b++)this._on(n[b],o,h,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[v(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[v(n)],this},_propagateEvent:function(n){for(var o in this._eventParents)this._eventParents[o].fire(n.type,c({layer:n.target,propagatedFrom:n.target},n),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var ue=Ye.extend($);function ne(n,o,h){this.x=h?Math.round(n):n,this.y=h?Math.round(o):o}var Me=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(n){return this.clone()._add(he(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(he(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new ne(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new ne(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Me(this.x),this.y=Me(this.y),this},distanceTo:function(n){n=he(n);var o=n.x-this.x,h=n.y-this.y;return Math.sqrt(o*o+h*h)},equals:function(n){return n=he(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=he(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function he(n,o,h){return n instanceof ne?n:G(n)?new ne(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new ne(n.x,n.y):new ne(n,o,h)}function j(n,o){if(n)for(var h=o?[n,o]:n,g=0,b=h.length;g<b;g++)this.extend(h[g])}j.prototype={extend:function(n){var o,h;if(!n)return this;if(n instanceof ne||typeof n[0]=="number"||"x"in n)o=h=he(n);else if(n=Q(n),o=n.min,h=n.max,!o||!h)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=h.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(n){return he((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return he(this.min.x,this.max.y)},getTopRight:function(){return he(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var o,h;return typeof n[0]=="number"||n instanceof ne?n=he(n):n=Q(n),n instanceof j?(o=n.min,h=n.max):o=h=n,o.x>=this.min.x&&h.x<=this.max.x&&o.y>=this.min.y&&h.y<=this.max.y},intersects:function(n){n=Q(n);var o=this.min,h=this.max,g=n.min,b=n.max,E=b.x>=o.x&&g.x<=h.x,R=b.y>=o.y&&g.y<=h.y;return E&&R},overlaps:function(n){n=Q(n);var o=this.min,h=this.max,g=n.min,b=n.max,E=b.x>o.x&&g.x<h.x,R=b.y>o.y&&g.y<h.y;return E&&R},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var o=this.min,h=this.max,g=Math.abs(o.x-h.x)*n,b=Math.abs(o.y-h.y)*n;return Q(he(o.x-g,o.y-b),he(h.x+g,h.y+b))},equals:function(n){return n?(n=Q(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function Q(n,o){return!n||n instanceof j?n:new j(n,o)}function oe(n,o){if(n)for(var h=o?[n,o]:n,g=0,b=h.length;g<b;g++)this.extend(h[g])}oe.prototype={extend:function(n){var o=this._southWest,h=this._northEast,g,b;if(n instanceof de)g=n,b=n;else if(n instanceof oe){if(g=n._southWest,b=n._northEast,!g||!b)return this}else return n?this.extend(me(n)||le(n)):this;return!o&&!h?(this._southWest=new de(g.lat,g.lng),this._northEast=new de(b.lat,b.lng)):(o.lat=Math.min(g.lat,o.lat),o.lng=Math.min(g.lng,o.lng),h.lat=Math.max(b.lat,h.lat),h.lng=Math.max(b.lng,h.lng)),this},pad:function(n){var o=this._southWest,h=this._northEast,g=Math.abs(o.lat-h.lat)*n,b=Math.abs(o.lng-h.lng)*n;return new oe(new de(o.lat-g,o.lng-b),new de(h.lat+g,h.lng+b))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof de||"lat"in n?n=me(n):n=le(n);var o=this._southWest,h=this._northEast,g,b;return n instanceof oe?(g=n.getSouthWest(),b=n.getNorthEast()):g=b=n,g.lat>=o.lat&&b.lat<=h.lat&&g.lng>=o.lng&&b.lng<=h.lng},intersects:function(n){n=le(n);var o=this._southWest,h=this._northEast,g=n.getSouthWest(),b=n.getNorthEast(),E=b.lat>=o.lat&&g.lat<=h.lat,R=b.lng>=o.lng&&g.lng<=h.lng;return E&&R},overlaps:function(n){n=le(n);var o=this._southWest,h=this._northEast,g=n.getSouthWest(),b=n.getNorthEast(),E=b.lat>o.lat&&g.lat<h.lat,R=b.lng>o.lng&&g.lng<h.lng;return E&&R},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,o){return n?(n=le(n),this._southWest.equals(n.getSouthWest(),o)&&this._northEast.equals(n.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function le(n,o){return n instanceof oe?n:new oe(n,o)}function de(n,o,h){if(isNaN(n)||isNaN(o))throw new Error("Invalid LatLng object: ("+n+", "+o+")");this.lat=+n,this.lng=+o,h!==void 0&&(this.alt=+h)}de.prototype={equals:function(n,o){if(!n)return!1;n=me(n);var h=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return h<=(o===void 0?1e-9:o)},toString:function(n){return"LatLng("+O(this.lat,n)+", "+O(this.lng,n)+")"},distanceTo:function(n){return dt.distance(this,me(n))},wrap:function(){return dt.wrapLatLng(this)},toBounds:function(n){var o=180*n/40075017,h=o/Math.cos(Math.PI/180*this.lat);return le([this.lat-o,this.lng-h],[this.lat+o,this.lng+h])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function me(n,o,h){return n instanceof de?n:G(n)&&typeof n[0]!="object"?n.length===3?new de(n[0],n[1],n[2]):n.length===2?new de(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new de(n.lat,"lng"in n?n.lng:n.lon,n.alt):o===void 0?null:new de(n,o,h)}var He={latLngToPoint:function(n,o){var h=this.projection.project(n),g=this.scale(o);return this.transformation._transform(h,g)},pointToLatLng:function(n,o){var h=this.scale(o),g=this.transformation.untransform(n,h);return this.projection.unproject(g)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var o=this.projection.bounds,h=this.scale(n),g=this.transformation.transform(o.min,h),b=this.transformation.transform(o.max,h);return new j(g,b)},infinite:!1,wrapLatLng:function(n){var o=this.wrapLng?x(n.lng,this.wrapLng,!0):n.lng,h=this.wrapLat?x(n.lat,this.wrapLat,!0):n.lat,g=n.alt;return new de(h,o,g)},wrapLatLngBounds:function(n){var o=n.getCenter(),h=this.wrapLatLng(o),g=o.lat-h.lat,b=o.lng-h.lng;if(g===0&&b===0)return n;var E=n.getSouthWest(),R=n.getNorthEast(),q=new de(E.lat-g,E.lng-b),W=new de(R.lat-g,R.lng-b);return new oe(q,W)}},dt=c({},He,{wrapLng:[-180,180],R:6371e3,distance:function(n,o){var h=Math.PI/180,g=n.lat*h,b=o.lat*h,E=Math.sin((o.lat-n.lat)*h/2),R=Math.sin((o.lng-n.lng)*h/2),q=E*E+Math.cos(g)*Math.cos(b)*R*R,W=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*W}}),St=6378137,bi={R:St,MAX_LATITUDE:85.0511287798,project:function(n){var o=Math.PI/180,h=this.MAX_LATITUDE,g=Math.max(Math.min(h,n.lat),-h),b=Math.sin(g*o);return new ne(this.R*n.lng*o,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(n){var o=180/Math.PI;return new de((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*o,n.x*o/this.R)},bounds:(function(){var n=St*Math.PI;return new j([-n,-n],[n,n])})()};function Ni(n,o,h,g){if(G(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=o,this._c=h,this._d=g}Ni.prototype={transform:function(n,o){return this._transform(n.clone(),o)},_transform:function(n,o){return o=o||1,n.x=o*(this._a*n.x+this._b),n.y=o*(this._c*n.y+this._d),n},untransform:function(n,o){return o=o||1,new ne((n.x/o-this._b)/this._a,(n.y/o-this._d)/this._c)}};function xt(n,o,h,g){return new Ni(n,o,h,g)}var Hn=c({},dt,{code:"EPSG:3857",projection:bi,transformation:(function(){var n=.5/(Math.PI*bi.R);return xt(n,.5,-n,.5)})()}),ai=c({},Hn,{code:"EPSG:900913"});function Na(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Cn(n,o){var h="",g,b,E,R,q,W;for(g=0,E=n.length;g<E;g++){for(q=n[g],b=0,R=q.length;b<R;b++)W=q[b],h+=(b?"L":"M")+W.x+" "+W.y;h+=o?X.svg?"z":"x":""}return h||"M0 0"}var Rr=document.documentElement.style,sa="ActiveXObject"in window,Pa=sa&&!document.addEventListener,Ua="msLaunchUri"in navigator&&!("documentMode"in document),oa=K("webkit"),ys=K("android"),_s=K("android 2")||K("android 3"),zt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),la=ys&&K("Google")&&zt<537&&!("AudioNode"in window),ua=!!window.opera,ca=!Ua&&K("chrome"),on=K("gecko")&&!oa&&!ua&&!sa,In=!ca&&K("safari"),Ba=K("phantom"),bs="OTransition"in Rr,Lr=navigator.platform.indexOf("Win")===0,Pi=sa&&"transition"in Rr,_t="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_s,On="MozPerspective"in Rr,nn=!window.L_DISABLE_3D&&(Pi||_t||On)&&!bs&&!Ba,Ui=typeof orientation<"u"||K("mobile"),Oo=Ui&&oa,ws=Ui&&_t,ri=!window.PointerEvent&&window.MSPointerEvent,Bi=!!(window.PointerEvent||ri),wi="ontouchstart"in window||!!window.TouchEvent,Si=!window.L_NO_TOUCH&&(wi||Bi),ha=Ui&&ua,da=Ui&&on,Ss=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,fa=(function(){var n=!1;try{var o=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",T,o),window.removeEventListener("testPassiveEventSupport",T,o)}catch{}return n})(),Hi=(function(){return!!document.createElement("canvas").getContext})(),si=!!(document.createElementNS&&Na("svg").createSVGRect),Ao=!!si&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),xs=!si&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var o=n.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}})(),z=navigator.platform.indexOf("Mac")===0,H=navigator.platform.indexOf("Linux")===0;function K(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var X={ie:sa,ielt9:Pa,edge:Ua,webkit:oa,android:ys,android23:_s,androidStock:la,opera:ua,chrome:ca,gecko:on,safari:In,phantom:Ba,opera12:bs,win:Lr,ie3d:Pi,webkit3d:_t,gecko3d:On,any3d:nn,mobile:Ui,mobileWebkit:Oo,mobileWebkit3d:ws,msPointer:ri,pointer:Bi,touch:Si,touchNative:wi,mobileOpera:ha,mobileGecko:da,retina:Ss,passiveEvents:fa,canvas:Hi,svg:si,vml:xs,inlineSvg:Ao,mac:z,linux:H},ce=X.msPointer?"MSPointerDown":"pointerdown",xe=X.msPointer?"MSPointerMove":"pointermove",ye=X.msPointer?"MSPointerUp":"pointerup",pe=X.msPointer?"MSPointerCancel":"pointercancel",_e={touchstart:ce,touchmove:xe,touchend:ye,touchcancel:pe},Se={touchstart:pn,touchmove:Mt,touchend:Mt,touchcancel:Mt},Ce={},Te=!1;function tt(n,o,h){return o==="touchstart"&&We(),Se[o]?(h=Se[o].bind(this,h),n.addEventListener(_e[o],h,!1),h):(console.warn("wrong event specified:",o),T)}function Xe(n,o,h){if(!_e[o]){console.warn("wrong event specified:",o);return}n.removeEventListener(_e[o],h,!1)}function Ct(n){Ce[n.pointerId]=n}function Lt(n){Ce[n.pointerId]&&(Ce[n.pointerId]=n)}function Ot(n){delete Ce[n.pointerId]}function We(){Te||(document.addEventListener(ce,Ct,!0),document.addEventListener(xe,Lt,!0),document.addEventListener(ye,Ot,!0),document.addEventListener(pe,Ot,!0),Te=!0)}function Mt(n,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var h in Ce)o.touches.push(Ce[h]);o.changedTouches=[o],n(o)}}function pn(n,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&Ut(o),Mt(n,o)}function Et(n){var o={},h,g;for(g in n)h=n[g],o[g]=h&&h.bind?h.bind(n):h;return n=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var qn=200;function wn(n,o){n.addEventListener("dblclick",o);var h=0,g;function b(E){if(E.detail!==1){g=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var R=Dr(E);if(!(R.some(function(W){return W instanceof HTMLLabelElement&&W.attributes.for})&&!R.some(function(W){return W instanceof HTMLInputElement||W instanceof HTMLSelectElement}))){var q=Date.now();q-h<=qn?(g++,g===2&&o(Et(E))):g=1,h=q}}}return n.addEventListener("click",b),{dblclick:o,simDblclick:b}}function Zn(n,o){n.removeEventListener("dblclick",o.dblclick),n.removeEventListener("click",o.simDblclick)}var gn=kr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Sn=kr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ii=Sn==="webkitTransition"||Sn==="OTransition"?Sn+"End":"transitionend";function qi(n){return typeof n=="string"?document.getElementById(n):n}function Ve(n,o){var h=n.style[o]||n.currentStyle&&n.currentStyle[o];if((!h||h==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(n,null);h=g?g[o]:null}return h==="auto"?null:h}function ke(n,o,h){var g=document.createElement(n);return g.className=o||"",h&&h.appendChild(g),g}function rt(n){var o=n.parentNode;o&&o.removeChild(n)}function Pt(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function qe(n){var o=n.parentNode;o&&o.lastChild!==n&&o.appendChild(n)}function An(n){var o=n.parentNode;o&&o.firstChild!==n&&o.insertBefore(n,o.firstChild)}function Ha(n,o){if(n.classList!==void 0)return n.classList.contains(o);var h=Es(n);return h.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(h)}function Be(n,o){if(n.classList!==void 0)for(var h=N(o),g=0,b=h.length;g<b;g++)n.classList.add(h[g]);else if(!Ha(n,o)){var E=Es(n);Ia(n,(E?E+" ":"")+o)}}function kt(n,o){n.classList!==void 0?n.classList.remove(o):Ia(n,A((" "+Es(n)+" ").replace(" "+o+" "," ")))}function Ia(n,o){n.className.baseVal===void 0?n.className=o:n.className.baseVal=o}function Es(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function At(n,o){"opacity"in n.style?n.style.opacity=o:"filter"in n.style&&Ro(n,o)}function Ro(n,o){var h=!1,g="DXImageTransform.Microsoft.Alpha";try{h=n.filters.item(g)}catch{if(o===1)return}o=Math.round(o*100),h?(h.Enabled=o!==100,h.Opacity=o):n.style.filter+=" progid:"+g+"(opacity="+o+")"}function kr(n){for(var o=document.documentElement.style,h=0;h<n.length;h++)if(n[h]in o)return n[h];return!1}function xi(n,o,h){var g=o||new ne(0,0);n.style[gn]=(X.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(h?" scale("+h+")":"")}function bt(n,o){n._leaflet_pos=o,X.any3d?xi(n,o):(n.style.left=o.x+"px",n.style.top=o.y+"px")}function Zi(n){return n._leaflet_pos||new ne(0,0)}var qa,oi,Lo;if("onselectstart"in document)qa=function(){Pe(window,"selectstart",Ut)},oi=function(){ft(window,"selectstart",Ut)};else{var Za=kr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qa=function(){if(Za){var n=document.documentElement.style;Lo=n[Za],n[Za]="none"}},oi=function(){Za&&(document.documentElement.style[Za]=Lo,Lo=void 0)}}function Ts(){Pe(window,"dragstart",Ut)}function jr(){ft(window,"dragstart",Ut)}var Cs,ko;function Ga(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Rn(),Cs=n,ko=n.style.outlineStyle,n.style.outlineStyle="none",Pe(window,"keydown",Rn))}function Rn(){Cs&&(Cs.style.outlineStyle=ko,Cs=void 0,ko=void 0,ft(window,"keydown",Rn))}function Os(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function zr(n){var o=n.getBoundingClientRect();return{x:o.width/n.offsetWidth||1,y:o.height/n.offsetHeight||1,boundingClientRect:o}}var Va={__proto__:null,TRANSFORM:gn,TRANSITION:Sn,TRANSITION_END:Ii,get:qi,getStyle:Ve,create:ke,remove:rt,empty:Pt,toFront:qe,toBack:An,hasClass:Ha,addClass:Be,removeClass:kt,setClass:Ia,getClass:Es,setOpacity:At,testProp:kr,setTransform:xi,setPosition:bt,getPosition:Zi,get disableTextSelection(){return qa},get enableTextSelection(){return oi},disableImageDrag:Ts,enableImageDrag:jr,preventOutline:Ga,restoreOutline:Rn,getSizedParentNode:Os,getScale:zr};function Pe(n,o,h,g){if(o&&typeof o=="object")for(var b in o)Vn(n,b,o[b],h);else{o=N(o);for(var E=0,R=o.length;E<R;E++)Vn(n,o[E],h,g)}return this}var Gn="_leaflet_events";function ft(n,o,h,g){if(arguments.length===1)jo(n),delete n[Gn];else if(o&&typeof o=="object")for(var b in o)Mr(n,b,o[b],h);else if(o=N(o),arguments.length===2)jo(n,function(q){return se(o,q)!==-1});else for(var E=0,R=o.length;E<R;E++)Mr(n,o[E],h,g);return this}function jo(n,o){for(var h in n[Gn]){var g=h.split(/\d/)[0];(!o||o(g))&&Mr(n,g,null,null,h)}}var ma={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vn(n,o,h,g){var b=o+v(h)+(g?"_"+v(g):"");if(n[Gn]&&n[Gn][b])return this;var E=function(q){return h.call(g||n,q||window.event)},R=E;!X.touchNative&&X.pointer&&o.indexOf("touch")===0?E=tt(n,o,E):X.touch&&o==="dblclick"?E=wn(n,E):"addEventListener"in n?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?n.addEventListener(ma[o]||o,E,X.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(E=function(q){q=q||window.event,Ei(n,q)&&R(q)},n.addEventListener(ma[o],E,!1)):n.addEventListener(o,R,!1):n.attachEvent("on"+o,E),n[Gn]=n[Gn]||{},n[Gn][b]=E}function Mr(n,o,h,g,b){b=b||o+v(h)+(g?"_"+v(g):"");var E=n[Gn]&&n[Gn][b];if(!E)return this;!X.touchNative&&X.pointer&&o.indexOf("touch")===0?Xe(n,o,E):X.touch&&o==="dblclick"?Zn(n,E):"removeEventListener"in n?n.removeEventListener(ma[o]||o,E,!1):n.detachEvent("on"+o,E),n[Gn][b]=null}function $n(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function li(n){return Vn(n,"wheel",$n),this}function pa(n){return Pe(n,"mousedown touchstart dblclick contextmenu",$n),n._leaflet_disable_click=!0,this}function Ut(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Gi(n){return Ut(n),$n(n),this}function Dr(n){if(n.composedPath)return n.composedPath();for(var o=[],h=n.target;h;)o.push(h),h=h.parentNode;return o}function Nr(n,o){if(!o)return new ne(n.clientX,n.clientY);var h=zr(o),g=h.boundingClientRect;return new ne((n.clientX-g.left)/h.x-o.clientLeft,(n.clientY-g.top)/h.y-o.clientTop)}var Xl=X.linux&&X.chrome?window.devicePixelRatio:X.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ln(n){return X.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Xl:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Ei(n,o){var h=o.relatedTarget;if(!h)return!0;try{for(;h&&h!==n;)h=h.parentNode}catch{return!1}return h!==n}var As={__proto__:null,on:Pe,off:ft,stopPropagation:$n,disableScrollPropagation:li,disableClickPropagation:pa,preventDefault:Ut,stop:Gi,getPropagationPath:Dr,getMousePosition:Nr,getWheelDelta:ln,isExternalTarget:Ei,addListener:Pe,removeListener:ft},$a=ue.extend({run:function(n,o,h,g){this.stop(),this._el=n,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=Zi(n),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=je(this._animate,this),this._step()},_step:function(n){var o=+new Date-this._startTime,h=this._duration*1e3;o<h?this._runFrame(this._easeOut(o/h),n):(this._runFrame(1),this._complete())},_runFrame:function(n,o){var h=this._startPos.add(this._offset.multiplyBy(n));o&&h._round(),bt(this._el,h),this.fire("step")},_complete:function(){Ue(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),nt=ue.extend({options:{crs:Hn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,o){o=k(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(me(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Sn&&X.any3d&&!X.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Pe(this._proxy,Ii,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,o,h){if(o=o===void 0?this._zoom:this._limitZoom(o),n=this._limitCenter(me(n),o,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var g=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,o,h.zoom):this._tryAnimatedPan(n,h.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(n,o,h.pan&&h.pan.noMoveStart),this},setZoom:function(n,o){return this._loaded?this.setView(this.getCenter(),n,{zoom:o}):(this._zoom=n,this)},zoomIn:function(n,o){return n=n||(X.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,o)},zoomOut:function(n,o){return n=n||(X.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,o)},setZoomAround:function(n,o,h){var g=this.getZoomScale(o),b=this.getSize().divideBy(2),E=n instanceof ne?n:this.latLngToContainerPoint(n),R=E.subtract(b).multiplyBy(1-1/g),q=this.containerPointToLatLng(b.add(R));return this.setView(q,o,{zoom:h})},_getBoundsCenterZoom:function(n,o){o=o||{},n=n.getBounds?n.getBounds():le(n);var h=he(o.paddingTopLeft||o.padding||[0,0]),g=he(o.paddingBottomRight||o.padding||[0,0]),b=this.getBoundsZoom(n,!1,h.add(g));if(b=typeof o.maxZoom=="number"?Math.min(o.maxZoom,b):b,b===1/0)return{center:n.getCenter(),zoom:b};var E=g.subtract(h).divideBy(2),R=this.project(n.getSouthWest(),b),q=this.project(n.getNorthEast(),b),W=this.unproject(R.add(q).divideBy(2).add(E),b);return{center:W,zoom:b}},fitBounds:function(n,o){if(n=le(n),!n.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(n,o);return this.setView(h.center,h.zoom,o)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,o){return this.setView(n,this._zoom,{pan:o})},panBy:function(n,o){if(n=he(n).round(),o=o||{},!n.x&&!n.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $a,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){Be(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,h,o.duration||.25,o.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,o,h){if(h=h||{},h.animate===!1||!X.any3d)return this.setView(n,o,h);this._stop();var g=this.project(this.getCenter()),b=this.project(n),E=this.getSize(),R=this._zoom;n=me(n),o=o===void 0?R:o;var q=Math.max(E.x,E.y),W=q*this.getZoomScale(R,o),ae=b.distanceTo(g)||1,fe=1.42,Oe=fe*fe;function $e(Dt){var Ai=Dt?-1:1,_a=Dt?W:q,Ko=W*W-q*q+Ai*Oe*Oe*ae*ae,Jr=2*_a*Oe*ae,Qr=Ko/Jr,Qi=Math.sqrt(Qr*Qr+1)-Qr,Ri=Qi<1e-9?-18:Math.log(Qi);return Ri}function Jt(Dt){return(Math.exp(Dt)-Math.exp(-Dt))/2}function Bt(Dt){return(Math.exp(Dt)+Math.exp(-Dt))/2}function En(Dt){return Jt(Dt)/Bt(Dt)}var ot=$e(0);function lt(Dt){return q*(Bt(ot)/Bt(ot+fe*Dt))}function Je(Dt){return q*(Bt(ot)*En(ot+fe*Dt)-Jt(ot))/Oe}function Wi(Dt){return 1-Math.pow(1-Dt,1.5)}var zn=Date.now(),qs=($e(1)-ot)/fe,Ji=h.duration?1e3*h.duration:1e3*qs*.8;function $o(){var Dt=(Date.now()-zn)/Ji,Ai=Wi(Dt)*qs;Dt<=1?(this._flyToFrame=je($o,this),this._move(this.unproject(g.add(b.subtract(g).multiplyBy(Je(Ai)/ae)),R),this.getScaleZoom(q/lt(Ai),R),{flyTo:!0})):this._move(n,o)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),$o.call(this),this},flyToBounds:function(n,o){var h=this._getBoundsCenterZoom(n,o);return this.flyTo(h.center,h.zoom,o)},setMaxBounds:function(n){return n=le(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var o=this.options.minZoom;return this.options.minZoom=n,this._loaded&&o!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var o=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&o!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,o){this._enforcingBounds=!0;var h=this.getCenter(),g=this._limitCenter(h,this._zoom,le(n));return h.equals(g)||this.panTo(g,o),this._enforcingBounds=!1,this},panInside:function(n,o){o=o||{};var h=he(o.paddingTopLeft||o.padding||[0,0]),g=he(o.paddingBottomRight||o.padding||[0,0]),b=this.project(this.getCenter()),E=this.project(n),R=this.getPixelBounds(),q=Q([R.min.add(h),R.max.subtract(g)]),W=q.getSize();if(!q.contains(E)){this._enforcingBounds=!0;var ae=E.subtract(q.getCenter()),fe=q.extend(E).getSize().subtract(W);b.x+=ae.x<0?-fe.x:fe.x,b.y+=ae.y<0?-fe.y:fe.y,this.panTo(this.unproject(b),o),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=c({animate:!1,pan:!0},n===!0?{animate:!0}:n);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),g=o.divideBy(2).round(),b=h.divideBy(2).round(),E=g.subtract(b);return!E.x&&!E.y?this:(n.animate&&n.pan?this.panBy(E):(n.pan&&this._rawPanBy(E),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=c({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=p(this._handleGeolocationResponse,this),h=p(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,h,n):navigator.geolocation.getCurrentPosition(o,h,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var o=n.code,h=n.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var o=n.coords.latitude,h=n.coords.longitude,g=new de(o,h),b=g.toBounds(n.coords.accuracy*2),E=this._locateOptions;if(E.setView){var R=this.getBoundsZoom(b);this.setView(g,E.maxZoom?Math.min(R,E.maxZoom):R)}var q={latlng:g,bounds:b,timestamp:n.timestamp};for(var W in n.coords)typeof n.coords[W]=="number"&&(q[W]=n.coords[W]);this.fire("locationfound",q)}},addHandler:function(n,o){if(!o)return this;var h=this[n]=new o(this);return this._handlers.push(h),this.options[n]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),rt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ue(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)rt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,o){var h="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),g=ke("div",h,o||this._mapPane);return n&&(this._panes[n]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),o=this.unproject(n.getBottomLeft()),h=this.unproject(n.getTopRight());return new oe(o,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,o,h){n=le(n),h=he(h||[0,0]);var g=this.getZoom()||0,b=this.getMinZoom(),E=this.getMaxZoom(),R=n.getNorthWest(),q=n.getSouthEast(),W=this.getSize().subtract(h),ae=Q(this.project(q,g),this.project(R,g)).getSize(),fe=X.any3d?this.options.zoomSnap:1,Oe=W.x/ae.x,$e=W.y/ae.y,Jt=o?Math.max(Oe,$e):Math.min(Oe,$e);return g=this.getScaleZoom(Jt,g),fe&&(g=Math.round(g/(fe/100))*(fe/100),g=o?Math.ceil(g/fe)*fe:Math.floor(g/fe)*fe),Math.max(b,Math.min(E,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,o){var h=this._getTopLeftPoint(n,o);return new j(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,o){var h=this.options.crs;return o=o===void 0?this._zoom:o,h.scale(n)/h.scale(o)},getScaleZoom:function(n,o){var h=this.options.crs;o=o===void 0?this._zoom:o;var g=h.zoom(n*h.scale(o));return isNaN(g)?1/0:g},project:function(n,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(me(n),o)},unproject:function(n,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(he(n),o)},layerPointToLatLng:function(n){var o=he(n).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(n){var o=this.project(me(n))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(me(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(le(n))},distance:function(n,o){return this.options.crs.distance(me(n),me(o))},containerPointToLayerPoint:function(n){return he(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return he(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var o=this.containerPointToLayerPoint(he(n));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(n)))},mouseEventToContainerPoint:function(n){return Nr(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var o=this._container=qi(n);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Pe(o,"scroll",this._onScroll,this),this._containerId=v(o)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&X.any3d,Be(n,"leaflet-container"+(X.touch?" leaflet-touch":"")+(X.retina?" leaflet-retina":"")+(X.ielt9?" leaflet-oldie":"")+(X.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=Ve(n,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),bt(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Be(n.markerPane,"leaflet-zoom-hide"),Be(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,o,h){bt(this._mapPane,new ne(0,0));var g=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var b=this._zoom!==o;this._moveStart(b,h)._move(n,o)._moveEnd(b),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(n,o){return n&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(n,o,h,g){o===void 0&&(o=this._zoom);var b=this._zoom!==o;return this._zoom=o,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),g?h&&h.pinch&&this.fire("zoom",h):((b||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ue(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){bt(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[v(this._container)]=this;var o=n?ft:Pe;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),X.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ue(this._resizeRequest),this._resizeRequest=je(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,o){for(var h=[],g,b=o==="mouseout"||o==="mouseover",E=n.target||n.srcElement,R=!1;E;){if(g=this._targets[v(E)],g&&(o==="click"||o==="preclick")&&this._draggableMoved(g)){R=!0;break}if(g&&g.listens(o,!0)&&(b&&!Ei(E,n)||(h.push(g),b))||E===this._container)break;E=E.parentNode}return!h.length&&!R&&!b&&this.listens(o,!0)&&(h=[this]),h},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var o=n.target||n.srcElement;if(!(!this._loaded||o._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(o))){var h=n.type;h==="mousedown"&&Ga(o),this._fireDOMEvent(n,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,o,h){if(n.type==="click"){var g=c({},n);g.type="preclick",this._fireDOMEvent(g,g.type,h)}var b=this._findEventTargets(n,o);if(h){for(var E=[],R=0;R<h.length;R++)h[R].listens(o,!0)&&E.push(h[R]);b=E.concat(b)}if(b.length){o==="contextmenu"&&Ut(n);var q=b[0],W={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var ae=q.getLatLng&&(!q._radius||q._radius<=10);W.containerPoint=ae?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(n),W.layerPoint=this.containerPointToLayerPoint(W.containerPoint),W.latlng=ae?q.getLatLng():this.layerPointToLatLng(W.layerPoint)}for(R=0;R<b.length;R++)if(b[R].fire(o,W,!0),W.originalEvent._stopped||b[R].options.bubblingMouseEvents===!1&&se(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,o=this._handlers.length;n<o;n++)this._handlers[n].disable()},whenReady:function(n,o){return this._loaded?n.call(o||this,{target:this}):this.on("load",n,o),this},_getMapPanePos:function(){return Zi(this._mapPane)||new ne(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,o){var h=n&&o!==void 0?this._getNewPixelOrigin(n,o):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,o){var h=this.getSize()._divideBy(2);return this.project(n,o)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,o,h){var g=this._getNewPixelOrigin(h,o);return this.project(n,o)._subtract(g)},_latLngBoundsToNewLayerBounds:function(n,o,h){var g=this._getNewPixelOrigin(h,o);return Q([this.project(n.getSouthWest(),o)._subtract(g),this.project(n.getNorthWest(),o)._subtract(g),this.project(n.getSouthEast(),o)._subtract(g),this.project(n.getNorthEast(),o)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,o,h){if(!h)return n;var g=this.project(n,o),b=this.getSize().divideBy(2),E=new j(g.subtract(b),g.add(b)),R=this._getBoundsOffset(E,h,o);return Math.abs(R.x)<=1&&Math.abs(R.y)<=1?n:this.unproject(g.add(R),o)},_limitOffset:function(n,o){if(!o)return n;var h=this.getPixelBounds(),g=new j(h.min.add(n),h.max.add(n));return n.add(this._getBoundsOffset(g,o))},_getBoundsOffset:function(n,o,h){var g=Q(this.project(o.getNorthEast(),h),this.project(o.getSouthWest(),h)),b=g.min.subtract(n.min),E=g.max.subtract(n.max),R=this._rebound(b.x,-E.x),q=this._rebound(b.y,-E.y);return new ne(R,q)},_rebound:function(n,o){return n+o>0?Math.round(n-o)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(o))},_limitZoom:function(n){var o=this.getMinZoom(),h=this.getMaxZoom(),g=X.any3d?this.options.zoomSnap:1;return g&&(n=Math.round(n/g)*g),Math.max(o,Math.min(h,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){kt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,o){var h=this._getCenterOffset(n)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,o),!0)},_createAnimProxy:function(){var n=this._proxy=ke("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(o){var h=gn,g=this._proxy.style[h];xi(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),g===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){rt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),o=this.getZoom();xi(this._proxy,this.project(n,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,o,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(o),b=this._getCenterOffset(n)._divideBy(1-1/g);return h.animate!==!0&&!this.getSize().contains(b)?!1:(je(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(n,o,!0)},this),!0)},_animateZoom:function(n,o,h,g){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=o,Be(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:o,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&kt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function zo(n,o){return new nt(n,o)}var xn=Ye.extend({options:{position:"topright"},initialize:function(n){k(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var o=this._map;return o&&o.removeControl(this),this.options.position=n,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var o=this._container=this.onAdd(n),h=this.getPosition(),g=n._controlCorners[h];return Be(o,"leaflet-control"),h.indexOf("bottom")!==-1?g.insertBefore(o,g.firstChild):g.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(rt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Ti=function(n){return new xn(n)};nt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},o="leaflet-",h=this._controlContainer=ke("div",o+"control-container",this._container);function g(b,E){var R=o+b+" "+o+E;n[b+E]=ke("div",R,h)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)rt(this._controlCorners[n]);rt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Pr=xn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,o,h,g){return h<g?-1:g<h?1:0}},initialize:function(n,o,h){k(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in n)this._addLayer(n[g],g);for(g in o)this._addLayer(o[g],g,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return xn.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,o){return this._addLayer(n,o),this._map?this._update():this},addOverlay:function(n,o){return this._addLayer(n,o,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var o=this._getLayer(v(n));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){Be(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Be(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):kt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return kt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",o=this._container=ke("div",n),h=this.options.collapsed;o.setAttribute("aria-haspopup",!0),pa(o),li(o);var g=this._section=ke("section",n+"-list");h&&(this._map.on("click",this.collapse,this),Pe(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=ke("a",n+"-toggle",o);b.href="#",b.title="Layers",b.setAttribute("role","button"),Pe(b,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){Ut(E),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=ke("div",n+"-base",g),this._separator=ke("div",n+"-separator",g),this._overlaysList=ke("div",n+"-overlays",g),o.appendChild(g)},_getLayer:function(n){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&v(this._layers[o].layer)===n)return this._layers[o]},_addLayer:function(n,o,h){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:o,overlay:h}),this.options.sortLayers&&this._layers.sort(p(function(g,b){return this.options.sortFunction(g.layer,b.layer,g.name,b.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Pt(this._baseLayersList),Pt(this._overlaysList),this._layerControlInputs=[];var n,o,h,g,b=0;for(h=0;h<this._layers.length;h++)g=this._layers[h],this._addItem(g),o=o||g.overlay,n=n||!g.overlay,b+=g.overlay?0:1;return this.options.hideSingleBase&&(n=n&&b>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=o&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var o=this._getLayer(v(n.target)),h=o.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;h&&this._map.fire(h,o)},_createRadioElement:function(n,o){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(o?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=h,g.firstChild},_addItem:function(n){var o=document.createElement("label"),h=this._map.hasLayer(n.layer),g;n.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=h):g=this._createRadioElement("leaflet-base-layers_"+v(this),h),this._layerControlInputs.push(g),g.layerId=v(n.layer),Pe(g,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+n.name;var E=document.createElement("span");o.appendChild(E),E.appendChild(g),E.appendChild(b);var R=n.overlay?this._overlaysList:this._baseLayersList;return R.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,o,h,g=[],b=[];this._handlingClick=!0;for(var E=n.length-1;E>=0;E--)o=n[E],h=this._getLayer(o.layerId).layer,o.checked?g.push(h):o.checked||b.push(h);for(E=0;E<b.length;E++)this._map.hasLayer(b[E])&&this._map.removeLayer(b[E]);for(E=0;E<g.length;E++)this._map.hasLayer(g[E])||this._map.addLayer(g[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,o,h,g=this._map.getZoom(),b=n.length-1;b>=0;b--)o=n[b],h=this._getLayer(o.layerId).layer,o.disabled=h.options.minZoom!==void 0&&g<h.options.minZoom||h.options.maxZoom!==void 0&&g>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,Pe(n,"click",Ut),this.expand();var o=this;setTimeout(function(){ft(n,"click",Ut),o._preventClick=!1})}}),Wl=function(n,o,h){return new Pr(n,o,h)},Mo=xn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var o="leaflet-control-zoom",h=ke("div",o+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,o+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,o+"-out",h,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,o,h,g,b){var E=ke("a",h,g);return E.innerHTML=n,E.href="#",E.title=o,E.setAttribute("role","button"),E.setAttribute("aria-label",o),pa(E),Pe(E,"click",Gi),Pe(E,"click",b,this),Pe(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var n=this._map,o="leaflet-disabled";kt(this._zoomInButton,o),kt(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Be(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Be(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});nt.mergeOptions({zoomControl:!0}),nt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Mo,this.addControl(this.zoomControl))});var Zc=function(n){return new Mo(n)},Jl=xn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var o="leaflet-control-scale",h=ke("div",o),g=this.options;return this._addScales(g,o+"-line",h),n.on(g.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),h},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,o,h){n.metric&&(this._mScale=ke("div",o,h)),n.imperial&&(this._iScale=ke("div",o,h))},_update:function(){var n=this._map,o=n.getSize().y/2,h=n.distance(n.containerPointToLatLng([0,o]),n.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(h)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var o=this._getRoundNum(n),h=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,h,o/n)},_updateImperial:function(n){var o=n*3.2808399,h,g,b;o>5280?(h=o/5280,g=this._getRoundNum(h),this._updateScale(this._iScale,g+" mi",g/h)):(b=this._getRoundNum(o),this._updateScale(this._iScale,b+" ft",b/o))},_updateScale:function(n,o,h){n.style.width=Math.round(this.options.maxWidth*h)+"px",n.innerHTML=o},_getRoundNum:function(n){var o=Math.pow(10,(Math.floor(n)+"").length-1),h=n/o;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,o*h}}),Do=function(n){return new Jl(n)},Gc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',No=xn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(X.inlineSvg?Gc+" ":"")+"Leaflet</a>"},initialize:function(n){k(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=ke("div","leaflet-control-attribution"),pa(this._container);for(var o in n._layers)n._layers[o].getAttribution&&this.addAttribution(n._layers[o].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var o in this._attributions)this._attributions[o]&&n.push(o);var h=[];this.options.prefix&&h.push(this.options.prefix),n.length&&h.push(n.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});nt.mergeOptions({attributionControl:!0}),nt.addInitHook(function(){this.options.attributionControl&&new No().addTo(this)});var Vc=function(n){return new No(n)};xn.Layers=Pr,xn.Zoom=Mo,xn.Scale=Jl,xn.Attribution=No,Ti.layers=Wl,Ti.zoom=Zc,Ti.scale=Do,Ti.attribution=Vc;var ui=Ye.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ui.addTo=function(n,o){return n.addHandler(o,this),this};var $c={Events:$},Po=X.touch?"touchstart mousedown":"mousedown",Vi=ue.extend({options:{clickTolerance:3},initialize:function(n,o,h,g){k(this,g),this._element=n,this._dragStartTarget=o||n,this._preventOutline=h},enable:function(){this._enabled||(Pe(this._dragStartTarget,Po,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Vi._dragging===this&&this.finishDrag(!0),ft(this._dragStartTarget,Po,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Ha(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Vi._dragging===this&&this.finishDrag();return}if(!(Vi._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Vi._dragging=this,this._preventOutline&&Ga(this._element),Ts(),qa(),!this._moving)){this.fire("down");var o=n.touches?n.touches[0]:n,h=Os(this._element);this._startPoint=new ne(o.clientX,o.clientY),this._startPos=Zi(this._element),this._parentScale=zr(h);var g=n.type==="mousedown";Pe(document,g?"mousemove":"touchmove",this._onMove,this),Pe(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var o=n.touches&&n.touches.length===1?n.touches[0]:n,h=new ne(o.clientX,o.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Ut(n),this._moved||(this.fire("dragstart"),this._moved=!0,Be(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Be(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),bt(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){kt(document.body,"leaflet-dragging"),this._lastTarget&&(kt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ft(document,"mousemove touchmove",this._onMove,this),ft(document,"mouseup touchend touchcancel",this._onUp,this),jr(),oi();var o=this._moved&&this._moving;this._moving=!1,Vi._dragging=!1,o&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Ql(n,o,h){var g,b=[1,4,2,8],E,R,q,W,ae,fe,Oe,$e;for(E=0,fe=n.length;E<fe;E++)n[E]._code=ga(n[E],o);for(q=0;q<4;q++){for(Oe=b[q],g=[],E=0,fe=n.length,R=fe-1;E<fe;R=E++)W=n[E],ae=n[R],W._code&Oe?ae._code&Oe||($e=Rs(ae,W,Oe,o,h),$e._code=ga($e,o),g.push($e)):(ae._code&Oe&&($e=Rs(ae,W,Oe,o,h),$e._code=ga($e,o),g.push($e)),g.push(W));n=g}return n}function eu(n,o){var h,g,b,E,R,q,W,ae,fe;if(!n||n.length===0)throw new Error("latlngs not passed");Ln(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Oe=me([0,0]),$e=le(n),Jt=$e.getNorthWest().distanceTo($e.getSouthWest())*$e.getNorthEast().distanceTo($e.getNorthWest());Jt<1700&&(Oe=Uo(n));var Bt=n.length,En=[];for(h=0;h<Bt;h++){var ot=me(n[h]);En.push(o.project(me([ot.lat-Oe.lat,ot.lng-Oe.lng])))}for(q=W=ae=0,h=0,g=Bt-1;h<Bt;g=h++)b=En[h],E=En[g],R=b.y*E.x-E.y*b.x,W+=(b.x+E.x)*R,ae+=(b.y+E.y)*R,q+=R*3;q===0?fe=En[0]:fe=[W/q,ae/q];var lt=o.unproject(he(fe));return me([lt.lat+Oe.lat,lt.lng+Oe.lng])}function Uo(n){for(var o=0,h=0,g=0,b=0;b<n.length;b++){var E=me(n[b]);o+=E.lat,h+=E.lng,g++}return me([o/g,h/g])}var Bo={__proto__:null,clipPolygon:Ql,polygonCenter:eu,centroid:Uo};function tu(n,o){if(!o||!n.length)return n.slice();var h=o*o;return n=Yc(n,h),n=iu(n,h),n}function nu(n,o,h){return Math.sqrt(Ur(n,o,h,!0))}function Kc(n,o,h){return Ur(n,o,h)}function iu(n,o){var h=n.length,g=typeof Uint8Array<"u"?Uint8Array:Array,b=new g(h);b[0]=b[h-1]=1,Ho(n,b,o,0,h-1);var E,R=[];for(E=0;E<h;E++)b[E]&&R.push(n[E]);return R}function Ho(n,o,h,g,b){var E=0,R,q,W;for(q=g+1;q<=b-1;q++)W=Ur(n[q],n[g],n[b],!0),W>E&&(R=q,E=W);E>h&&(o[R]=1,Ho(n,o,h,g,R),Ho(n,o,h,R,b))}function Yc(n,o){for(var h=[n[0]],g=1,b=0,E=n.length;g<E;g++)Fc(n[g],n[b])>o&&(h.push(n[g]),b=g);return b<E-1&&h.push(n[E-1]),h}var au;function ru(n,o,h,g,b){var E=g?au:ga(n,h),R=ga(o,h),q,W,ae;for(au=R;;){if(!(E|R))return[n,o];if(E&R)return!1;q=E||R,W=Rs(n,o,q,h,b),ae=ga(W,h),q===E?(n=W,E=ae):(o=W,R=ae)}}function Rs(n,o,h,g,b){var E=o.x-n.x,R=o.y-n.y,q=g.min,W=g.max,ae,fe;return h&8?(ae=n.x+E*(W.y-n.y)/R,fe=W.y):h&4?(ae=n.x+E*(q.y-n.y)/R,fe=q.y):h&2?(ae=W.x,fe=n.y+R*(W.x-n.x)/E):h&1&&(ae=q.x,fe=n.y+R*(q.x-n.x)/E),new ne(ae,fe,b)}function ga(n,o){var h=0;return n.x<o.min.x?h|=1:n.x>o.max.x&&(h|=2),n.y<o.min.y?h|=4:n.y>o.max.y&&(h|=8),h}function Fc(n,o){var h=o.x-n.x,g=o.y-n.y;return h*h+g*g}function Ur(n,o,h,g){var b=o.x,E=o.y,R=h.x-b,q=h.y-E,W=R*R+q*q,ae;return W>0&&(ae=((n.x-b)*R+(n.y-E)*q)/W,ae>1?(b=h.x,E=h.y):ae>0&&(b+=R*ae,E+=q*ae)),R=n.x-b,q=n.y-E,g?R*R+q*q:new ne(b,E)}function Ln(n){return!G(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Ls(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ln(n)}function Ka(n,o){var h,g,b,E,R,q,W,ae;if(!n||n.length===0)throw new Error("latlngs not passed");Ln(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var fe=me([0,0]),Oe=le(n),$e=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());$e<1700&&(fe=Uo(n));var Jt=n.length,Bt=[];for(h=0;h<Jt;h++){var En=me(n[h]);Bt.push(o.project(me([En.lat-fe.lat,En.lng-fe.lng])))}for(h=0,g=0;h<Jt-1;h++)g+=Bt[h].distanceTo(Bt[h+1])/2;if(g===0)ae=Bt[0];else for(h=0,E=0;h<Jt-1;h++)if(R=Bt[h],q=Bt[h+1],b=R.distanceTo(q),E+=b,E>g){W=(E-g)/b,ae=[q.x-W*(q.x-R.x),q.y-W*(q.y-R.y)];break}var ot=o.unproject(he(ae));return me([ot.lat+fe.lat,ot.lng+fe.lng])}var Xc={__proto__:null,simplify:tu,pointToSegmentDistance:nu,closestPointOnSegment:Kc,clipSegment:ru,_getEdgeIntersection:Rs,_getBitCode:ga,_sqClosestPointOnSegment:Ur,isFlat:Ln,_flat:Ls,polylineCenter:Ka},ks={project:function(n){return new ne(n.lng,n.lat)},unproject:function(n){return new de(n.y,n.x)},bounds:new j([-180,-90],[180,90])},js={R:6378137,R_MINOR:6356752314245179e-9,bounds:new j([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var o=Math.PI/180,h=this.R,g=n.lat*o,b=this.R_MINOR/h,E=Math.sqrt(1-b*b),R=E*Math.sin(g),q=Math.tan(Math.PI/4-g/2)/Math.pow((1-R)/(1+R),E/2);return g=-h*Math.log(Math.max(q,1e-10)),new ne(n.lng*o*h,g)},unproject:function(n){for(var o=180/Math.PI,h=this.R,g=this.R_MINOR/h,b=Math.sqrt(1-g*g),E=Math.exp(-n.y/h),R=Math.PI/2-2*Math.atan(E),q=0,W=.1,ae;q<15&&Math.abs(W)>1e-7;q++)ae=b*Math.sin(R),ae=Math.pow((1-ae)/(1+ae),b/2),W=Math.PI/2-2*Math.atan(E*ae)-R,R+=W;return new de(R*o,n.x*o/h)}},su={__proto__:null,LonLat:ks,Mercator:js,SphericalMercator:bi},ou=c({},dt,{code:"EPSG:3395",projection:js,transformation:(function(){var n=.5/(Math.PI*js.R);return xt(n,.5,-n,.5)})()}),Io=c({},dt,{code:"EPSG:4326",projection:ks,transformation:xt(1/180,1,-1/180,.5)}),Ya=c({},He,{projection:ks,transformation:xt(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,o){var h=o.lng-n.lng,g=o.lat-n.lat;return Math.sqrt(h*h+g*g)},infinite:!0});He.Earth=dt,He.EPSG3395=ou,He.EPSG3857=Hn,He.EPSG900913=ai,He.EPSG4326=Io,He.Simple=Ya;var Kn=ue.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[v(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[v(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var o=n.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var h=this.getEvents();o.on(h,this),this.once("remove",function(){o.off(h,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});nt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var o=v(n);return this._layers[o]?this:(this._layers[o]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var o=v(n);return this._layers[o]?(this._loaded&&n.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return v(n)in this._layers},eachLayer:function(n,o){for(var h in this._layers)n.call(o,this._layers[h]);return this},_addLayers:function(n){n=n?G(n)?n:[n]:[];for(var o=0,h=n.length;o<h;o++)this.addLayer(n[o])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[v(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var o=v(n);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,o=-1/0,h=this._getZoomSpan();for(var g in this._zoomBoundLayers){var b=this._zoomBoundLayers[g].options;n=b.minZoom===void 0?n:Math.min(n,b.minZoom),o=b.maxZoom===void 0?o:Math.max(o,b.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=n===1/0?void 0:n,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Fa=Kn.extend({initialize:function(n,o){k(this,o),this._layers={};var h,g;if(n)for(h=0,g=n.length;h<g;h++)this.addLayer(n[h])},addLayer:function(n){var o=this.getLayerId(n);return this._layers[o]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var o=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(n){var o=typeof n=="number"?n:this.getLayerId(n);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var o=Array.prototype.slice.call(arguments,1),h,g;for(h in this._layers)g=this._layers[h],g[n]&&g[n].apply(g,o);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,o){for(var h in this._layers)n.call(o,this._layers[h]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return v(n)}}),Wc=function(n,o){return new Fa(n,o)},ci=Fa.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Fa.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Fa.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new oe;for(var o in this._layers){var h=this._layers[o];n.extend(h.getBounds?h.getBounds():h.getLatLng())}return n}}),lu=function(n,o){return new ci(n,o)},hi=Ye.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){k(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,o){var h=this._getIconUrl(n);if(!h){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(h,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(g,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(n,o){var h=this.options,g=h[o+"Size"];typeof g=="number"&&(g=[g,g]);var b=he(g),E=he(o==="shadow"&&h.shadowAnchor||h.iconAnchor||b&&b.divideBy(2,!0));n.className="leaflet-marker-"+o+" "+(h.className||""),E&&(n.style.marginLeft=-E.x+"px",n.style.marginTop=-E.y+"px"),b&&(n.style.width=b.x+"px",n.style.height=b.y+"px")},_createImg:function(n,o){return o=o||document.createElement("img"),o.src=n,o},_getIconUrl:function(n){return X.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Br(n){return new hi(n)}var Hr=hi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Hr.imagePath!="string"&&(Hr.imagePath=this._detectIconPath()),(this.options.imagePath||Hr.imagePath)+hi.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var o=function(h,g,b){var E=g.exec(h);return E&&E[b]};return n=o(n,/^url\((['"])?(.+)\1\)$/,2),n&&o(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=ke("div","leaflet-default-icon-path",document.body),o=Ve(n,"background-image")||Ve(n,"backgroundImage");if(document.body.removeChild(n),o=this._stripUrl(o),o)return o;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Ir=ui.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Vi(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Be(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&kt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var o=this._marker,h=o._map,g=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,E=Zi(o._icon),R=h.getPixelBounds(),q=h.getPixelOrigin(),W=Q(R.min._subtract(q).add(b),R.max._subtract(q).subtract(b));if(!W.contains(E)){var ae=he((Math.max(W.max.x,E.x)-W.max.x)/(R.max.x-W.max.x)-(Math.min(W.min.x,E.x)-W.min.x)/(R.min.x-W.min.x),(Math.max(W.max.y,E.y)-W.max.y)/(R.max.y-W.max.y)-(Math.min(W.min.y,E.y)-W.min.y)/(R.min.y-W.min.y)).multiplyBy(g);h.panBy(ae,{animate:!1}),this._draggable._newPos._add(ae),this._draggable._startPos._add(ae),bt(o._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=je(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(Ue(this._panRequest),this._panRequest=je(this._adjustPan.bind(this,n)))},_onDrag:function(n){var o=this._marker,h=o._shadow,g=Zi(o._icon),b=o._map.layerPointToLatLng(g);h&&bt(h,g),o._latlng=b,n.latlng=b,n.oldLatLng=this._oldLatLng,o.fire("move",n).fire("drag",n)},_onDragEnd:function(n){Ue(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),qr=Kn.extend({options:{icon:new Hr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,o){k(this,o),this._latlng=me(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var o=this._latlng;return this._latlng=me(n),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=n.icon.createIcon(this._icon),g=!1;h!==this._icon&&(this._icon&&this._removeIcon(),g=!0,n.title&&(h.title=n.title),h.tagName==="IMG"&&(h.alt=n.alt||"")),Be(h,o),n.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pe(h,"focus",this._panOnFocus,this);var b=n.icon.createShadow(this._shadow),E=!1;b!==this._shadow&&(this._removeShadow(),E=!0),b&&(Be(b,o),b.alt=""),this._shadow=b,n.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&E&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ft(this._icon,"focus",this._panOnFocus,this),rt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&rt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&bt(this._icon,n),this._shadow&&bt(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(Be(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ir)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ir(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&At(this._icon,n),this._shadow&&At(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var o=this.options.icon.options,h=o.iconSize?he(o.iconSize):he(0,0),g=o.iconAnchor?he(o.iconAnchor):he(0,0);n.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:h.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function uu(n,o){return new qr(n,o)}var di=Kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return k(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Xa=di.extend({options:{fill:!0,radius:10},initialize:function(n,o){k(this,o),this._latlng=me(n),this._radius=this.options.radius},setLatLng:function(n){var o=this._latlng;return this._latlng=me(n),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var o=n&&n.radius||this._radius;return di.prototype.setStyle.call(this,n),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,o=this._radiusY||n,h=this._clickTolerance(),g=[n+h,o+h];this._pxBounds=new j(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function cu(n,o){return new Xa(n,o)}var zs=Xa.extend({initialize:function(n,o,h){if(typeof o=="number"&&(o=c({},h,{radius:o})),k(this,o),this._latlng=me(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new oe(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:di.prototype.setStyle,_project:function(){var n=this._latlng.lng,o=this._latlng.lat,h=this._map,g=h.options.crs;if(g.distance===dt.distance){var b=Math.PI/180,E=this._mRadius/dt.R/b,R=h.project([o+E,n]),q=h.project([o-E,n]),W=R.add(q).divideBy(2),ae=h.unproject(W).lat,fe=Math.acos((Math.cos(E*b)-Math.sin(o*b)*Math.sin(ae*b))/(Math.cos(o*b)*Math.cos(ae*b)))/b;(isNaN(fe)||fe===0)&&(fe=E/Math.cos(Math.PI/180*o)),this._point=W.subtract(h.getPixelOrigin()),this._radius=isNaN(fe)?0:W.x-h.project([ae,n-fe]).x,this._radiusY=W.y-R.y}else{var Oe=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Oe).x}this._updateBounds()}});function hu(n,o,h){return new zs(n,o,h)}var Ci=di.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,o){k(this,o),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var o=1/0,h=null,g=Ur,b,E,R=0,q=this._parts.length;R<q;R++)for(var W=this._parts[R],ae=1,fe=W.length;ae<fe;ae++){b=W[ae-1],E=W[ae];var Oe=g(n,b,E,!0);Oe<o&&(o=Oe,h=g(n,b,E))}return h&&(h.distance=Math.sqrt(o)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ka(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,o){return o=o||this._defaultShape(),n=me(n),o.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new oe,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Ln(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var o=[],h=Ln(n),g=0,b=n.length;g<b;g++)h?(o[g]=me(n[g]),this._bounds.extend(o[g])):o[g]=this._convertLatLngs(n[g]);return o},_project:function(){var n=new j;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),o=new ne(n,n);this._rawPxBounds&&(this._pxBounds=new j([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(n,o,h){var g=n[0]instanceof de,b=n.length,E,R;if(g){for(R=[],E=0;E<b;E++)R[E]=this._map.latLngToLayerPoint(n[E]),h.extend(R[E]);o.push(R)}else for(E=0;E<b;E++)this._projectLatlngs(n[E],o,h)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,h,g,b,E,R,q,W;for(h=0,b=0,E=this._rings.length;h<E;h++)for(W=this._rings[h],g=0,R=W.length;g<R-1;g++)q=ru(W[g],W[g+1],n,g,!0),q&&(o[b]=o[b]||[],o[b].push(q[0]),(q[1]!==W[g+1]||g===R-2)&&(o[b].push(q[1]),b++))}},_simplifyPoints:function(){for(var n=this._parts,o=this.options.smoothFactor,h=0,g=n.length;h<g;h++)n[h]=tu(n[h],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,o){var h,g,b,E,R,q,W=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(h=0,E=this._parts.length;h<E;h++)for(q=this._parts[h],g=0,R=q.length,b=R-1;g<R;b=g++)if(!(!o&&g===0)&&nu(n,q[b],q[g])<=W)return!0;return!1}});function Jc(n,o){return new Ci(n,o)}Ci._flat=Ls;var Wa=Ci.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return eu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var o=Ci.prototype._convertLatLngs.call(this,n),h=o.length;return h>=2&&o[0]instanceof de&&o[0].equals(o[h-1])&&o.pop(),o},_setLatLngs:function(n){Ci.prototype._setLatLngs.call(this,n),Ln(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ln(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,o=this.options.weight,h=new ne(o,o);if(n=new j(n.min.subtract(h),n.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,b=this._rings.length,E;g<b;g++)E=Ql(this._rings[g],n,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var o=!1,h,g,b,E,R,q,W,ae;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(E=0,W=this._parts.length;E<W;E++)for(h=this._parts[E],R=0,ae=h.length,q=ae-1;R<ae;q=R++)g=h[R],b=h[q],g.y>n.y!=b.y>n.y&&n.x<(b.x-g.x)*(n.y-g.y)/(b.y-g.y)+g.x&&(o=!o);return o||Ci.prototype._containsPoint.call(this,n,!0)}});function Qc(n,o){return new Wa(n,o)}var Oi=ci.extend({initialize:function(n,o){k(this,o),this._layers={},n&&this.addData(n)},addData:function(n){var o=G(n)?n:n.features,h,g,b;if(o){for(h=0,g=o.length;h<g;h++)b=o[h],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var E=this.options;if(E.filter&&!E.filter(n))return this;var R=an(n,E);return R?(R.feature=Ns(n),R.defaultOptions=R.options,this.resetStyle(R),E.onEachFeature&&E.onEachFeature(n,R),this.addLayer(R)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=c({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(o){this._setLayerStyle(o,n)},this)},_setLayerStyle:function(n,o){n.setStyle&&(typeof o=="function"&&(o=o(n.feature)),n.setStyle(o))}});function an(n,o){var h=n.type==="Feature"?n.geometry:n,g=h?h.coordinates:null,b=[],E=o&&o.pointToLayer,R=o&&o.coordsToLatLng||Ms,q,W,ae,fe;if(!g&&!h)return null;switch(h.type){case"Point":return q=R(g),Ja(E,n,q,o);case"MultiPoint":for(ae=0,fe=g.length;ae<fe;ae++)q=R(g[ae]),b.push(Ja(E,n,q,o));return new ci(b);case"LineString":case"MultiLineString":return W=Zr(g,h.type==="LineString"?0:1,R),new Ci(W,o);case"Polygon":case"MultiPolygon":return W=Zr(g,h.type==="Polygon"?1:2,R),new Wa(W,o);case"GeometryCollection":for(ae=0,fe=h.geometries.length;ae<fe;ae++){var Oe=an({geometry:h.geometries[ae],type:"Feature",properties:n.properties},o);Oe&&b.push(Oe)}return new ci(b);case"FeatureCollection":for(ae=0,fe=h.features.length;ae<fe;ae++){var $e=an(h.features[ae],o);$e&&b.push($e)}return new ci(b);default:throw new Error("Invalid GeoJSON object.")}}function Ja(n,o,h,g){return n?n(o,h):new qr(h,g&&g.markersInheritOptions&&g)}function Ms(n){return new de(n[1],n[0],n[2])}function Zr(n,o,h){for(var g=[],b=0,E=n.length,R;b<E;b++)R=o?Zr(n[b],o-1,h):(h||Ms)(n[b]),g.push(R);return g}function Ds(n,o){return n=me(n),n.alt!==void 0?[O(n.lng,o),O(n.lat,o),O(n.alt,o)]:[O(n.lng,o),O(n.lat,o)]}function Gr(n,o,h,g){for(var b=[],E=0,R=n.length;E<R;E++)b.push(o?Gr(n[E],Ln(n[E])?0:o-1,h,g):Ds(n[E],g));return!o&&h&&b.length>0&&b.push(b[0].slice()),b}function $i(n,o){return n.feature?c({},n.feature,{geometry:o}):Ns(o)}function Ns(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Ki={toGeoJSON:function(n){return $i(this,{type:"Point",coordinates:Ds(this.getLatLng(),n)})}};qr.include(Ki),zs.include(Ki),Xa.include(Ki),Ci.include({toGeoJSON:function(n){var o=!Ln(this._latlngs),h=Gr(this._latlngs,o?1:0,!1,n);return $i(this,{type:(o?"Multi":"")+"LineString",coordinates:h})}}),Wa.include({toGeoJSON:function(n){var o=!Ln(this._latlngs),h=o&&!Ln(this._latlngs[0]),g=Gr(this._latlngs,h?2:o?1:0,!0,n);return o||(g=[g]),$i(this,{type:(h?"Multi":"")+"Polygon",coordinates:g})}}),Fa.include({toMultiPoint:function(n){var o=[];return this.eachLayer(function(h){o.push(h.toGeoJSON(n).geometry.coordinates)}),$i(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(n){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(n);var h=o==="GeometryCollection",g=[];return this.eachLayer(function(b){if(b.toGeoJSON){var E=b.toGeoJSON(n);if(h)g.push(E.geometry);else{var R=Ns(E);R.type==="FeatureCollection"?g.push.apply(g,R.features):g.push(R)}}}),h?$i(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function Ps(n,o){return new Oi(n,o)}var Vr=Ps,Qa=Kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,o,h){this._url=n,this._bounds=le(o),k(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Be(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){rt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&qe(this._image),this},bringToBack:function(){return this._map&&An(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=le(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",o=this._image=n?this._url:ke("img");if(Be(o,"leaflet-image-layer"),this._zoomAnimated&&Be(o,"leaflet-zoom-animated"),this.options.className&&Be(o,this.options.className),o.onselectstart=T,o.onmousemove=T,o.onload=p(this.fire,this,"load"),o.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(n){var o=this._map.getZoomScale(n.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;xi(this._image,h,o)},_reset:function(){var n=this._image,o=new j(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=o.getSize();bt(n,o.min),n.style.width=h.x+"px",n.style.height=h.y+"px"},_updateOpacity:function(){At(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),du=function(n,o,h){return new Qa(n,o,h)},Yi=Qa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",o=this._image=n?this._url:ke("video");if(Be(o,"leaflet-image-layer"),this._zoomAnimated&&Be(o,"leaflet-zoom-animated"),this.options.className&&Be(o,this.options.className),o.onselectstart=T,o.onmousemove=T,o.onloadeddata=p(this.fire,this,"load"),n){for(var h=o.getElementsByTagName("source"),g=[],b=0;b<h.length;b++)g.push(h[b].src);this._url=h.length>0?g:[o.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var R=ke("source");R.src=this._url[E],o.appendChild(R)}}});function er(n,o,h){return new Yi(n,o,h)}var Us=Qa.extend({_initImage:function(){var n=this._image=this._url;Be(n,"leaflet-image-layer"),this._zoomAnimated&&Be(n,"leaflet-zoom-animated"),this.options.className&&Be(n,this.options.className),n.onselectstart=T,n.onmousemove=T}});function fu(n,o,h){return new Us(n,o,h)}var rn=Kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,o){n&&(n instanceof de||G(n))?(this._latlng=me(n),k(this,o)):(k(this,n),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&At(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&At(this._container,1),this.bringToFront(),this.options.interactive&&(Be(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(At(this._container,0),this._removeTimeout=setTimeout(p(rt,void 0,this._container),200)):rt(this._container),this.options.interactive&&(kt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=me(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qe(this._container),this},bringToBack:function(){return this._map&&An(this._container),this},_prepareOpen:function(n){var o=this._source;if(!o._map)return!1;if(o instanceof ci){o=null;var h=this._source._layers;for(var g in h)if(h[g]._map){o=h[g];break}if(!o)return!1;this._source=o}if(!n)if(o.getCenter)n=o.getCenter();else if(o.getLatLng)n=o.getLatLng();else if(o.getBounds)n=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")n.innerHTML=o;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),o=he(this.options.offset),h=this._getAnchor();this._zoomAnimated?bt(this._container,n.add(h)):o=o.add(n).add(h);var g=this._containerBottom=-o.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=g+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});nt.include({_initOverlay:function(n,o,h,g){var b=o;return b instanceof n||(b=new n(g).setContent(o)),h&&b.setLatLng(h),b}}),Kn.include({_initOverlay:function(n,o,h,g){var b=h;return b instanceof n?(k(b,g),b._source=this):(b=o&&!g?o:new n(g,this),b.setContent(h)),b}});var $r=rn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,rn.prototype.openOn.call(this,n)},onAdd:function(n){rn.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof di||this._source.on("preclick",$n))},onRemove:function(n){rn.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof di||this._source.off("preclick",$n))},getEvents:function(){var n=rn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",o=this._container=ke("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=ke("div",n+"-content-wrapper",o);if(this._contentNode=ke("div",n+"-content",h),pa(o),li(this._contentNode),Pe(o,"contextmenu",$n),this._tipContainer=ke("div",n+"-tip-container",o),this._tip=ke("div",n+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=ke("a",n+"-close-button",o);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',Pe(g,"click",function(b){Ut(b),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,o=n.style;o.width="",o.whiteSpace="nowrap";var h=n.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),o.width=h+1+"px",o.whiteSpace="",o.height="";var g=n.offsetHeight,b=this.options.maxHeight,E="leaflet-popup-scrolled";b&&g>b?(o.height=b+"px",Be(n,E)):kt(n,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),h=this._getAnchor();bt(this._container,o.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,o=parseInt(Ve(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+o,g=this._containerWidth,b=new ne(this._containerLeft,-h-this._containerBottom);b._add(Zi(this._container));var E=n.layerPointToContainerPoint(b),R=he(this.options.autoPanPadding),q=he(this.options.autoPanPaddingTopLeft||R),W=he(this.options.autoPanPaddingBottomRight||R),ae=n.getSize(),fe=0,Oe=0;E.x+g+W.x>ae.x&&(fe=E.x+g-ae.x+W.x),E.x-fe-q.x<0&&(fe=E.x-q.x),E.y+h+W.y>ae.y&&(Oe=E.y+h-ae.y+W.y),E.y-Oe-q.y<0&&(Oe=E.y-q.y),(fe||Oe)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([fe,Oe]))}},_getAnchor:function(){return he(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),mu=function(n,o){return new $r(n,o)};nt.mergeOptions({closePopupOnClick:!0}),nt.include({openPopup:function(n,o,h){return this._initOverlay($r,n,o,h).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Kn.include({bindPopup:function(n,o){return this._popup=this._initOverlay($r,this._popup,n,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof ci||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Gi(n);var o=n.layer||n.target;if(this._popup._source===o&&!(o instanceof di)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=o,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Kr=rn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){rn.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){rn.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=rn.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",o=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ke("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var o,h,g=this._map,b=this._container,E=g.latLngToContainerPoint(g.getCenter()),R=g.layerPointToContainerPoint(n),q=this.options.direction,W=b.offsetWidth,ae=b.offsetHeight,fe=he(this.options.offset),Oe=this._getAnchor();q==="top"?(o=W/2,h=ae):q==="bottom"?(o=W/2,h=0):q==="center"?(o=W/2,h=ae/2):q==="right"?(o=0,h=ae/2):q==="left"?(o=W,h=ae/2):R.x<E.x?(q="right",o=0,h=ae/2):(q="left",o=W+(fe.x+Oe.x)*2,h=ae/2),n=n.subtract(he(o,h,!0)).add(fe).add(Oe),kt(b,"leaflet-tooltip-right"),kt(b,"leaflet-tooltip-left"),kt(b,"leaflet-tooltip-top"),kt(b,"leaflet-tooltip-bottom"),Be(b,"leaflet-tooltip-"+q),bt(b,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&At(this._container,n)},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(o)},_getAnchor:function(){return he(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),eh=function(n,o){return new Kr(n,o)};nt.include({openTooltip:function(n,o,h){return this._initOverlay(Kr,n,o,h).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Kn.include({bindTooltip:function(n,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Kr,this._tooltip,n,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var o=n?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[o](h),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof ci||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var o=typeof n.getElement=="function"&&n.getElement();o&&(Pe(o,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Pe(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var o=typeof n.getElement=="function"&&n.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var o=n.latlng,h,g;this._tooltip.options.sticky&&n.originalEvent&&(h=this._map.mouseEventToContainerPoint(n.originalEvent),g=this._map.containerPointToLayerPoint(h),o=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(o)}});var pu=hi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var o=n&&n.tagName==="DIV"?n:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Pt(o),o.appendChild(h.html)):o.innerHTML=h.html!==!1?h.html:"",h.bgPos){var g=he(h.bgPos);o.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function th(n){return new pu(n)}hi.Default=Hr;var tr=Kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:X.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){k(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),rt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(An(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof ne?n:new ne(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var o=this.getPane().children,h=-n(-1/0,1/0),g=0,b=o.length,E;g<b;g++)E=o[g].style.zIndex,o[g]!==this._container&&E&&(h=n(h,+E));isFinite(h)&&(this.options.zIndex=h+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!X.ielt9){At(this._container,this.options.opacity);var n=+new Date,o=!1,h=!1;for(var g in this._tiles){var b=this._tiles[g];if(!(!b.current||!b.loaded)){var E=Math.min(1,(n-b.loaded)/200);At(b.el,E),E<1?o=!0:(b.active?h=!0:this._onOpaqueTile(b),b.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),o&&(Ue(this._fadeFrame),this._fadeFrame=je(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=ke("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,o=this.options.maxZoom;if(n!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===n?(this._levels[h].el.style.zIndex=o-Math.abs(n-h),this._onUpdateLevel(h)):(rt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var g=this._levels[n],b=this._map;return g||(g=this._levels[n]={},g.el=ke("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=o,g.origin=b.project(b.unproject(b.getPixelOrigin()),n).round(),g.zoom=n,this._setZoomTransform(g,b.getCenter(),b.getZoom()),T(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var n,o,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)o=this._tiles[n],o.retain=o.current;for(n in this._tiles)if(o=this._tiles[n],o.current&&!o.active){var g=o.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var o in this._tiles)this._tiles[o].coords.z===n&&this._removeTile(o)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)rt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,o,h,g){var b=Math.floor(n/2),E=Math.floor(o/2),R=h-1,q=new ne(+b,+E);q.z=+R;var W=this._tileCoordsToKey(q),ae=this._tiles[W];return ae&&ae.active?(ae.retain=!0,!0):(ae&&ae.loaded&&(ae.retain=!0),R>g?this._retainParent(b,E,R,g):!1)},_retainChildren:function(n,o,h,g){for(var b=2*n;b<2*n+2;b++)for(var E=2*o;E<2*o+2;E++){var R=new ne(b,E);R.z=h+1;var q=this._tileCoordsToKey(R),W=this._tiles[q];if(W&&W.active){W.retain=!0;continue}else W&&W.loaded&&(W.retain=!0);h+1<g&&this._retainChildren(b,E,h+1,g)}},_resetView:function(n){var o=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var o=this.options;return o.minNativeZoom!==void 0&&n<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<n?o.maxNativeZoom:n},_setView:function(n,o,h,g){var b=Math.round(o);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var E=this.options.updateWhenZooming&&b!==this._tileZoom;(!g||E)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(n),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(n,o)},_setZoomTransforms:function(n,o){for(var h in this._levels)this._setZoomTransform(this._levels[h],n,o)},_setZoomTransform:function(n,o,h){var g=this._map.getZoomScale(h,n.zoom),b=n.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(o,h)).round();X.any3d?xi(n.el,b,g):bt(n.el,b)},_resetGrid:function(){var n=this._map,o=n.options.crs,h=this._tileSize=this.getTileSize(),g=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,o.wrapLng[0]],g).x/h.x),Math.ceil(n.project([0,o.wrapLng[1]],g).x/h.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([o.wrapLat[0],0],g).y/h.x),Math.ceil(n.project([o.wrapLat[1],0],g).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var o=this._map,h=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),g=o.getZoomScale(h,this._tileZoom),b=o.project(n,this._tileZoom).floor(),E=o.getSize().divideBy(g*2);return new j(b.subtract(E),b.add(E))},_update:function(n){var o=this._map;if(o){var h=this._clampZoom(o.getZoom());if(n===void 0&&(n=o.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(n),b=this._pxBoundsToTileRange(g),E=b.getCenter(),R=[],q=this.options.keepBuffer,W=new j(b.getBottomLeft().subtract([q,-q]),b.getTopRight().add([q,-q]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ae in this._tiles){var fe=this._tiles[ae].coords;(fe.z!==this._tileZoom||!W.contains(new ne(fe.x,fe.y)))&&(this._tiles[ae].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(n,h);return}for(var Oe=b.min.y;Oe<=b.max.y;Oe++)for(var $e=b.min.x;$e<=b.max.x;$e++){var Jt=new ne($e,Oe);if(Jt.z=this._tileZoom,!!this._isValidTile(Jt)){var Bt=this._tiles[this._tileCoordsToKey(Jt)];Bt?Bt.current=!0:R.push(Jt)}}if(R.sort(function(ot,lt){return ot.distanceTo(E)-lt.distanceTo(E)}),R.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var En=document.createDocumentFragment();for($e=0;$e<R.length;$e++)this._addTile(R[$e],En);this._level.el.appendChild(En)}}}},_isValidTile:function(n){var o=this._map.options.crs;if(!o.infinite){var h=this._globalTileRange;if(!o.wrapLng&&(n.x<h.min.x||n.x>h.max.x)||!o.wrapLat&&(n.y<h.min.y||n.y>h.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(n);return le(this.options.bounds).overlaps(g)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var o=this._map,h=this.getTileSize(),g=n.scaleBy(h),b=g.add(h),E=o.unproject(g,n.z),R=o.unproject(b,n.z);return[E,R]},_tileCoordsToBounds:function(n){var o=this._tileCoordsToNwSe(n),h=new oe(o[0],o[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var o=n.split(":"),h=new ne(+o[0],+o[1]);return h.z=+o[2],h},_removeTile:function(n){var o=this._tiles[n];o&&(rt(o.el),delete this._tiles[n],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Be(n,"leaflet-tile");var o=this.getTileSize();n.style.width=o.x+"px",n.style.height=o.y+"px",n.onselectstart=T,n.onmousemove=T,X.ielt9&&this.options.opacity<1&&At(n,this.options.opacity)},_addTile:function(n,o){var h=this._getTilePos(n),g=this._tileCoordsToKey(n),b=this.createTile(this._wrapCoords(n),p(this._tileReady,this,n));this._initTile(b),this.createTile.length<2&&je(p(this._tileReady,this,n,null,b)),bt(b,h),this._tiles[g]={el:b,coords:n,current:!0},o.appendChild(b),this.fire("tileloadstart",{tile:b,coords:n})},_tileReady:function(n,o,h){o&&this.fire("tileerror",{error:o,tile:h,coords:n});var g=this._tileCoordsToKey(n);h=this._tiles[g],h&&(h.loaded=+new Date,this._map._fadeAnimated?(At(h.el,0),Ue(this._fadeFrame),this._fadeFrame=je(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),o||(Be(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),X.ielt9||!this._map._fadeAnimated?je(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var o=new ne(this._wrapX?x(n.x,this._wrapX):n.x,this._wrapY?x(n.y,this._wrapY):n.y);return o.z=n.z,o},_pxBoundsToTileRange:function(n){var o=this.getTileSize();return new j(n.min.unscaleBy(o).floor(),n.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function gu(n){return new tr(n)}var Fi=tr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,o){this._url=n,o=k(this,o),o.detectRetina&&X.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,o){return this._url===n&&o===void 0&&(o=!0),this._url=n,o||this.redraw(),this},createTile:function(n,o){var h=document.createElement("img");return Pe(h,"load",p(this._tileOnLoad,this,o,h)),Pe(h,"error",p(this._tileOnError,this,o,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(n),h},getTileUrl:function(n){var o={r:X.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-n.y;this.options.tms&&(o.y=h),o["-y"]=h}return B(this._url,c(o,this.options))},_tileOnLoad:function(n,o){X.ielt9?setTimeout(p(n,this,null,o),0):n(null,o)},_tileOnError:function(n,o,h){var g=this.options.errorTileUrl;g&&o.getAttribute("src")!==g&&(o.src=g),n(h,o)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,o=this.options.maxZoom,h=this.options.zoomReverse,g=this.options.zoomOffset;return h&&(n=o-n),n+g},_getSubdomain:function(n){var o=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var n,o;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(o=this._tiles[n].el,o.onload=T,o.onerror=T,!o.complete)){o.src=be;var h=this._tiles[n].coords;rt(o),delete this._tiles[n],this.fire("tileabort",{tile:o,coords:h})}},_removeTile:function(n){var o=this._tiles[n];if(o)return o.el.setAttribute("src",be),tr.prototype._removeTile.call(this,n)},_tileReady:function(n,o,h){if(!(!this._map||h&&h.getAttribute("src")===be))return tr.prototype._tileReady.call(this,n,o,h)}});function kn(n,o){return new Fi(n,o)}var Yr=Fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,o){this._url=n;var h=c({},this.defaultWmsParams);for(var g in o)g in this.options||(h[g]=o[g]);o=k(this,o);var b=o.detectRetina&&X.retina?2:1,E=this.getTileSize();h.width=E.x*b,h.height=E.y*b,this.wmsParams=h},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,Fi.prototype.onAdd.call(this,n)},getTileUrl:function(n){var o=this._tileCoordsToNwSe(n),h=this._crs,g=Q(h.project(o[0]),h.project(o[1])),b=g.min,E=g.max,R=(this._wmsVersion>=1.3&&this._crs===Io?[b.y,b.x,E.y,E.x]:[b.x,b.y,E.x,E.y]).join(","),q=Fi.prototype.getTileUrl.call(this,n);return q+V(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+R},setParams:function(n,o){return c(this.wmsParams,n),o||this.redraw(),this}});function jn(n,o){return new Yr(n,o)}Fi.WMS=Yr,kn.wms=jn;var vn=Kn.extend({options:{padding:.1},initialize:function(n){k(this,n),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Be(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,o){var h=this._map.getZoomScale(o,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,o),E=g.multiplyBy(-h).add(b).subtract(this._map._getNewPixelOrigin(n,o));X.any3d?xi(this._container,E,h):bt(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,o=this._map.getSize(),h=this._map.containerPointToLayerPoint(o.multiplyBy(-n)).round();this._bounds=new j(h,h.add(o.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Bs=vn.extend({options:{tolerance:0},getEvents:function(){var n=vn.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){vn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Pe(n,"mousemove",this._onMouseMove,this),Pe(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Pe(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){Ue(this._redrawRequest),delete this._ctx,rt(this._container),ft(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var o in this._layers)n=this._layers[o],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vn.prototype._update.call(this);var n=this._bounds,o=this._container,h=n.getSize(),g=X.retina?2:1;bt(o,n.min),o.width=g*h.x,o.height=g*h.y,o.style.width=h.x+"px",o.style.height=h.y+"px",X.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){vn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[v(n)]=n;var o=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var o=n._order,h=o.next,g=o.prev;h?h.prev=g:this._drawLast=g,g?g.next=h:this._drawFirst=h,delete n._order,delete this._layers[v(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var o=n.options.dashArray.split(/[, ]+/),h=[],g,b;for(b=0;b<o.length;b++){if(g=Number(o[b]),isNaN(g))return;h.push(g)}n.options._dashArray=h}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||je(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var o=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new j,this._redrawBounds.extend(n._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(n._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var o=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,o=this._redrawBounds;if(this._ctx.save(),o){var h=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)n=g.layer,(!o||n._pxBounds&&n._pxBounds.intersects(o))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,o){if(this._drawing){var h,g,b,E,R=n._parts,q=R.length,W=this._ctx;if(q){for(W.beginPath(),h=0;h<q;h++){for(g=0,b=R[h].length;g<b;g++)E=R[h][g],W[g?"lineTo":"moveTo"](E.x,E.y);o&&W.closePath()}this._fillStroke(W,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var o=n._point,h=this._ctx,g=Math.max(Math.round(n._radius),1),b=(Math.max(Math.round(n._radiusY),1)||g)/g;b!==1&&(h.save(),h.scale(1,b)),h.beginPath(),h.arc(o.x,o.y/b,g,0,Math.PI*2,!1),b!==1&&h.restore(),this._fillStroke(h,n)}},_fillStroke:function(n,o){var h=o.options;h.fill&&(n.globalAlpha=h.fillOpacity,n.fillStyle=h.fillColor||h.color,n.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(n.setLineDash&&n.setLineDash(o.options&&o.options._dashArray||[]),n.globalAlpha=h.opacity,n.lineWidth=h.weight,n.strokeStyle=h.color,n.lineCap=h.lineCap,n.lineJoin=h.lineJoin,n.stroke())},_onClick:function(n){for(var o=this._map.mouseEventToLayerPoint(n),h,g,b=this._drawFirst;b;b=b.next)h=b.layer,h.options.interactive&&h._containsPoint(o)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(h))&&(g=h);this._fireEvent(g?[g]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,o)}},_handleMouseOut:function(n){var o=this._hoveredLayer;o&&(kt(this._container,"leaflet-interactive"),this._fireEvent([o],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,o){if(!this._mouseHoverThrottled){for(var h,g,b=this._drawFirst;b;b=b.next)h=b.layer,h.options.interactive&&h._containsPoint(o)&&(g=h);g!==this._hoveredLayer&&(this._handleMouseOut(n),g&&(Be(this._container,"leaflet-interactive"),this._fireEvent([g],n,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,o,h){this._map._fireDOMEvent(o,h||o.type,n)},_bringToFront:function(n){var o=n._order;if(o){var h=o.next,g=o.prev;if(h)h.prev=g;else return;g?g.next=h:h&&(this._drawFirst=h),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(n)}},_bringToBack:function(n){var o=n._order;if(o){var h=o.next,g=o.prev;if(g)g.next=h;else return;h?h.prev=g:g&&(this._drawLast=g),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(n)}}});function Fr(n){return X.canvas?new Bs(n):null}var Xi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),qo={_initContainer:function(){this._container=ke("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(vn.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var o=n._container=Xi("shape");Be(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",n._path=Xi("path"),o.appendChild(n._path),this._updateStyle(n),this._layers[v(n)]=n},_addPath:function(n){var o=n._container;this._container.appendChild(o),n.options.interactive&&n.addInteractiveTarget(o)},_removePath:function(n){var o=n._container;rt(o),n.removeInteractiveTarget(o),delete this._layers[v(n)]},_updateStyle:function(n){var o=n._stroke,h=n._fill,g=n.options,b=n._container;b.stroked=!!g.stroke,b.filled=!!g.fill,g.stroke?(o||(o=n._stroke=Xi("stroke")),b.appendChild(o),o.weight=g.weight+"px",o.color=g.color,o.opacity=g.opacity,g.dashArray?o.dashStyle=G(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=g.lineCap.replace("butt","flat"),o.joinstyle=g.lineJoin):o&&(b.removeChild(o),n._stroke=null),g.fill?(h||(h=n._fill=Xi("fill")),b.appendChild(h),h.color=g.fillColor||g.color,h.opacity=g.fillOpacity):h&&(b.removeChild(h),n._fill=null)},_updateCircle:function(n){var o=n._point.round(),h=Math.round(n._radius),g=Math.round(n._radiusY||h);this._setPath(n,n._empty()?"M0 0":"AL "+o.x+","+o.y+" "+h+","+g+" 0,"+65535*360)},_setPath:function(n,o){n._path.v=o},_bringToFront:function(n){qe(n._container)},_bringToBack:function(n){An(n._container)}},fi=X.vml?Xi:Na,nr=vn.extend({_initContainer:function(){this._container=fi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=fi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){rt(this._container),ft(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vn.prototype._update.call(this);var n=this._bounds,o=n.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,h.setAttribute("width",o.x),h.setAttribute("height",o.y)),bt(h,n.min),h.setAttribute("viewBox",[n.min.x,n.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(n){var o=n._path=fi("path");n.options.className&&Be(o,n.options.className),n.options.interactive&&Be(o,"leaflet-interactive"),this._updateStyle(n),this._layers[v(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){rt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[v(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var o=n._path,h=n.options;o&&(h.stroke?(o.setAttribute("stroke",h.color),o.setAttribute("stroke-opacity",h.opacity),o.setAttribute("stroke-width",h.weight),o.setAttribute("stroke-linecap",h.lineCap),o.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?o.setAttribute("stroke-dasharray",h.dashArray):o.removeAttribute("stroke-dasharray"),h.dashOffset?o.setAttribute("stroke-dashoffset",h.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),h.fill?(o.setAttribute("fill",h.fillColor||h.color),o.setAttribute("fill-opacity",h.fillOpacity),o.setAttribute("fill-rule",h.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(n,o){this._setPath(n,Cn(n._parts,o))},_updateCircle:function(n){var o=n._point,h=Math.max(Math.round(n._radius),1),g=Math.max(Math.round(n._radiusY),1)||h,b="a"+h+","+g+" 0 1,0 ",E=n._empty()?"M0 0":"M"+(o.x-h)+","+o.y+b+h*2+",0 "+b+-h*2+",0 ";this._setPath(n,E)},_setPath:function(n,o){n._path.setAttribute("d",o)},_bringToFront:function(n){qe(n._path)},_bringToBack:function(n){An(n._path)}});X.vml&&nr.include(qo);function Xr(n){return X.svg||X.vml?new nr(n):null}nt.include({getRenderer:function(n){var o=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var o=this._paneRenderers[n];return o===void 0&&(o=this._createRenderer({pane:n}),this._paneRenderers[n]=o),o},_createRenderer:function(n){return this.options.preferCanvas&&Fr(n)||Xr(n)}});var va=Wa.extend({initialize:function(n,o){Wa.prototype.initialize.call(this,this._boundsToLatLngs(n),o)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=le(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function nh(n,o){return new va(n,o)}nr.create=fi,nr.pointsToPath=Cn,Oi.geometryToLayer=an,Oi.coordsToLatLng=Ms,Oi.coordsToLatLngs=Zr,Oi.latLngToCoords=Ds,Oi.latLngsToCoords=Gr,Oi.getFeature=$i,Oi.asFeature=Ns,nt.mergeOptions({boxZoom:!0});var yn=ui.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ft(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){rt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),qa(),Ts(),this._startPoint=this._map.mouseEventToContainerPoint(n),Pe(document,{contextmenu:Gi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=ke("div","leaflet-zoom-box",this._container),Be(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var o=new j(this._point,this._startPoint),h=o.getSize();bt(this._box,o.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(rt(this._box),kt(this._container,"leaflet-crosshair")),oi(),jr(),ft(document,{contextmenu:Gi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var o=new oe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nt.addInitHook("addHandler","boxZoom",yn),nt.mergeOptions({doubleClickZoom:!0});var Hs=ui.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var o=this._map,h=o.getZoom(),g=o.options.zoomDelta,b=n.originalEvent.shiftKey?h-g:h+g;o.options.doubleClickZoom==="center"?o.setZoom(b):o.setZoomAround(n.containerPoint,b)}});nt.addInitHook("addHandler","doubleClickZoom",Hs),nt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mi=ui.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Vi(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Be(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){kt(this._map._container,"leaflet-grab"),kt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=le(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var o=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(o),this._prunePositions(o)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,o){return n-(n-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;n.x<o.min.x&&(n.x=this._viscousLimit(n.x,o.min.x)),n.y<o.min.y&&(n.y=this._viscousLimit(n.y,o.min.y)),n.x>o.max.x&&(n.x=this._viscousLimit(n.x,o.max.x)),n.y>o.max.y&&(n.y=this._viscousLimit(n.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,o=Math.round(n/2),h=this._initialWorldOffset,g=this._draggable._newPos.x,b=(g-o+h)%n+o-h,E=(g+o+h)%n-o-h,R=Math.abs(b+h)<Math.abs(E+h)?b:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=R},_onDragEnd:function(n){var o=this._map,h=o.options,g=!h.inertia||n.noInertia||this._times.length<2;if(o.fire("dragend",n),g)o.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,R=h.easeLinearity,q=b.multiplyBy(R/E),W=q.distanceTo([0,0]),ae=Math.min(h.inertiaMaxSpeed,W),fe=q.multiplyBy(ae/W),Oe=ae/(h.inertiaDeceleration*R),$e=fe.multiplyBy(-Oe/2).round();!$e.x&&!$e.y?o.fire("moveend"):($e=o._limitOffset($e,o.options.maxBounds),je(function(){o.panBy($e,{duration:Oe,easeLinearity:R,noMoveStart:!0,animate:!0})}))}}});nt.addInitHook("addHandler","dragging",mi),nt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Zo=ui.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Pe(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ft(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,o=document.documentElement,h=n.scrollTop||o.scrollTop,g=n.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(g,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var o=this._panKeys={},h=this.keyCodes,g,b;for(g=0,b=h.left.length;g<b;g++)o[h.left[g]]=[-1*n,0];for(g=0,b=h.right.length;g<b;g++)o[h.right[g]]=[n,0];for(g=0,b=h.down.length;g<b;g++)o[h.down[g]]=[0,n];for(g=0,b=h.up.length;g<b;g++)o[h.up[g]]=[0,-1*n]},_setZoomDelta:function(n){var o=this._zoomKeys={},h=this.keyCodes,g,b;for(g=0,b=h.zoomIn.length;g<b;g++)o[h.zoomIn[g]]=n;for(g=0,b=h.zoomOut.length;g<b;g++)o[h.zoomOut[g]]=-n},_addHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ft(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var o=n.keyCode,h=this._map,g;if(o in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(g=this._panKeys[o],n.shiftKey&&(g=he(g).multiplyBy(3)),h.options.maxBounds&&(g=h._limitOffset(he(g),h.options.maxBounds)),h.options.worldCopyJump){var b=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(g)));h.panTo(b)}else h.panBy(g)}else if(o in this._zoomKeys)h.setZoom(h.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Gi(n)}}});nt.addInitHook("addHandler","keyboard",Zo),nt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Wr=ui.extend({addHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ft(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var o=ln(n),h=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var g=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),g),Gi(n)},_performZoom:function(){var n=this._map,o=n.getZoom(),h=this._map.options.zoomSnap||0;n._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,E=h?Math.ceil(b/h)*h:b,R=n._limitZoom(o+(this._delta>0?E:-E))-o;this._delta=0,this._startTime=null,R&&(n.options.scrollWheelZoom==="center"?n.setZoom(o+R):n.setZoomAround(this._lastMousePos,o+R))}});nt.addInitHook("addHandler","scrollWheelZoom",Wr);var ya=600;nt.mergeOptions({tapHold:X.touchNative&&X.safari&&X.mobile,tapTolerance:15});var Is=ui.extend({addHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ft(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var o=n.touches[0];this._startPos=this._newPos=new ne(o.clientX,o.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Pe(document,"touchend",Ut),Pe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),ya),Pe(document,"touchend touchcancel contextmenu",this._cancel,this),Pe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){ft(document,"touchend",Ut),ft(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),ft(document,"touchend touchcancel contextmenu",this._cancel,this),ft(document,"touchmove",this._onMove,this)},_onMove:function(n){var o=n.touches[0];this._newPos=new ne(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,o){var h=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});h._simulated=!0,o.target.dispatchEvent(h)}});nt.addInitHook("addHandler","tapHold",Is),nt.mergeOptions({touchZoom:X.touch,bounceAtZoomLimits:!0});var Go=ui.extend({addHooks:function(){Be(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){kt(this._map._container,"leaflet-touch-zoom"),ft(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var o=this._map;if(!(!n.touches||n.touches.length!==2||o._animatingZoom||this._zooming)){var h=o.mouseEventToContainerPoint(n.touches[0]),g=o.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(h.add(g)._divideBy(2))),this._startDist=h.distanceTo(g),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend touchcancel",this._onTouchEnd,this),Ut(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var o=this._map,h=o.mouseEventToContainerPoint(n.touches[0]),g=o.mouseEventToContainerPoint(n.touches[1]),b=h.distanceTo(g)/this._startDist;if(this._zoom=o.getScaleZoom(b,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&b<1||this._zoom>o.getMaxZoom()&&b>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var E=h._add(g)._divideBy(2)._subtract(this._centerPoint);if(b===1&&E.x===0&&E.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),Ue(this._animRequest);var R=p(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=je(R,this,!0),Ut(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ue(this._animRequest),ft(document,"touchmove",this._onTouchMove,this),ft(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});nt.addInitHook("addHandler","touchZoom",Go),nt.BoxZoom=yn,nt.DoubleClickZoom=Hs,nt.Drag=mi,nt.Keyboard=Zo,nt.ScrollWheelZoom=Wr,nt.TapHold=Is,nt.TouchZoom=Go,s.Bounds=j,s.Browser=X,s.CRS=He,s.Canvas=Bs,s.Circle=zs,s.CircleMarker=Xa,s.Class=Ye,s.Control=xn,s.DivIcon=pu,s.DivOverlay=rn,s.DomEvent=As,s.DomUtil=Va,s.Draggable=Vi,s.Evented=ue,s.FeatureGroup=ci,s.GeoJSON=Oi,s.GridLayer=tr,s.Handler=ui,s.Icon=hi,s.ImageOverlay=Qa,s.LatLng=de,s.LatLngBounds=oe,s.Layer=Kn,s.LayerGroup=Fa,s.LineUtil=Xc,s.Map=nt,s.Marker=qr,s.Mixin=$c,s.Path=di,s.Point=ne,s.PolyUtil=Bo,s.Polygon=Wa,s.Polyline=Ci,s.Popup=$r,s.PosAnimation=$a,s.Projection=su,s.Rectangle=va,s.Renderer=vn,s.SVG=nr,s.SVGOverlay=Us,s.TileLayer=Fi,s.Tooltip=Kr,s.Transformation=Ni,s.Util=Gt,s.VideoOverlay=Yi,s.bind=p,s.bounds=Q,s.canvas=Fr,s.circle=hu,s.circleMarker=cu,s.control=Ti,s.divIcon=th,s.extend=c,s.featureGroup=lu,s.geoJSON=Ps,s.geoJson=Vr,s.gridLayer=gu,s.icon=Br,s.imageOverlay=du,s.latLng=me,s.latLngBounds=le,s.layerGroup=Wc,s.map=zo,s.marker=uu,s.point=he,s.polygon=Qc,s.polyline=Jc,s.popup=mu,s.rectangle=nh,s.setOptions=k,s.stamp=v,s.svg=Xr,s.svgOverlay=fu,s.tileLayer=kn,s.tooltip=eh,s.transformation=xt,s.version=l,s.videoOverlay=er;var Vo=window.L;s.noConflict=function(){return window.L=Vo,this},window.L=s}))})(jl,jl.exports)),jl.exports}var Co=kT();function Hc(a,i,s){return Object.freeze({instance:a,context:i,container:s})}function Ic(a,i){return i==null?function(l,c){const f=D.useRef(void 0);return f.current||(f.current=a(l,c)),f}:function(l,c){const f=D.useRef(void 0);f.current||(f.current=a(l,c));const p=D.useRef(l),{instance:y}=f.current;return D.useEffect(function(){p.current!==l&&(i(y,l,p.current),p.current=l)},[y,l,i]),f}}function Vy(a,i){D.useEffect(function(){return(i.layerContainer??i.map).addLayer(a.instance),function(){i.layerContainer?.removeLayer(a.instance),i.map.removeLayer(a.instance)}},[i,a])}function $y(a){return function(s){const l=Uc(),c=a(Bc(s,l),l);return qy(l.map,s.attribution),zf(c.current,s.eventHandlers),Vy(c.current,l),c}}function jT(a,i){const s=D.useRef(void 0);D.useEffect(function(){if(i.pathOptions!==s.current){const c=i.pathOptions??{};a.instance.setStyle(c),s.current=c}},[a,i])}function zT(a){return function(s){const l=Uc(),c=a(Bc(s,l),l);return zf(c.current,s.eventHandlers),Vy(c.current,l),jT(c.current,s),c}}function MT(a,i){const s=Ic(a,i),l=$y(s);return Gy(l)}function DT(a,i){const s=Ic(a),l=RT(s,i);return OT(l)}function NT(a,i){const s=Ic(a,i),l=zT(s);return Gy(l)}function PT(a,i){const s=Ic(a,i),l=$y(s);return AT(l)}function UT(a,i,s){const{opacity:l,zIndex:c}=i;l!=null&&l!==s.opacity&&a.setOpacity(l),c!=null&&c!==s.zIndex&&a.setZIndex(c)}function BT(){return Uc().map}function HT({bounds:a,boundsOptions:i,center:s,children:l,className:c,id:f,placeholder:p,style:y,whenReady:v,zoom:_,...x},T){const[O]=D.useState({className:c,id:f,style:y}),[A,N]=D.useState(null),k=D.useRef(void 0);D.useImperativeHandle(T,()=>A?.map??null,[A]);const V=D.useCallback(B=>{if(B!==null&&!k.current){const G=new Co.Map(B,x);k.current=G,s!=null&&_!=null?G.setView(s,_):a!=null&&G.fitBounds(a,i),v!=null&&G.whenReady(v),N(CT(G))}},[]);D.useEffect(()=>()=>{A?.map.remove()},[A]);const Z=A?Cr.createElement(jf,{value:A},l):p??null;return Cr.createElement("div",{...O,ref:V},Z)}const IT=D.forwardRef(HT),qT=MT(function({position:i,...s},l){const c=new Co.Marker(i,s);return Hc(c,Zy(l,{overlayContainer:c}))},function(i,s,l){s.position!==l.position&&i.setLatLng(s.position),s.icon!=null&&s.icon!==l.icon&&i.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==l.zIndexOffset&&i.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==l.opacity&&i.setOpacity(s.opacity),i.dragging!=null&&s.draggable!==l.draggable&&(s.draggable===!0?i.dragging.enable():i.dragging.disable())}),ZT=NT(function({positions:i,...s},l){const c=new Co.Polyline(i,s);return Hc(c,Zy(l,{overlayContainer:c}))},function(i,s,l){s.positions!==l.positions&&i.setLatLngs(s.positions)}),GT=DT(function(i,s){const l=new Co.Popup(i,s.overlayContainer);return Hc(l,s)},function(i,s,{position:l},c){D.useEffect(function(){const{instance:p}=i;function y(_){_.popup===p&&(p.update(),c(!0))}function v(_){_.popup===p&&c(!1)}return s.map.on({popupopen:y,popupclose:v}),s.overlayContainer==null?(l!=null&&p.setLatLng(l),p.openOn(s.map)):s.overlayContainer.bindPopup(p),function(){s.map.off({popupopen:y,popupclose:v}),s.overlayContainer?.unbindPopup(),s.map.removeLayer(p)}},[i,s,c,l])}),VT=PT(function({url:i,...s},l){const c=new Co.TileLayer(i,Bc(s,l));return Hc(c,l)},function(i,s,l){UT(i,s,l);const{url:c}=s;c!=null&&c!==l.url&&i.setUrl(c)}),$T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",KT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",YT=new Co.Icon({iconUrl:$T,shadowUrl:KT,iconSize:[25,41],iconAnchor:[12,41]});function FT({lockers:a}){const i=BT();return D.useEffect(()=>{if(a.length>0){const s=a.map(l=>l.coordinates);i.fitBounds(s,{padding:[50,50]})}},[a,i]),null}function qc({lockers:a,onSelectSource:i,onSelectDestination:s,route:l}){return S.jsxs(IT,{center:[52,19],zoom:6,style:{height:"100%",width:"100%",borderRadius:"12px"},children:[S.jsx(VT,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a.map(c=>S.jsx(qT,{position:c.coordinates,icon:YT,children:S.jsxs(GT,{children:[S.jsx("strong",{children:c.location_name}),S.jsx("br",{}),c.address,S.jsx("br",{}),S.jsxs("small",{children:["Small: ",c.small_slots," | Med: ",c.medium_slots," | Lrg: ",c.large_slots]}),S.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",flexDirection:"column",gap:"0.25rem"},children:[i&&S.jsx("button",{onClick:()=>i(c.id),style:{padding:"0.25rem 0.5rem",backgroundColor:"var(--primary)",color:"#000",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Select as Source"}),s&&S.jsx("button",{onClick:()=>s(c.id),style:{padding:"0.25rem 0.5rem",backgroundColor:"var(--text-main)",color:"var(--bg-main)",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Select as Destination"})]})]})},c.id)),l&&S.jsx(ZT,{positions:l,color:"blue"}),S.jsx(FT,{lockers:a})]})}function XT(){const{packages:a,updatePackageStatus:i,lockers:s,user:l}=mn(),[c,f]=D.useState("all"),[p,y]=D.useState(null),[v,_]=D.useState({}),x=a.filter(A=>c!=="all"&&A.status!==c?!1:s.find(k=>k.id===A.lockerId)?.courierId===l?.id),T=A=>{y(p===A?null:A)};D.useEffect(()=>{p!==null&&(async N=>{if(p!==N||v[N])return;const k=a.find(B=>B.id===N);if(!k)return;const V=s.find(B=>B.id===k.lockerId),Z=s.find(B=>B.id===k.destinationLockerId);if(V&&Z){const B=`${V.coordinates[1]},${V.coordinates[0]}`,G=`${Z.coordinates[1]},${Z.coordinates[0]}`;try{const be=await(await fetch(`https://router.project-osrm.org/route/v1/driving/${B};${G}?overview=full&geometries=geojson`)).json();if(be.routes&&be.routes.length>0){const U=be.routes[0].geometry.coordinates.map(ve=>[ve[1],ve[0]]);_(ve=>({...ve,[N]:U}))}}catch(se){console.error("Failed to fetch route",se)}}})(p)},[p,a,s,v]);const O=({status:A})=>{const k={created:{label:"Created",bg:"#E2E8F0",color:"#1F2937"},picked_up:{label:"Picked Up",bg:"#DBEAFE",color:"#1E40AF"},in_transit:{label:"In Transit",bg:"#FEF3C7",color:"#92400E"},delivered:{label:"Delivered",bg:"#D1FAE5",color:"#065F46"},collected:{label:"Collected",bg:"#F3E8FF",color:"#6B21A8"}}[A]||{label:A,bg:"#E5E7EB",color:"#374151"};return S.jsx("span",{style:{backgroundColor:k.bg,color:k.color,padding:"4px 12px",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},children:k.label})};return S.jsxs("div",{className:"card",children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[S.jsx("h3",{children:"Package List"}),S.jsxs("select",{value:c,onChange:A=>f(A.target.value),style:{width:"auto"},children:[S.jsx("option",{value:"all",children:"All Statuses"}),S.jsx("option",{value:"created",children:"Created (To Pickup)"}),S.jsx("option",{value:"picked_up",children:"Picked Up"}),S.jsx("option",{value:"in_transit",children:"In Transit"}),S.jsx("option",{value:"delivered",children:"Delivered"})]})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[x.map(A=>{const N=p===A.id,k=s.find(G=>G.id===A.lockerId),V=s.find(G=>G.id===A.destinationLockerId),Z=[];k&&Z.push(k),V&&Z.push(V);const B=v[A.id]||(k&&V?[k.coordinates,V.coordinates]:[]);return S.jsxs("div",{style:{display:"flex",flexDirection:"column",border:"1px solid var(--border)",borderRadius:"8px",overflow:"hidden"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.8rem",backgroundColor:N?"var(--bg-secondary)":"transparent",cursor:"pointer"},onClick:()=>T(A.id),children:[S.jsxs("div",{style:{flex:1,marginRight:"1rem"},children:[S.jsx("div",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:A.trackingNumber}),S.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",marginTop:"0.5rem"},children:[S.jsxs("div",{children:[S.jsx("strong",{children:"From:"})," ",A.lockerId]}),S.jsxs("div",{children:[S.jsx("strong",{children:"To:"})," ",A.destinationLockerId||"N/A"]})]})]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[S.jsx(O,{status:A.status}),N?S.jsx(rS,{size:20}):S.jsx(iS,{size:20})]})]}),N&&S.jsxs("div",{style:{padding:"1rem",borderTop:"1px solid var(--border)"},children:[S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[S.jsxs("div",{children:[S.jsx("strong",{children:"Sender:"})," ",A.senderEmail||"Unknown"]}),S.jsxs("div",{children:[S.jsx("strong",{children:"Receiver:"})," ",A.receiverEmail]}),S.jsxs("div",{children:[S.jsx("strong",{children:"Size:"})," ",A.size]}),S.jsxs("div",{children:[S.jsx("strong",{children:"Pickup Code:"})," ",A.pickupCode]})]}),S.jsx("div",{style:{height:"300px",width:"100%",marginBottom:"1rem"},children:Z.length>0?S.jsx(qc,{lockers:Z,route:B},`${A.id}-${A.status}`):S.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)"},children:"Location details unavailable."})}),S.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[A.status==="created"&&S.jsx("button",{className:"primary",onClick:G=>{G.stopPropagation(),i(A.id,"picked_up")},children:"Pick Up"}),A.status==="picked_up"&&S.jsx("button",{className:"primary",onClick:G=>{G.stopPropagation(),i(A.id,"in_transit")},children:"To Transit"}),A.status==="in_transit"&&S.jsx("button",{className:"primary",onClick:G=>{G.stopPropagation(),i(A.id,"delivered")},children:"Deliver"})]})]})]},A.id)}),x.length===0&&S.jsx("p",{children:"No packages found."})]})]})}function WT(){const{lockers:a}=mn();return S.jsxs("div",{className:"card",style:{height:"500px",display:"flex",flexDirection:"column"},children:[S.jsx("h3",{style:{marginBottom:"1rem"},children:"Locker Locations & Occupancy"}),S.jsx("div",{style:{flex:1},children:S.jsx(qc,{lockers:a})})]})}function JT(){const{packages:a,lockers:i,user:s,couriers:l}=mn(),[c,f]=D.useState("overview"),p=a.filter(O=>i.find(N=>N.id===O.lockerId)?.courierId===s?.id),y=p.filter(O=>O.status==="delivered"||O.status==="collected").length,v=p.filter(O=>O.status!=="delivered"&&O.status!=="collected").length,_=p.length,x=_>0?Math.round(y/_*100):0,T=l.map(O=>{const A=i.filter(B=>B.courierId===O.id).map(B=>B.id),N=a.filter(B=>A.includes(B.lockerId)),k=N.filter(B=>B.status==="delivered"||B.status==="collected").length,V=N.length,Z=V>0?Math.round(k/V*100):0;return{id:O.id,name:O.name,score:k,efficiency:Z}}).sort((O,A)=>A.score-O.score||A.efficiency-O.efficiency).map((O,A)=>({...O,rank:A+1})).slice(0,5);return S.jsxs("div",{children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[S.jsx("h1",{children:"Courier Panel"}),S.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[S.jsx("button",{className:c==="overview"?"primary":"",onClick:()=>f("overview"),children:"Overview"}),S.jsx("button",{className:c==="packages"?"primary":"",onClick:()=>f("packages"),children:"Packages"}),S.jsx("button",{className:c==="map"?"primary":"",onClick:()=>f("map"),children:"Map"})]})]}),c==="overview"&&S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[S.jsxs("div",{className:"card",style:{background:"linear-gradient(135deg, var(--primary) 0%, #FFF59D 100%)",border:"none",padding:"2rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[S.jsxs("div",{children:[S.jsx("h2",{style:{fontSize:"2rem",marginBottom:"0.5rem",color:"#1A1A1A"},children:"Welcome back, Courier!"}),S.jsxs("p",{style:{fontSize:"1.1rem",color:"#333"},children:["You have ",S.jsx("strong",{children:v})," packages pending delivery today."]})]}),S.jsx(Ey,{size:64,color:"#1A1A1A",style:{opacity:.8}})]}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem"},children:[S.jsxs("div",{className:"card",style:{padding:"1.5rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[S.jsx("div",{style:{padding:"0.5rem",borderRadius:"8px",backgroundColor:"#EFF6FF"},children:S.jsx(Cc,{size:24,color:"#2563EB"})}),S.jsx("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Total"})]}),S.jsx("h3",{style:{fontSize:"2rem",margin:"0.5rem 0 0 0"},children:_}),S.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0},children:"All time Assigned"})]}),S.jsxs("div",{className:"card",style:{padding:"1.5rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[S.jsx("div",{style:{padding:"0.5rem",borderRadius:"8px",backgroundColor:"#DCFCE7"},children:S.jsx(oS,{size:24,color:"#16A34A"})}),S.jsx("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Delivered"})]}),S.jsx("h3",{style:{fontSize:"2rem",margin:"0.5rem 0 0 0"},children:y}),S.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0},children:"Completed jobs"})]}),S.jsxs("div",{className:"card",style:{padding:"1.5rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[S.jsx("div",{style:{padding:"0.5rem",borderRadius:"8px",backgroundColor:"#FEF3C7"},children:S.jsx(uS,{size:24,color:"#D97706"})}),S.jsx("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Pending"})]}),S.jsx("h3",{style:{fontSize:"2rem",margin:"0.5rem 0 0 0"},children:v}),S.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0},children:"To be delivered"})]}),S.jsxs("div",{className:"card",style:{padding:"1.5rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[S.jsx("div",{style:{padding:"0.5rem",borderRadius:"8px",backgroundColor:"#F3E8FF"},children:S.jsx(CS,{size:24,color:"#9333EA"})}),S.jsx("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Efficiency"})]}),S.jsxs("h3",{style:{fontSize:"2rem",margin:"0.5rem 0 0 0"},children:[x,"%"]}),S.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0},children:"Completion rate"})]})]}),S.jsxs("div",{className:"card",style:{padding:"1.5rem"},children:[S.jsxs("h3",{style:{marginTop:0,marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[S.jsx(AS,{size:24,color:"#EAB308"}),"Courier Ranking"]}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:T.map(O=>S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.75rem",backgroundColor:O.rank===1?"#FEF9C3":"var(--bg-secondary)",color:O.rank===1?"#1F2937":"inherit",borderRadius:"8px",border:O.rank===1?"1px solid #EAB308":"none"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[S.jsxs("span",{style:{fontWeight:"bold",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",backgroundColor:O.rank<=3?"#fff":"transparent",color:O.rank<=3?"#1F2937":"var(--text-primary)",fontSize:"0.9rem"},children:["#",O.rank]}),S.jsxs("span",{style:{fontWeight:600},children:[O.name," ",O.id===s?.id?"(You)":""]})]}),S.jsxs("div",{style:{display:"flex",gap:"2rem",fontSize:"0.9rem"},children:[S.jsxs("span",{children:[S.jsx("strong",{children:O.score})," pkgs"]}),S.jsxs("span",{style:{color:O.rank===1?"#166534":O.efficiency>95?"var(--success)":"var(--text-secondary)"},children:[O.efficiency,"% eff"]})]})]},O.rank))})]})]}),c==="packages"&&S.jsx(XT,{}),c==="map"&&S.jsx(WT,{})]})}const QT=(a,i,s,l)=>{const f=bc(s-a),p=bc(l-i),y=Math.sin(f/2)*Math.sin(f/2)+Math.cos(bc(a))*Math.cos(bc(s))*Math.sin(p/2)*Math.sin(p/2),_=6371*(2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y)));return Number(_.toFixed(2))};function bc(a){return a*(Math.PI/180)}const qv=(a,i)=>{let s=10;switch(a){case"S":s=10;break;case"M":s=15;break;case"L":s=20;break;default:s=10}const l=i*.03;return Number((s+l).toFixed(2))};function e1(){const{user:a,addPackage:i,lockers:s,checkUserExists:l}=mn(),c=vs(),[f,p]=D.useState(""),[y,v]=D.useState("S"),[_,x]=D.useState(""),[T,O]=D.useState(""),[A,N]=D.useState(10),[k,V]=D.useState(null),[Z,B]=D.useState(null);D.useEffect(()=>{if(_&&T){const se=s.find(ge=>ge.id===_),be=s.find(ge=>ge.id===T);if(se&&be){const ge=QT(se.coordinates[0],se.coordinates[1],be.coordinates[0],be.coordinates[1]),U=qv(y,ge);N(U)}}else N(qv(y,0))},[y,_,T,s]);const G=async se=>{if(se.preventDefault(),B(null),!_||!T){B("Please select both source and destination lockers.");return}if(_===T){B("Source and destination lockers cannot be the same. Please select different lockers.");return}if(!await l(f)){B("Receiver with this email does not exist in our system.");return}const ge="OP"+Math.floor(Math.random()*1e6).toString().padStart(6,"0"),U=Math.floor(Math.random()*9e3+1e3).toString();await i({trackingNumber:ge,pickupCode:U,senderId:a?.id||0,receiverEmail:f,lockerId:_,destinationLockerId:T,size:y,status:"created",history:[]}),V({trackingNumber:ge,pickupCode:U})};return k?S.jsxs("div",{style:{maxWidth:"600px",margin:"2rem auto",textAlign:"center",padding:"2rem",border:"1px solid var(--border)",borderRadius:"12px",background:"var(--bg-secondary)"},children:[S.jsx("h2",{style:{color:"var(--primary)",marginBottom:"1rem"},children:"Package Registered Successfully!"}),S.jsx("p",{children:"Your package is ready to be dropped off."}),S.jsxs("div",{style:{margin:"2rem 0",padding:"1.5rem",background:"var(--bg-main)",borderRadius:"8px",border:"1px dashed var(--text-secondary)"},children:[S.jsx("p",{style:{margin:"0.5rem 0"},children:S.jsx("strong",{children:"Tracking Number:"})}),S.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"bold",margin:"0 0 1rem 0"},children:k.trackingNumber}),S.jsx("p",{style:{margin:"0.5rem 0"},children:S.jsx("strong",{children:"Pickup Code (for Recipient):"})}),S.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"bold",margin:0},children:k.pickupCode})]}),S.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[S.jsx("button",{onClick:()=>c("/client/dashboard"),className:"primary",children:"Go to Dashboard"}),S.jsx("button",{onClick:()=>{V(null),x(""),O(""),p(""),v("S"),B(null)},style:{background:"transparent",border:"1px solid var(--text-main)",color:"var(--text-main)"},children:"Send Another"})]})]}):S.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[S.jsxs("div",{style:{order:2},children:[S.jsx("h2",{style:{marginBottom:"1rem"},children:"Select Lockers on Map"}),S.jsx("div",{style:{height:"500px",width:"100%"},children:S.jsx(qc,{lockers:s,onSelectSource:x,onSelectDestination:O})}),S.jsx("div",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"var(--text-secondary)"},children:S.jsx("p",{children:"Click on a locker pin to select it as Source or Destination."})})]}),S.jsxs("div",{style:{order:1},children:[S.jsx("h2",{style:{marginBottom:"1.5rem"},children:"Send a Package"}),S.jsxs("form",{onSubmit:G,className:"card",style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[Z&&S.jsx("div",{style:{padding:"1rem",backgroundColor:"rgba(255, 0, 0, 0.1)",border:"1px solid red",borderRadius:"8px",color:"red",fontWeight:"bold"},children:Z}),S.jsxs("div",{children:[S.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Receiver Email"}),S.jsx("input",{type:"email",value:f,onChange:se=>p(se.target.value),required:!0,placeholder:"recipient@example.com",style:{width:"100%",padding:"0.8rem"}})]}),S.jsxs("div",{children:[S.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Package Size"}),S.jsx("div",{style:{display:"flex",gap:"1rem"},children:["S","M","L"].map(se=>S.jsx("button",{type:"button",onClick:()=>v(se),style:{flex:1,backgroundColor:y===se?"var(--primary)":"var(--bg-secondary)",color:y===se?"#000":"var(--text-main)",fontWeight:"bold"},children:se},se))})]}),S.jsxs("div",{children:[S.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Source Locker (Drop-off)"}),S.jsxs("select",{value:_,onChange:se=>x(se.target.value),required:!0,style:{width:"100%",padding:"0.8rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--bg-main)",color:"var(--text-main)"},children:[S.jsx("option",{value:"",children:"-- Select Source Locker --"}),s.map(se=>S.jsxs("option",{value:se.id,children:[se.location_name," (",se.address,")"]},se.id))]})]}),S.jsxs("div",{children:[S.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Destination Locker"}),S.jsxs("select",{value:T,onChange:se=>O(se.target.value),required:!0,style:{width:"100%",padding:"0.8rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--bg-main)",color:"var(--text-main)"},children:[S.jsx("option",{value:"",children:"-- Select Destination Locker --"}),s.map(se=>S.jsxs("option",{value:se.id,children:[se.location_name," (",se.address,")"]},se.id))]})]}),S.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"var(--bg-secondary)",borderRadius:"8px"},children:[S.jsxs("p",{style:{margin:0,fontSize:"1.2rem"},children:[S.jsx("strong",{children:"Estimated Cost:"})," ",A.toFixed(2)," PLN"]}),S.jsxs("small",{style:{color:"var(--text-secondary)"},children:["Size ",y," + Distance Fee"]})]}),S.jsx("button",{type:"submit",className:"primary",style:{padding:"1rem",fontSize:"1.1rem"},children:"Generate Label & Send"})]})]})]})}function t1(){const{packages:a,updatePackageStatus:i}=mn(),[s,l]=D.useState(""),[c,f]=D.useState(""),p=y=>{y.preventDefault();const v=a.find(_=>_.pickupCode===s&&_.status==="delivered");v?(i(v.id,"collected"),f(`Success! Package ${v.trackingNumber} collected.`),l("")):f("Invalid code or package not ready for pickup.")};return S.jsxs("div",{className:"card",style:{maxWidth:"400px",margin:"0 auto",textAlign:"center"},children:[S.jsx("h2",{children:"Receive Package"}),S.jsx("p",{children:"Enter your 4-digit pickup code"}),S.jsxs("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsx("input",{type:"text",maxLength:4,placeholder:"XXXX",style:{fontSize:"2rem",textAlign:"center",letterSpacing:"0.5rem"},value:s,onChange:y=>l(y.target.value)}),S.jsx("button",{type:"submit",className:"primary",children:"Open Locker"})]}),c&&S.jsx("p",{style:{marginTop:"1rem",fontWeight:"bold"},children:c})]})}function n1(){const{packages:a,lockers:i}=mn(),[s,l]=D.useState(""),[c,f]=D.useState(null),[p,y]=D.useState([]),v=_=>{_.preventDefault();const x=a.find(T=>T.trackingNumber===s);f(x||null)};return D.useEffect(()=>{if(!c){y([]);return}const _=i.find(T=>T.id===c.lockerId),x=i.find(T=>T.id===c.destinationLockerId);if(_)if(c.status==="created"||c.status==="picked_up")y([_]);else if(c.status==="in_transit")if(_&&x){const T=.2+Math.random()*.6,O=_.coordinates[0]+(x.coordinates[0]-_.coordinates[0])*T,A=_.coordinates[1]+(x.coordinates[1]-_.coordinates[1])*T;y([{id:"in-transit",location_name:"In Transit",address:`On the way to ${x.location_name}`,coordinates:[O,A],small_slots:0,medium_slots:0,large_slots:0}])}else y([_]);else c.status==="delivered"||c.status==="collected"?x&&y([x]):y([_])},[c,i]),S.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[S.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[S.jsx("h2",{children:"Track Package"}),S.jsxs("form",{onSubmit:v,style:{display:"flex",gap:"1rem"},children:[S.jsx("input",{value:s,onChange:_=>l(_.target.value),placeholder:"Enter tracking number (e.g. TRK-001-...)",style:{flex:1}}),S.jsx("button",{type:"submit",className:"primary",children:"Track"})]})]}),c&&S.jsxs("div",{className:"card",children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[S.jsxs("div",{children:[S.jsxs("h3",{style:{margin:0},children:["Status: ",c.status.replace("_"," ").toUpperCase()]}),S.jsxs("p",{style:{margin:"0.5rem 0 0",color:"var(--text-secondary)"},children:["From: ",c.lockerId,"  To: ",c.destinationLockerId]})]}),S.jsxs("div",{style:{textAlign:"right"},children:[S.jsx("span",{style:{display:"block",fontWeight:"bold",fontSize:"1.2rem"},children:c.pickupCode}),S.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Pickup Code"})]})]}),S.jsx("div",{style:{height:"400px",borderRadius:"8px",overflow:"hidden",border:"1px solid var(--border)"},children:p.length>0?S.jsx(qc,{lockers:p}):S.jsx("p",{style:{textAlign:"center",padding:"2rem"},children:"Location details unavailable."})})]})]})}function i1(){const{user:a,packages:i}=mn(),s=i.filter(l=>l.receiverEmail===(a?.email||"client@example.com")||l.senderId===(a?.id||"u1"));return S.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[S.jsx("h1",{children:"Package History"}),S.jsx("div",{className:"card",children:s.length===0?S.jsx("p",{children:"No history available."}):S.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[S.jsx("thead",{children:S.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid var(--border)"},children:[S.jsx("th",{style:{padding:"1rem"},children:"Tracking #"}),S.jsx("th",{style:{padding:"1rem"},children:"Status"}),S.jsx("th",{style:{padding:"1rem"},children:"Last Update"})]})}),S.jsx("tbody",{children:s.map(l=>S.jsxs("tr",{style:{borderBottom:"1px solid var(--border)"},children:[S.jsx("td",{style:{padding:"1rem"},children:l.trackingNumber}),S.jsx("td",{style:{padding:"1rem"},children:S.jsx("span",{style:{padding:"4px 8px",borderRadius:"12px",backgroundColor:"var(--bg-main)",border:"1px solid var(--border)"},children:l.status})}),S.jsx("td",{style:{padding:"1rem"},children:new Date(l.history[l.history.length-1].timestamp).toLocaleDateString()})]},l.id))})]})})]})}function a1(){const{user:a,submitIssueReport:i}=mn(),[s,l]=D.useState("damage"),[c,f]=D.useState(""),[p,y]=D.useState(""),[v,_]=D.useState(null),[x,T]=D.useState(5),[O,A]=D.useState(""),N=async Z=>{if(Z.preventDefault(),_(null),!a){_({type:"error",text:"You must be logged in to submit a report."});return}await i({userId:a.id,trackingNumber:c,issueType:s,description:p})?(_({type:"success",text:`Report Submitted successfully for ${c}.`}),V()):_({type:"error",text:"Failed to submit report. Please try again."})},k=Z=>{Z.preventDefault(),alert(`Rating Submitted: ${x}/5`),A(""),T(5)},V=()=>{f(""),y(""),l("damage")};return S.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",display:"grid",gap:"2rem"},children:[S.jsx("h1",{children:"Support Center"}),S.jsxs("div",{className:"card",children:[S.jsx("h2",{children:"Report an Issue"}),v&&S.jsx("div",{style:{padding:"1rem",marginBottom:"1rem",borderRadius:"8px",backgroundColor:v.type==="success"?"#d4edda":"#f8d7da",color:v.type==="success"?"#155724":"#721c24",border:`1px solid ${v.type==="success"?"#c3e6cb":"#f5c6cb"}`},children:v.text}),S.jsxs("form",{onSubmit:N,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsxs("label",{children:["Issue Type",S.jsxs("select",{value:s,onChange:Z=>l(Z.target.value),children:[S.jsx("option",{value:"damage",children:"Package Damaged"}),S.jsx("option",{value:"lost",children:"Package Lost"}),S.jsx("option",{value:"delay",children:"Delay Complaint"})]})]}),S.jsxs("label",{children:["Tracking Number",S.jsx("input",{value:c,onChange:Z=>f(Z.target.value),placeholder:"OUT-XXXX",required:!0})]}),S.jsxs("label",{children:["Description",S.jsx("textarea",{value:p,onChange:Z=>y(Z.target.value),rows:4})]}),S.jsx("button",{type:"submit",style:{backgroundColor:"var(--error)",color:"white"},children:"Submit Report"})]})]}),S.jsxs("div",{className:"card",children:[S.jsx("h2",{children:"Rate Our Service"}),S.jsxs("form",{onSubmit:k,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsx("div",{style:{display:"flex",gap:"1rem",fontSize:"2rem"},children:[1,2,3,4,5].map(Z=>S.jsx("span",{style:{cursor:"pointer",color:Z<=x?"var(--primary)":"gray"},onClick:()=>T(Z),children:""},Z))}),S.jsx("textarea",{placeholder:"Tell us what you think...",value:O,onChange:Z=>A(Z.target.value)}),S.jsx("button",{type:"submit",className:"primary",children:"Submit Rating"})]})]})]})}function r1(){const[a,i]=D.useState({name:"",email:"",password:""}),[s,l]=D.useState(""),[c,f]=D.useState(""),p=mn(v=>v.register),y=async v=>{v.preventDefault(),l(""),await p(a.name,a.email,a.password,"client")?(f("Registration successful! You can now login."),i({name:"",email:"",password:""})):l("Registration failed. Try again.")};return c?S.jsxs("div",{style:{maxWidth:"400px",margin:"0 auto",textAlign:"center"},children:[S.jsx("h2",{children:"Client Registration"}),S.jsxs("div",{className:"card",style:{padding:"2rem"},children:[S.jsx("div",{style:{color:"var(--success)",marginBottom:"1rem",fontWeight:"bold"},children:c}),S.jsx(Bn,{to:"/client/login",children:S.jsx("button",{className:"primary",children:"Go to Login"})})]})]}):S.jsxs("div",{style:{maxWidth:"400px",margin:"0 auto",textAlign:"center"},children:[S.jsx("h2",{children:"Client Registration"}),s&&S.jsx("div",{style:{color:"var(--error)",marginBottom:"1rem"},children:s}),S.jsxs("form",{onSubmit:y,className:"card",style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsx("input",{type:"text",placeholder:"Full Name",value:a.name,onChange:v=>i({...a,name:v.target.value}),required:!0}),S.jsx("input",{type:"email",placeholder:"Email Address",value:a.email,onChange:v=>i({...a,email:v.target.value}),required:!0}),S.jsx("input",{type:"password",placeholder:"Password",value:a.password,onChange:v=>i({...a,password:v.target.value}),required:!0}),S.jsx("button",{type:"submit",className:"primary",children:"Register"})]}),S.jsxs("p",{style:{marginTop:"1rem"},children:["Already have an account? ",S.jsx(Bn,{to:"/client/login",children:"Login here"})]})]})}function Zv(){const{user:a,updateUser:i}=mn(),s=vs(),[l,c]=D.useState(a?.name||""),[f,p]=D.useState(""),[y,v]=D.useState(""),[_,x]=D.useState(null),T=async O=>{if(O.preventDefault(),x(null),!a)return;if(f&&f!==y){x({type:"error",text:"Passwords do not match"});return}const A={};if(l!==a.name&&(A.name=l),f&&(A.password=f),Object.keys(A).length===0){x({type:"error",text:"No changes detected"});return}await i(a.id,A)?(x({type:"success",text:"Profile updated successfully!"}),p(""),v("")):x({type:"error",text:"Failed to update profile."})};return S.jsxs("div",{style:{maxWidth:"600px",margin:"2rem auto"},children:[S.jsxs("button",{onClick:()=>s(a?.role==="courier"?"/courier/dashboard":"/client/dashboard"),style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text-secondary)",cursor:"pointer",marginBottom:"1rem",padding:0},children:[S.jsx(xy,{size:20}),"Back to Dashboard"]}),S.jsxs("div",{className:"card",style:{padding:"2rem"},children:[S.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:0},children:[S.jsx(pv,{size:24}),"Account Settings"]}),_&&S.jsx("div",{style:{padding:"1rem",borderRadius:"8px",marginBottom:"1rem",backgroundColor:_.type==="success"?"#DEF7EC":"#FDE8E8",color:_.type==="success"?"#03543F":"#9B1C1C",border:`1px solid ${_.type==="success"?"#84E1BC":"#F8B4B4"}`},children:_.text}),S.jsxs("form",{onSubmit:T,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[S.jsxs("div",{children:[S.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Full Name"}),S.jsxs("div",{style:{position:"relative"},children:[S.jsx(pv,{size:20,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"}}),S.jsx("input",{type:"text",value:l,onChange:O=>c(O.target.value),style:{width:"100%",paddingLeft:"40px"},required:!0})]})]}),S.jsxs("div",{style:{borderTop:"1px solid var(--border)",paddingTop:"1.5rem"},children:[S.jsx("h3",{style:{fontSize:"1.1rem",marginTop:0,marginBottom:"1rem"},children:"Change Password"}),S.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",marginBottom:"1rem"},children:"Leave blank if you don't want to change it."}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[S.jsxs("div",{children:[S.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"New Password"}),S.jsxs("div",{style:{position:"relative"},children:[S.jsx(fv,{size:20,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"}}),S.jsx("input",{type:"password",value:f,onChange:O=>p(O.target.value),style:{width:"100%",paddingLeft:"40px"},placeholder:"Enter new password"})]})]}),S.jsxs("div",{children:[S.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Confirm New Password"}),S.jsxs("div",{style:{position:"relative"},children:[S.jsx(fv,{size:20,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"}}),S.jsx("input",{type:"password",value:y,onChange:O=>v(O.target.value),style:{width:"100%",paddingLeft:"40px"},placeholder:"Confirm new password"})]})]})]})]}),S.jsxs("button",{type:"submit",className:"primary",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginTop:"1rem"},children:[S.jsx(vS,{size:20}),"Save Changes"]})]})]})]})}const s1=()=>S.jsx("div",{children:"Courier Feature Coming Soon"}),o1=Mw([{path:"/",element:S.jsx(bT,{}),children:[{index:!0,element:S.jsx(wT,{})},{path:"client/login",element:S.jsx(ST,{})},{path:"client/register",element:S.jsx(r1,{})},{path:"client/dashboard",element:S.jsx(ia,{requiredRole:"client",redirectPath:"/client/login",children:S.jsx(xT,{})})},{path:"client/send",element:S.jsx(ia,{requiredRole:"client",redirectPath:"/client/login",children:S.jsx(e1,{})})},{path:"client/receive",element:S.jsx(ia,{requiredRole:"client",redirectPath:"/client/login",children:S.jsx(t1,{})})},{path:"client/track",element:S.jsx(ia,{requiredRole:"client",redirectPath:"/client/login",children:S.jsx(n1,{})})},{path:"client/history",element:S.jsx(ia,{requiredRole:"client",redirectPath:"/client/login",children:S.jsx(i1,{})})},{path:"client/support",element:S.jsx(ia,{requiredRole:"client",redirectPath:"/client/login",children:S.jsx(a1,{})})},{path:"client/settings",element:S.jsx(ia,{requiredRole:"client",redirectPath:"/client/login",children:S.jsx(Zv,{})})},{path:"courier/login",element:S.jsx(ET,{})},{path:"courier/dashboard",element:S.jsx(ia,{requiredRole:"courier",redirectPath:"/courier/login",children:S.jsx(JT,{})})},{path:"courier/map",element:S.jsx(ia,{requiredRole:"courier",redirectPath:"/courier/login",children:S.jsx(s1,{})})},{path:"courier/settings",element:S.jsx(ia,{requiredRole:"courier",redirectPath:"/courier/login",children:S.jsx(Zv,{})})}]}],{basename:"/OutPost/"});function l1(){const{user:a,fetchData:i}=mn();return D.useEffect(()=>{a&&i()},[a]),S.jsx($w,{router:o1})}b0.createRoot(document.getElementById("root")).render(S.jsx(D.StrictMode,{children:S.jsx(l1,{})}));
